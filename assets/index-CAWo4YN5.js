(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ei(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Em={exports:{}},Cl={},Fm={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),_v=Symbol.for("react.portal"),xv=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),Sv=Symbol.for("react.profiler"),Iv=Symbol.for("react.provider"),Ev=Symbol.for("react.context"),Fv=Symbol.for("react.forward_ref"),Nv=Symbol.for("react.suspense"),Cv=Symbol.for("react.memo"),Av=Symbol.for("react.lazy"),Yf=Symbol.iterator;function Tv(e){return e===null||typeof e!="object"?null:(e=Yf&&e[Yf]||e["@@iterator"],typeof e=="function"?e:null)}var Nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cm=Object.assign,Am={};function Fi(e,t,n){this.props=e,this.context=t,this.refs=Am,this.updater=n||Nm}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tm(){}Tm.prototype=Fi.prototype;function vc(e,t,n){this.props=e,this.context=t,this.refs=Am,this.updater=n||Nm}var wc=vc.prototype=new Tm;wc.constructor=vc;Cm(wc,Fi.prototype);wc.isPureReactComponent=!0;var Kf=Array.isArray,Om=Object.prototype.hasOwnProperty,_c={current:null},Rm={key:!0,ref:!0,__self:!0,__source:!0};function Pm(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Om.call(t,r)&&!Rm.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:La,type:e,key:a,ref:o,props:i,_owner:_c.current}}function Ov(e,t){return{$$typeof:La,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xc(e){return typeof e=="object"&&e!==null&&e.$$typeof===La}function Rv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zf=/\/+/g;function os(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rv(""+e.key):t.toString(36)}function Io(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case La:case _v:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+os(o,0):r,Kf(i)?(n="",e!=null&&(n=e.replace(Zf,"$&/")+"/"),Io(i,t,n,"",function(u){return u})):i!=null&&(xc(i)&&(i=Ov(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Zf,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Kf(e))for(var l=0;l<e.length;l++){a=e[l];var s=r+os(a,l);o+=Io(a,t,n,s,i)}else if(s=Tv(e),typeof s=="function")for(e=s.call(e),l=0;!(a=e.next()).done;)a=a.value,s=r+os(a,l++),o+=Io(a,t,n,s,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ka(e,t,n){if(e==null)return e;var r=[],i=0;return Io(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Pv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},Eo={transition:null},Mv={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:_c};function Mm(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Ka,forEach:function(e,t,n){Ka(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ka(e,function(){t++}),t},toArray:function(e){return Ka(e,function(t){return t})||[]},only:function(e){if(!xc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=Fi;ve.Fragment=xv;ve.Profiler=Sv;ve.PureComponent=vc;ve.StrictMode=kv;ve.Suspense=Nv;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;ve.act=Mm;ve.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cm({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=_c.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(s in t)Om.call(t,s)&&!Rm.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&l!==void 0?l[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){l=Array(s);for(var u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:La,type:e.type,key:i,ref:a,props:r,_owner:o}};ve.createContext=function(e){return e={$$typeof:Ev,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Iv,_context:e},e.Consumer=e};ve.createElement=Pm;ve.createFactory=function(e){var t=Pm.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:Fv,render:e}};ve.isValidElement=xc;ve.lazy=function(e){return{$$typeof:Av,_payload:{_status:-1,_result:e},_init:Pv}};ve.memo=function(e,t){return{$$typeof:Cv,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=Eo.transition;Eo.transition={};try{e()}finally{Eo.transition=t}};ve.unstable_act=Mm;ve.useCallback=function(e,t){return ut.current.useCallback(e,t)};ve.useContext=function(e){return ut.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};ve.useEffect=function(e,t){return ut.current.useEffect(e,t)};ve.useId=function(){return ut.current.useId()};ve.useImperativeHandle=function(e,t,n){return ut.current.useImperativeHandle(e,t,n)};ve.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return ut.current.useMemo(e,t)};ve.useReducer=function(e,t,n){return ut.current.useReducer(e,t,n)};ve.useRef=function(e){return ut.current.useRef(e)};ve.useState=function(e){return ut.current.useState(e)};ve.useSyncExternalStore=function(e,t,n){return ut.current.useSyncExternalStore(e,t,n)};ve.useTransition=function(){return ut.current.useTransition()};ve.version="18.3.1";Fm.exports=ve;var E=Fm.exports;const X=Ei(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv=E,zv=Symbol.for("react.element"),Lv=Symbol.for("react.fragment"),$v=Object.prototype.hasOwnProperty,Uv=Dv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jv={key:!0,ref:!0,__self:!0,__source:!0};function Dm(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)$v.call(t,r)&&!jv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:zv,type:e,key:a,ref:o,props:i,_owner:Uv.current}}Cl.Fragment=Lv;Cl.jsx=Dm;Cl.jsxs=Dm;Em.exports=Cl;var M=Em.exports,Qs={},zm={exports:{}},St={},Lm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,k){var B=O.length;O.push(k);e:for(;0<B;){var P=B-1>>>1,D=O[P];if(0<i(D,k))O[P]=k,O[B]=D,B=P;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var k=O[0],B=O.pop();if(B!==k){O[0]=B;e:for(var P=0,D=O.length,Z=D>>>1;P<Z;){var G=2*(P+1)-1,K=O[G],ae=G+1,ue=O[ae];if(0>i(K,B))ae<D&&0>i(ue,K)?(O[P]=ue,O[ae]=B,P=ae):(O[P]=K,O[G]=B,P=G);else if(ae<D&&0>i(ue,B))O[P]=ue,O[ae]=B,P=ae;else break e}}return k}function i(O,k){var B=O.sortIndex-k.sortIndex;return B!==0?B:O.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],u=[],c=1,f=null,d=3,p=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(O){for(var k=n(u);k!==null;){if(k.callback===null)r(u);else if(k.startTime<=O)r(u),k.sortIndex=k.expirationTime,t(s,k);else break;k=n(u)}}function x(O){if(y=!1,v(O),!b)if(n(s)!==null)b=!0,U(S);else{var k=n(u);k!==null&&$(x,k.startTime-O)}}function S(O,k){b=!1,y&&(y=!1,m(L),L=-1),p=!0;var B=d;try{for(v(k),f=n(s);f!==null&&(!(f.expirationTime>k)||O&&!H());){var P=f.callback;if(typeof P=="function"){f.callback=null,d=f.priorityLevel;var D=P(f.expirationTime<=k);k=e.unstable_now(),typeof D=="function"?f.callback=D:f===n(s)&&r(s),v(k)}else r(s);f=n(s)}if(f!==null)var Z=!0;else{var G=n(u);G!==null&&$(x,G.startTime-k),Z=!1}return Z}finally{f=null,d=B,p=!1}}var T=!1,I=null,L=-1,N=5,j=-1;function H(){return!(e.unstable_now()-j<N)}function C(){if(I!==null){var O=e.unstable_now();j=O;var k=!0;try{k=I(!0,O)}finally{k?R():(T=!1,I=null)}}else T=!1}var R;if(typeof h=="function")R=function(){h(C)};else if(typeof MessageChannel<"u"){var g=new MessageChannel,A=g.port2;g.port1.onmessage=C,R=function(){A.postMessage(null)}}else R=function(){w(C,0)};function U(O){I=O,T||(T=!0,R())}function $(O,k){L=w(function(){O(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,U(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(O){switch(d){case 1:case 2:case 3:var k=3;break;default:k=d}var B=d;d=k;try{return O()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,k){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=d;d=O;try{return k()}finally{d=B}},e.unstable_scheduleCallback=function(O,k,B){var P=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?P+B:P):B=P,O){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=B+D,O={id:c++,callback:k,priorityLevel:O,startTime:B,expirationTime:D,sortIndex:-1},B>P?(O.sortIndex=B,t(u,O),n(s)===null&&O===n(u)&&(y?(m(L),L=-1):y=!0,$(x,B-P))):(O.sortIndex=D,t(s,O),b||p||(b=!0,U(S))),O},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(O){var k=d;return function(){var B=d;d=k;try{return O.apply(this,arguments)}finally{d=B}}}})($m);Lm.exports=$m;var Bv=Lm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv=E,xt=Bv;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Um=new Set,ua={};function Cr(e,t){di(e,t),di(e+"Capture",t)}function di(e,t){for(ua[e]=t,e=0;e<t.length;e++)Um.add(t[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=Object.prototype.hasOwnProperty,Hv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xf={},Qf={};function Vv(e){return Js.call(Qf,e)?!0:Js.call(Xf,e)?!1:Hv.test(e)?Qf[e]=!0:(Xf[e]=!0,!1)}function qv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gv(e,t,n,r){if(t===null||typeof t>"u"||qv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ct(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Je[e]=new ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Je[t]=new ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Je[e]=new ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Je[e]=new ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Je[e]=new ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Je[e]=new ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Je[e]=new ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Je[e]=new ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Je[e]=new ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function Sc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(kc,Sc);Je[t]=new ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(kc,Sc);Je[t]=new ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(kc,Sc);Je[t]=new ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Je[e]=new ct(e,1,!1,e.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Je[e]=new ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ic(e,t,n,r){var i=Je.hasOwnProperty(t)?Je[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gv(t,n,i,r)&&(n=null),r||i===null?Vv(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var In=Wv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),Br=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),Ec=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),Bm=Symbol.for("react.context"),Fc=Symbol.for("react.forward_ref"),tu=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),Nc=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),Wm=Symbol.for("react.offscreen"),Jf=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=Jf&&e[Jf]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,ls;function Vi(e){if(ls===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ls=t&&t[1]||""}return`
`+ls+e}var ss=!1;function us(e,t){if(!e||ss)return"";ss=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var s=`
`+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=o&&0<=l);break}}}finally{ss=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vi(e):""}function Yv(e){switch(e.tag){case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 2:case 15:return e=us(e.type,!1),e;case 11:return e=us(e.type.render,!1),e;case 1:return e=us(e.type,!0),e;default:return""}}function ru(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Br:return"Portal";case eu:return"Profiler";case Ec:return"StrictMode";case tu:return"Suspense";case nu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Bm:return(e.displayName||"Context")+".Consumer";case jm:return(e._context.displayName||"Context")+".Provider";case Fc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nc:return t=e.displayName||null,t!==null?t:ru(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return ru(e(t))}catch{}}return null}function Kv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ru(t);case 8:return t===Ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zv(e){var t=Hm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xa(e){e._valueTracker||(e._valueTracker=Zv(e))}function Vm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function iu(e,t){var n=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ep(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qm(e,t){t=t.checked,t!=null&&Ic(e,"checked",t,!1)}function au(e,t){qm(e,t);var n=Xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ou(e,t.type,n):t.hasOwnProperty("defaultValue")&&ou(e,t.type,Xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ou(e,t,n){(t!=="number"||jo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qi=Array.isArray;function ii(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function np(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(qi(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xn(n)}}function Gm(e,t){var n=Xn(t.value),r=Xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function rp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ym(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function su(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ym(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qa,Km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xv=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(e){Xv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ea[t]=ea[e]})});function Zm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ea.hasOwnProperty(e)&&ea[e]?(""+t).trim():t+"px"}function Xm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Qv=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uu(e,t){if(t){if(Qv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function cu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=null;function Cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pu=null,ai=null,oi=null;function ip(e){if(e=ja(e)){if(typeof pu!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Pl(t),pu(e.stateNode,e.type,t))}}function Qm(e){ai?oi?oi.push(e):oi=[e]:ai=e}function Jm(){if(ai){var e=ai,t=oi;if(oi=ai=null,ip(e),t)for(e=0;e<t.length;e++)ip(t[e])}}function eg(e,t){return e(t)}function tg(){}var cs=!1;function ng(e,t,n){if(cs)return e(t,n);cs=!0;try{return eg(e,t,n)}finally{cs=!1,(ai!==null||oi!==null)&&(tg(),Jm())}}function fa(e,t){var n=e.stateNode;if(n===null)return null;var r=Pl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var du=!1;if(yn)try{var Ri={};Object.defineProperty(Ri,"passive",{get:function(){du=!0}}),window.addEventListener("test",Ri,Ri),window.removeEventListener("test",Ri,Ri)}catch{du=!1}function Jv(e,t,n,r,i,a,o,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ta=!1,Bo=null,Wo=!1,mu=null,ew={onError:function(e){ta=!0,Bo=e}};function tw(e,t,n,r,i,a,o,l,s){ta=!1,Bo=null,Jv.apply(ew,arguments)}function nw(e,t,n,r,i,a,o,l,s){if(tw.apply(this,arguments),ta){if(ta){var u=Bo;ta=!1,Bo=null}else throw Error(ne(198));Wo||(Wo=!0,mu=u)}}function Ar(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ap(e){if(Ar(e)!==e)throw Error(ne(188))}function rw(e){var t=e.alternate;if(!t){if(t=Ar(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ap(i),e;if(a===r)return ap(i),t;a=a.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function ig(e){return e=rw(e),e!==null?ag(e):null}function ag(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ag(e);if(t!==null)return t;e=e.sibling}return null}var og=xt.unstable_scheduleCallback,op=xt.unstable_cancelCallback,iw=xt.unstable_shouldYield,aw=xt.unstable_requestPaint,ze=xt.unstable_now,ow=xt.unstable_getCurrentPriorityLevel,Ac=xt.unstable_ImmediatePriority,lg=xt.unstable_UserBlockingPriority,Ho=xt.unstable_NormalPriority,lw=xt.unstable_LowPriority,sg=xt.unstable_IdlePriority,Al=null,en=null;function sw(e){if(en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:fw,uw=Math.log,cw=Math.LN2;function fw(e){return e>>>=0,e===0?32:31-(uw(e)/cw|0)|0}var Ja=64,eo=4194304;function Gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Gi(l):(a&=o,a!==0&&(r=Gi(a)))}else o=n&~i,o!==0?r=Gi(o):a!==0&&(r=Gi(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qt(t),i=1<<n,r|=e[n],t&=~i;return r}function pw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dw(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-qt(a),l=1<<o,s=i[o];s===-1?(!(l&n)||l&r)&&(i[o]=pw(l,t)):s<=t&&(e.expiredLanes|=l),a&=~l}}function gu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ug(){var e=Ja;return Ja<<=1,!(Ja&4194240)&&(Ja=64),e}function fs(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $a(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qt(t),e[t]=n}function mw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Tc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function cg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fg,Oc,pg,dg,mg,hu=!1,to=[],jn=null,Bn=null,Wn=null,pa=new Map,da=new Map,Mn=[],gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lp(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":pa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(t.pointerId)}}function Pi(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ja(t),t!==null&&Oc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function hw(e,t,n,r,i){switch(t){case"focusin":return jn=Pi(jn,e,t,n,r,i),!0;case"dragenter":return Bn=Pi(Bn,e,t,n,r,i),!0;case"mouseover":return Wn=Pi(Wn,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return pa.set(a,Pi(pa.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,da.set(a,Pi(da.get(a)||null,e,t,n,r,i)),!0}return!1}function gg(e){var t=fr(e.target);if(t!==null){var n=Ar(t);if(n!==null){if(t=n.tag,t===13){if(t=rg(n),t!==null){e.blockedOn=t,mg(e.priority,function(){pg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);fu=r,n.target.dispatchEvent(r),fu=null}else return t=ja(n),t!==null&&Oc(t),e.blockedOn=n,!1;t.shift()}return!0}function sp(e,t,n){Fo(e)&&n.delete(t)}function yw(){hu=!1,jn!==null&&Fo(jn)&&(jn=null),Bn!==null&&Fo(Bn)&&(Bn=null),Wn!==null&&Fo(Wn)&&(Wn=null),pa.forEach(sp),da.forEach(sp)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,hu||(hu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,yw)))}function ma(e){function t(i){return Mi(i,e)}if(0<to.length){Mi(to[0],e);for(var n=1;n<to.length;n++){var r=to[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jn!==null&&Mi(jn,e),Bn!==null&&Mi(Bn,e),Wn!==null&&Mi(Wn,e),pa.forEach(t),da.forEach(t),n=0;n<Mn.length;n++)r=Mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mn.length&&(n=Mn[0],n.blockedOn===null);)gg(n),n.blockedOn===null&&Mn.shift()}var li=In.ReactCurrentBatchConfig,qo=!0;function bw(e,t,n,r){var i=Se,a=li.transition;li.transition=null;try{Se=1,Rc(e,t,n,r)}finally{Se=i,li.transition=a}}function vw(e,t,n,r){var i=Se,a=li.transition;li.transition=null;try{Se=4,Rc(e,t,n,r)}finally{Se=i,li.transition=a}}function Rc(e,t,n,r){if(qo){var i=yu(e,t,n,r);if(i===null)_s(e,t,r,Go,n),lp(e,r);else if(hw(i,e,t,n,r))r.stopPropagation();else if(lp(e,r),t&4&&-1<gw.indexOf(e)){for(;i!==null;){var a=ja(i);if(a!==null&&fg(a),a=yu(e,t,n,r),a===null&&_s(e,t,r,Go,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else _s(e,t,r,null,n)}}var Go=null;function yu(e,t,n,r){if(Go=null,e=Cc(r),e=fr(e),e!==null)if(t=Ar(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Go=e,null}function hg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ow()){case Ac:return 1;case lg:return 4;case Ho:case lw:return 16;case sg:return 536870912;default:return 16}default:return 16}}var Ln=null,Pc=null,No=null;function yg(){if(No)return No;var e,t=Pc,n=t.length,r,i="value"in Ln?Ln.value:Ln.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return No=i.slice(e,1<r?1-r:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function no(){return!0}function up(){return!1}function It(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?no:up,this.isPropagationStopped=up,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),t}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=It(Ni),Ua=Re({},Ni,{view:0,detail:0}),ww=It(Ua),ps,ds,Di,Tl=Re({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(ps=e.screenX-Di.screenX,ds=e.screenY-Di.screenY):ds=ps=0,Di=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ds}}),cp=It(Tl),_w=Re({},Tl,{dataTransfer:0}),xw=It(_w),kw=Re({},Ua,{relatedTarget:0}),ms=It(kw),Sw=Re({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Iw=It(Sw),Ew=Re({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fw=It(Ew),Nw=Re({},Ni,{data:0}),fp=It(Nw),Cw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ow(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tw[e])?!!t[e]:!1}function Dc(){return Ow}var Rw=Re({},Ua,{key:function(e){if(e.key){var t=Cw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Aw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dc,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pw=It(Rw),Mw=Re({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=It(Mw),Dw=Re({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dc}),zw=It(Dw),Lw=Re({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),$w=It(Lw),Uw=Re({},Tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jw=It(Uw),Bw=[9,13,27,32],zc=yn&&"CompositionEvent"in window,na=null;yn&&"documentMode"in document&&(na=document.documentMode);var Ww=yn&&"TextEvent"in window&&!na,bg=yn&&(!zc||na&&8<na&&11>=na),dp=" ",mp=!1;function vg(e,t){switch(e){case"keyup":return Bw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hr=!1;function Hw(e,t){switch(e){case"compositionend":return wg(t);case"keypress":return t.which!==32?null:(mp=!0,dp);case"textInput":return e=t.data,e===dp&&mp?null:e;default:return null}}function Vw(e,t){if(Hr)return e==="compositionend"||!zc&&vg(e,t)?(e=yg(),No=Pc=Ln=null,Hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bg&&t.locale!=="ko"?null:t.data;default:return null}}var qw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qw[e.type]:t==="textarea"}function _g(e,t,n,r){Qm(r),t=Yo(t,"onChange"),0<t.length&&(n=new Mc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ra=null,ga=null;function Gw(e){Og(e,0)}function Ol(e){var t=Gr(e);if(Vm(t))return e}function Yw(e,t){if(e==="change")return t}var xg=!1;if(yn){var gs;if(yn){var hs="oninput"in document;if(!hs){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),hs=typeof hp.oninput=="function"}gs=hs}else gs=!1;xg=gs&&(!document.documentMode||9<document.documentMode)}function yp(){ra&&(ra.detachEvent("onpropertychange",kg),ga=ra=null)}function kg(e){if(e.propertyName==="value"&&Ol(ga)){var t=[];_g(t,ga,e,Cc(e)),ng(Gw,t)}}function Kw(e,t,n){e==="focusin"?(yp(),ra=t,ga=n,ra.attachEvent("onpropertychange",kg)):e==="focusout"&&yp()}function Zw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ol(ga)}function Xw(e,t){if(e==="click")return Ol(t)}function Qw(e,t){if(e==="input"||e==="change")return Ol(t)}function Jw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Jw;function ha(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Js.call(t,i)||!Kt(e[i],t[i]))return!1}return!0}function bp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,t){var n=bp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bp(n)}}function Sg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ig(){for(var e=window,t=jo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jo(e.document)}return t}function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e_(e){var t=Ig(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Sg(n.ownerDocument.documentElement,n)){if(r!==null&&Lc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=vp(n,a);var o=vp(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t_=yn&&"documentMode"in document&&11>=document.documentMode,Vr=null,bu=null,ia=null,vu=!1;function wp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vu||Vr==null||Vr!==jo(r)||(r=Vr,"selectionStart"in r&&Lc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ia&&ha(ia,r)||(ia=r,r=Yo(bu,"onSelect"),0<r.length&&(t=new Mc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vr)))}function ro(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qr={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},ys={},Eg={};yn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Rl(e){if(ys[e])return ys[e];if(!qr[e])return e;var t=qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Eg)return ys[e]=t[n];return e}var Fg=Rl("animationend"),Ng=Rl("animationiteration"),Cg=Rl("animationstart"),Ag=Rl("transitionend"),Tg=new Map,_p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(e,t){Tg.set(e,t),Cr(t,[e])}for(var bs=0;bs<_p.length;bs++){var vs=_p[bs],n_=vs.toLowerCase(),r_=vs[0].toUpperCase()+vs.slice(1);er(n_,"on"+r_)}er(Fg,"onAnimationEnd");er(Ng,"onAnimationIteration");er(Cg,"onAnimationStart");er("dblclick","onDoubleClick");er("focusin","onFocus");er("focusout","onBlur");er(Ag,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yi));function xp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nw(r,t,void 0,e),e.currentTarget=null}function Og(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==a&&i.isPropagationStopped())break e;xp(i,l,u),a=s}else for(o=0;o<r.length;o++){if(l=r[o],s=l.instance,u=l.currentTarget,l=l.listener,s!==a&&i.isPropagationStopped())break e;xp(i,l,u),a=s}}}if(Wo)throw e=mu,Wo=!1,mu=null,e}function Ne(e,t){var n=t[Su];n===void 0&&(n=t[Su]=new Set);var r=e+"__bubble";n.has(r)||(Rg(t,e,2,!1),n.add(r))}function ws(e,t,n){var r=0;t&&(r|=4),Rg(n,e,r,t)}var io="_reactListening"+Math.random().toString(36).slice(2);function ya(e){if(!e[io]){e[io]=!0,Um.forEach(function(n){n!=="selectionchange"&&(i_.has(n)||ws(n,!1,e),ws(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[io]||(t[io]=!0,ws("selectionchange",!1,t))}}function Rg(e,t,n,r){switch(hg(t)){case 1:var i=bw;break;case 4:i=vw;break;default:i=Rc}n=i.bind(null,t,n,e),i=void 0,!du||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _s(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var s=o.tag;if((s===3||s===4)&&(s=o.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;o=o.return}for(;l!==null;){if(o=fr(l),o===null)return;if(s=o.tag,s===5||s===6){r=a=o;continue e}l=l.parentNode}}r=r.return}ng(function(){var u=a,c=Cc(n),f=[];e:{var d=Tg.get(e);if(d!==void 0){var p=Mc,b=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":p=Pw;break;case"focusin":b="focus",p=ms;break;case"focusout":b="blur",p=ms;break;case"beforeblur":case"afterblur":p=ms;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zw;break;case Fg:case Ng:case Cg:p=Iw;break;case Ag:p=$w;break;case"scroll":p=ww;break;case"wheel":p=jw;break;case"copy":case"cut":case"paste":p=Fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pp}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var h=u,v;h!==null;){v=h;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,m!==null&&(x=fa(h,m),x!=null&&y.push(ba(h,x,v)))),w)break;h=h.return}0<y.length&&(d=new p(d,b,null,n,c),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&n!==fu&&(b=n.relatedTarget||n.fromElement)&&(fr(b)||b[bn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?fr(b):null,b!==null&&(w=Ar(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(y=cp,x="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(y=pp,x="onPointerLeave",m="onPointerEnter",h="pointer"),w=p==null?d:Gr(p),v=b==null?d:Gr(b),d=new y(x,h+"leave",p,n,c),d.target=w,d.relatedTarget=v,x=null,fr(c)===u&&(y=new y(m,h+"enter",b,n,c),y.target=v,y.relatedTarget=w,x=y),w=x,p&&b)t:{for(y=p,m=b,h=0,v=y;v;v=Or(v))h++;for(v=0,x=m;x;x=Or(x))v++;for(;0<h-v;)y=Or(y),h--;for(;0<v-h;)m=Or(m),v--;for(;h--;){if(y===m||m!==null&&y===m.alternate)break t;y=Or(y),m=Or(m)}y=null}else y=null;p!==null&&kp(f,d,p,y,!1),b!==null&&w!==null&&kp(f,w,b,y,!0)}}e:{if(d=u?Gr(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var S=Yw;else if(gp(d))if(xg)S=Qw;else{S=Zw;var T=Kw}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Xw);if(S&&(S=S(e,u))){_g(f,S,n,c);break e}T&&T(e,d,u),e==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&ou(d,"number",d.value)}switch(T=u?Gr(u):window,e){case"focusin":(gp(T)||T.contentEditable==="true")&&(Vr=T,bu=u,ia=null);break;case"focusout":ia=bu=Vr=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,wp(f,n,c);break;case"selectionchange":if(t_)break;case"keydown":case"keyup":wp(f,n,c)}var I;if(zc)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Hr?vg(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(bg&&n.locale!=="ko"&&(Hr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Hr&&(I=yg()):(Ln=c,Pc="value"in Ln?Ln.value:Ln.textContent,Hr=!0)),T=Yo(u,L),0<T.length&&(L=new fp(L,e,null,n,c),f.push({event:L,listeners:T}),I?L.data=I:(I=wg(n),I!==null&&(L.data=I)))),(I=Ww?Hw(e,n):Vw(e,n))&&(u=Yo(u,"onBeforeInput"),0<u.length&&(c=new fp("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}Og(f,t)})}function ba(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fa(e,n),a!=null&&r.unshift(ba(e,a,i)),a=fa(e,t),a!=null&&r.push(ba(e,a,i))),e=e.return}return r}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kp(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,s=l.alternate,u=l.stateNode;if(s!==null&&s===r)break;l.tag===5&&u!==null&&(l=u,i?(s=fa(n,a),s!=null&&o.unshift(ba(n,s,l))):i||(s=fa(n,a),s!=null&&o.push(ba(n,s,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var a_=/\r\n?/g,o_=/\u0000|\uFFFD/g;function Sp(e){return(typeof e=="string"?e:""+e).replace(a_,`
`).replace(o_,"")}function ao(e,t,n){if(t=Sp(t),Sp(e)!==t&&n)throw Error(ne(425))}function Ko(){}var wu=null,_u=null;function xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,l_=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,s_=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(e){return Ip.resolve(null).then(e).catch(u_)}:ku;function u_(e){setTimeout(function(){throw e})}function xs(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ma(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ma(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ep(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ci=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Ci,va="__reactProps$"+Ci,bn="__reactContainer$"+Ci,Su="__reactEvents$"+Ci,c_="__reactListeners$"+Ci,f_="__reactHandles$"+Ci;function fr(e){var t=e[Jt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bn]||n[Jt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ep(e);e!==null;){if(n=e[Jt])return n;e=Ep(e)}return t}e=n,n=e.parentNode}return null}function ja(e){return e=e[Jt]||e[bn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Pl(e){return e[va]||null}var Iu=[],Yr=-1;function tr(e){return{current:e}}function Ce(e){0>Yr||(e.current=Iu[Yr],Iu[Yr]=null,Yr--)}function Ee(e,t){Yr++,Iu[Yr]=e.current,e.current=t}var Qn={},it=tr(Qn),gt=tr(!1),xr=Qn;function mi(e,t){var n=e.type.contextTypes;if(!n)return Qn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ht(e){return e=e.childContextTypes,e!=null}function Zo(){Ce(gt),Ce(it)}function Fp(e,t,n){if(it.current!==Qn)throw Error(ne(168));Ee(it,t),Ee(gt,n)}function Pg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ne(108,Kv(e)||"Unknown",i));return Re({},n,r)}function Xo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,xr=it.current,Ee(it,e),Ee(gt,gt.current),!0}function Np(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=Pg(e,t,xr),r.__reactInternalMemoizedMergedChildContext=e,Ce(gt),Ce(it),Ee(it,e)):Ce(gt),Ee(gt,n)}var sn=null,Ml=!1,ks=!1;function Mg(e){sn===null?sn=[e]:sn.push(e)}function p_(e){Ml=!0,Mg(e)}function nr(){if(!ks&&sn!==null){ks=!0;var e=0,t=Se;try{var n=sn;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}sn=null,Ml=!1}catch(i){throw sn!==null&&(sn=sn.slice(e+1)),og(Ac,nr),i}finally{Se=t,ks=!1}}return null}var Kr=[],Zr=0,Qo=null,Jo=0,Nt=[],Ct=0,kr=null,fn=1,pn="";function ar(e,t){Kr[Zr++]=Jo,Kr[Zr++]=Qo,Qo=e,Jo=t}function Dg(e,t,n){Nt[Ct++]=fn,Nt[Ct++]=pn,Nt[Ct++]=kr,kr=e;var r=fn;e=pn;var i=32-qt(r)-1;r&=~(1<<i),n+=1;var a=32-qt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fn=1<<32-qt(t)+i|n<<i|r,pn=a+e}else fn=1<<a|n<<i|r,pn=e}function $c(e){e.return!==null&&(ar(e,1),Dg(e,1,0))}function Uc(e){for(;e===Qo;)Qo=Kr[--Zr],Kr[Zr]=null,Jo=Kr[--Zr],Kr[Zr]=null;for(;e===kr;)kr=Nt[--Ct],Nt[Ct]=null,pn=Nt[--Ct],Nt[Ct]=null,fn=Nt[--Ct],Nt[Ct]=null}var _t=null,wt=null,Ae=!1,Bt=null;function zg(e,t){var n=Tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_t=e,wt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_t=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:fn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_t=e,wt=null,!0):!1;default:return!1}}function Eu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fu(e){if(Ae){var t=wt;if(t){var n=t;if(!Cp(e,t)){if(Eu(e))throw Error(ne(418));t=Hn(n.nextSibling);var r=_t;t&&Cp(e,t)?zg(r,n):(e.flags=e.flags&-4097|2,Ae=!1,_t=e)}}else{if(Eu(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Ae=!1,_t=e}}}function Ap(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function oo(e){if(e!==_t)return!1;if(!Ae)return Ap(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xu(e.type,e.memoizedProps)),t&&(t=wt)){if(Eu(e))throw Lg(),Error(ne(418));for(;t;)zg(e,t),t=Hn(t.nextSibling)}if(Ap(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=_t?Hn(e.stateNode.nextSibling):null;return!0}function Lg(){for(var e=wt;e;)e=Hn(e.nextSibling)}function gi(){wt=_t=null,Ae=!1}function jc(e){Bt===null?Bt=[e]:Bt.push(e)}var d_=In.ReactCurrentBatchConfig;function zi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function lo(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tp(e){var t=e._init;return t(e._payload)}function $g(e){function t(m,h){if(e){var v=m.deletions;v===null?(m.deletions=[h],m.flags|=16):v.push(h)}}function n(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function r(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Yn(m,h),m.index=0,m.sibling=null,m}function a(m,h,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<h?(m.flags|=2,h):v):(m.flags|=2,h)):(m.flags|=1048576,h)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,h,v,x){return h===null||h.tag!==6?(h=As(v,m.mode,x),h.return=m,h):(h=i(h,v),h.return=m,h)}function s(m,h,v,x){var S=v.type;return S===Wr?c(m,h,v.props.children,x,v.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tn&&Tp(S)===h.type)?(x=i(h,v.props),x.ref=zi(m,h,v),x.return=m,x):(x=Do(v.type,v.key,v.props,null,m.mode,x),x.ref=zi(m,h,v),x.return=m,x)}function u(m,h,v,x){return h===null||h.tag!==4||h.stateNode.containerInfo!==v.containerInfo||h.stateNode.implementation!==v.implementation?(h=Ts(v,m.mode,x),h.return=m,h):(h=i(h,v.children||[]),h.return=m,h)}function c(m,h,v,x,S){return h===null||h.tag!==7?(h=yr(v,m.mode,x,S),h.return=m,h):(h=i(h,v),h.return=m,h)}function f(m,h,v){if(typeof h=="string"&&h!==""||typeof h=="number")return h=As(""+h,m.mode,v),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Za:return v=Do(h.type,h.key,h.props,null,m.mode,v),v.ref=zi(m,null,h),v.return=m,v;case Br:return h=Ts(h,m.mode,v),h.return=m,h;case Tn:var x=h._init;return f(m,x(h._payload),v)}if(qi(h)||Oi(h))return h=yr(h,m.mode,v,null),h.return=m,h;lo(m,h)}return null}function d(m,h,v,x){var S=h!==null?h.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:l(m,h,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Za:return v.key===S?s(m,h,v,x):null;case Br:return v.key===S?u(m,h,v,x):null;case Tn:return S=v._init,d(m,h,S(v._payload),x)}if(qi(v)||Oi(v))return S!==null?null:c(m,h,v,x,null);lo(m,v)}return null}function p(m,h,v,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(v)||null,l(h,m,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Za:return m=m.get(x.key===null?v:x.key)||null,s(h,m,x,S);case Br:return m=m.get(x.key===null?v:x.key)||null,u(h,m,x,S);case Tn:var T=x._init;return p(m,h,v,T(x._payload),S)}if(qi(x)||Oi(x))return m=m.get(v)||null,c(h,m,x,S,null);lo(h,x)}return null}function b(m,h,v,x){for(var S=null,T=null,I=h,L=h=0,N=null;I!==null&&L<v.length;L++){I.index>L?(N=I,I=null):N=I.sibling;var j=d(m,I,v[L],x);if(j===null){I===null&&(I=N);break}e&&I&&j.alternate===null&&t(m,I),h=a(j,h,L),T===null?S=j:T.sibling=j,T=j,I=N}if(L===v.length)return n(m,I),Ae&&ar(m,L),S;if(I===null){for(;L<v.length;L++)I=f(m,v[L],x),I!==null&&(h=a(I,h,L),T===null?S=I:T.sibling=I,T=I);return Ae&&ar(m,L),S}for(I=r(m,I);L<v.length;L++)N=p(I,m,L,v[L],x),N!==null&&(e&&N.alternate!==null&&I.delete(N.key===null?L:N.key),h=a(N,h,L),T===null?S=N:T.sibling=N,T=N);return e&&I.forEach(function(H){return t(m,H)}),Ae&&ar(m,L),S}function y(m,h,v,x){var S=Oi(v);if(typeof S!="function")throw Error(ne(150));if(v=S.call(v),v==null)throw Error(ne(151));for(var T=S=null,I=h,L=h=0,N=null,j=v.next();I!==null&&!j.done;L++,j=v.next()){I.index>L?(N=I,I=null):N=I.sibling;var H=d(m,I,j.value,x);if(H===null){I===null&&(I=N);break}e&&I&&H.alternate===null&&t(m,I),h=a(H,h,L),T===null?S=H:T.sibling=H,T=H,I=N}if(j.done)return n(m,I),Ae&&ar(m,L),S;if(I===null){for(;!j.done;L++,j=v.next())j=f(m,j.value,x),j!==null&&(h=a(j,h,L),T===null?S=j:T.sibling=j,T=j);return Ae&&ar(m,L),S}for(I=r(m,I);!j.done;L++,j=v.next())j=p(I,m,L,j.value,x),j!==null&&(e&&j.alternate!==null&&I.delete(j.key===null?L:j.key),h=a(j,h,L),T===null?S=j:T.sibling=j,T=j);return e&&I.forEach(function(C){return t(m,C)}),Ae&&ar(m,L),S}function w(m,h,v,x){if(typeof v=="object"&&v!==null&&v.type===Wr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Za:e:{for(var S=v.key,T=h;T!==null;){if(T.key===S){if(S=v.type,S===Wr){if(T.tag===7){n(m,T.sibling),h=i(T,v.props.children),h.return=m,m=h;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tn&&Tp(S)===T.type){n(m,T.sibling),h=i(T,v.props),h.ref=zi(m,T,v),h.return=m,m=h;break e}n(m,T);break}else t(m,T);T=T.sibling}v.type===Wr?(h=yr(v.props.children,m.mode,x,v.key),h.return=m,m=h):(x=Do(v.type,v.key,v.props,null,m.mode,x),x.ref=zi(m,h,v),x.return=m,m=x)}return o(m);case Br:e:{for(T=v.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===v.containerInfo&&h.stateNode.implementation===v.implementation){n(m,h.sibling),h=i(h,v.children||[]),h.return=m,m=h;break e}else{n(m,h);break}else t(m,h);h=h.sibling}h=Ts(v,m.mode,x),h.return=m,m=h}return o(m);case Tn:return T=v._init,w(m,h,T(v._payload),x)}if(qi(v))return b(m,h,v,x);if(Oi(v))return y(m,h,v,x);lo(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,h!==null&&h.tag===6?(n(m,h.sibling),h=i(h,v),h.return=m,m=h):(n(m,h),h=As(v,m.mode,x),h.return=m,m=h),o(m)):n(m,h)}return w}var hi=$g(!0),Ug=$g(!1),el=tr(null),tl=null,Xr=null,Bc=null;function Wc(){Bc=Xr=tl=null}function Hc(e){var t=el.current;Ce(el),e._currentValue=t}function Nu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function si(e,t){tl=e,Bc=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pt=!0),e.firstContext=null)}function Pt(e){var t=e._currentValue;if(Bc!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(tl===null)throw Error(ne(308));Xr=e,tl.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var pr=null;function Vc(e){pr===null?pr=[e]:pr.push(e)}function jg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Vc(t)):(n.next=i.next,i.next=n),t.interleaved=n,vn(e,r)}function vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var On=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,vn(e,n)}return i=r.interleaved,i===null?(t.next=t,Vc(r)):(t.next=i.next,i.next=t),r.interleaved=t,vn(e,n)}function Ao(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tc(e,n)}}function Op(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nl(e,t,n,r){var i=e.updateQueue;On=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var s=l,u=s.next;s.next=null,o===null?a=u:o.next=u,o=s;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=s))}if(a!==null){var f=i.baseState;o=0,c=u=s=null,l=a;do{var d=l.lane,p=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,y=l;switch(d=t,p=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(p,f,d);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,d=typeof b=="function"?b.call(p,f,d):b,d==null)break e;f=Re({},f,d);break e;case 2:On=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,s=f):c=c.next=p,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(s=f),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ir|=o,e.lanes=o,e.memoizedState=f}}function Rp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var Ba={},tn=tr(Ba),wa=tr(Ba),_a=tr(Ba);function dr(e){if(e===Ba)throw Error(ne(174));return e}function Gc(e,t){switch(Ee(_a,t),Ee(wa,e),Ee(tn,Ba),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:su(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=su(t,e)}Ce(tn),Ee(tn,t)}function yi(){Ce(tn),Ce(wa),Ce(_a)}function Wg(e){dr(_a.current);var t=dr(tn.current),n=su(t,e.type);t!==n&&(Ee(wa,e),Ee(tn,n))}function Yc(e){wa.current===e&&(Ce(tn),Ce(wa))}var Te=tr(0);function rl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ss=[];function Kc(){for(var e=0;e<Ss.length;e++)Ss[e]._workInProgressVersionPrimary=null;Ss.length=0}var To=In.ReactCurrentDispatcher,Is=In.ReactCurrentBatchConfig,Sr=0,Oe=null,Be=null,qe=null,il=!1,aa=!1,xa=0,m_=0;function tt(){throw Error(ne(321))}function Zc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function Xc(e,t,n,r,i,a){if(Sr=a,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,To.current=e===null||e.memoizedState===null?b_:v_,e=n(r,i),aa){a=0;do{if(aa=!1,xa=0,25<=a)throw Error(ne(301));a+=1,qe=Be=null,t.updateQueue=null,To.current=w_,e=n(r,i)}while(aa)}if(To.current=al,t=Be!==null&&Be.next!==null,Sr=0,qe=Be=Oe=null,il=!1,t)throw Error(ne(300));return e}function Qc(){var e=xa!==0;return xa=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Oe.memoizedState=qe=e:qe=qe.next=e,qe}function Mt(){if(Be===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=qe===null?Oe.memoizedState:qe.next;if(t!==null)qe=t,Be=e;else{if(e===null)throw Error(ne(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},qe===null?Oe.memoizedState=qe=e:qe=qe.next=e}return qe}function ka(e,t){return typeof t=="function"?t(e):t}function Es(e){var t=Mt(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=Be,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,s=null,u=a;do{var c=u.lane;if((Sr&c)===c)s!==null&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};s===null?(l=s=f,o=r):s=s.next=f,Oe.lanes|=c,Ir|=c}u=u.next}while(u!==null&&u!==a);s===null?o=r:s.next=l,Kt(r,t.memoizedState)||(pt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Oe.lanes|=a,Ir|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fs(e){var t=Mt(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Kt(a,t.memoizedState)||(pt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Hg(){}function Vg(e,t){var n=Oe,r=Mt(),i=t(),a=!Kt(r.memoizedState,i);if(a&&(r.memoizedState=i,pt=!0),r=r.queue,Jc(Yg.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Sa(9,Gg.bind(null,n,r,i,t),void 0,null),Ge===null)throw Error(ne(349));Sr&30||qg(n,t,i)}return i}function qg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Gg(e,t,n,r){t.value=n,t.getSnapshot=r,Kg(t)&&Zg(e)}function Yg(e,t,n){return n(function(){Kg(t)&&Zg(e)})}function Kg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function Zg(e){var t=vn(e,1);t!==null&&Gt(t,e,1,-1)}function Pp(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=y_.bind(null,Oe,e),[t.memoizedState,e]}function Sa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Xg(){return Mt().memoizedState}function Oo(e,t,n,r){var i=Qt();Oe.flags|=e,i.memoizedState=Sa(1|t,n,void 0,r===void 0?null:r)}function Dl(e,t,n,r){var i=Mt();r=r===void 0?null:r;var a=void 0;if(Be!==null){var o=Be.memoizedState;if(a=o.destroy,r!==null&&Zc(r,o.deps)){i.memoizedState=Sa(t,n,a,r);return}}Oe.flags|=e,i.memoizedState=Sa(1|t,n,a,r)}function Mp(e,t){return Oo(8390656,8,e,t)}function Jc(e,t){return Dl(2048,8,e,t)}function Qg(e,t){return Dl(4,2,e,t)}function Jg(e,t){return Dl(4,4,e,t)}function eh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function th(e,t,n){return n=n!=null?n.concat([e]):null,Dl(4,4,eh.bind(null,t,e),n)}function ef(){}function nh(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rh(e,t){var n=Mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Zc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ih(e,t,n){return Sr&21?(Kt(n,t)||(n=ug(),Oe.lanes|=n,Ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pt=!0),e.memoizedState=n)}function g_(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=Is.transition;Is.transition={};try{e(!1),t()}finally{Se=n,Is.transition=r}}function ah(){return Mt().memoizedState}function h_(e,t,n){var r=Gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oh(e))lh(t,n);else if(n=jg(e,t,n,r),n!==null){var i=st();Gt(n,e,r,i),sh(n,t,r)}}function y_(e,t,n){var r=Gn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oh(e))lh(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Kt(l,o)){var s=t.interleaved;s===null?(i.next=i,Vc(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=jg(e,t,i,r),n!==null&&(i=st(),Gt(n,e,r,i),sh(n,t,r))}}function oh(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function lh(e,t){aa=il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Tc(e,n)}}var al={readContext:Pt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},b_={readContext:Pt,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Pt,useEffect:Mp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Oo(4194308,4,eh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=Qt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=h_.bind(null,Oe,e),[r.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:Pp,useDebugValue:ef,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=Pp(!1),t=e[0];return e=g_.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Oe,i=Qt();if(Ae){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),Ge===null)throw Error(ne(349));Sr&30||qg(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Mp(Yg.bind(null,r,a,e),[e]),r.flags|=2048,Sa(9,Gg.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Qt(),t=Ge.identifierPrefix;if(Ae){var n=pn,r=fn;n=(r&~(1<<32-qt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=m_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},v_={readContext:Pt,useCallback:nh,useContext:Pt,useEffect:Jc,useImperativeHandle:th,useInsertionEffect:Qg,useLayoutEffect:Jg,useMemo:rh,useReducer:Es,useRef:Xg,useState:function(){return Es(ka)},useDebugValue:ef,useDeferredValue:function(e){var t=Mt();return ih(t,Be.memoizedState,e)},useTransition:function(){var e=Es(ka)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Hg,useSyncExternalStore:Vg,useId:ah,unstable_isNewReconciler:!1},w_={readContext:Pt,useCallback:nh,useContext:Pt,useEffect:Jc,useImperativeHandle:th,useInsertionEffect:Qg,useLayoutEffect:Jg,useMemo:rh,useReducer:Fs,useRef:Xg,useState:function(){return Fs(ka)},useDebugValue:ef,useDeferredValue:function(e){var t=Mt();return Be===null?t.memoizedState=e:ih(t,Be.memoizedState,e)},useTransition:function(){var e=Fs(ka)[0],t=Mt().memoizedState;return[e,t]},useMutableSource:Hg,useSyncExternalStore:Vg,useId:ah,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zl={isMounted:function(e){return(e=e._reactInternals)?Ar(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=st(),i=Gn(e),a=mn(r,i);a.payload=t,n!=null&&(a.callback=n),t=Vn(e,a,i),t!==null&&(Gt(t,e,i,r),Ao(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=st(),i=Gn(e),a=mn(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Vn(e,a,i),t!==null&&(Gt(t,e,i,r),Ao(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),r=Gn(e),i=mn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Vn(e,i,r),t!==null&&(Gt(t,e,r,n),Ao(t,e,r))}};function Dp(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!ha(n,r)||!ha(i,a):!0}function uh(e,t,n){var r=!1,i=Qn,a=t.contextType;return typeof a=="object"&&a!==null?a=Pt(a):(i=ht(t)?xr:it.current,r=t.contextTypes,a=(r=r!=null)?mi(e,i):Qn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function zp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zl.enqueueReplaceState(t,t.state,null)}function Au(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},qc(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Pt(a):(a=ht(t)?xr:it.current,i.context=mi(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Cu(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&zl.enqueueReplaceState(i,i.state,null),nl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bi(e,t){try{var n="",r=t;do n+=Yv(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Ns(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Tu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var __=typeof WeakMap=="function"?WeakMap:Map;function ch(e,t,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ll||(ll=!0,ju=r),Tu(e,t)},n}function fh(e,t,n){n=mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Tu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Tu(e,t),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Lp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new __;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=M_.bind(null,e,t,n),t.then(e,e))}function $p(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Up(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mn(-1,1),t.tag=2,Vn(n,t,1))),n.lanes|=1),e)}var x_=In.ReactCurrentOwner,pt=!1;function ot(e,t,n,r){t.child=e===null?Ug(t,null,n,r):hi(t,e.child,n,r)}function jp(e,t,n,r,i){n=n.render;var a=t.ref;return si(t,i),r=Xc(e,t,n,r,a,i),n=Qc(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(Ae&&n&&$c(t),t.flags|=1,ot(e,t,r,i),t.child)}function Bp(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!uf(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ph(e,t,a,r,i)):(e=Do(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(o,r)&&e.ref===t.ref)return wn(e,t,i)}return t.flags|=1,e=Yn(a,r),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(ha(a,r)&&e.ref===t.ref)if(pt=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(pt=!0);else return t.lanes=e.lanes,wn(e,t,i)}return Ou(e,t,n,r,i)}function dh(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Jr,vt),vt|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ee(Jr,vt),vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ee(Jr,vt),vt|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ee(Jr,vt),vt|=r;return ot(e,t,i,n),t.child}function mh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ou(e,t,n,r,i){var a=ht(n)?xr:it.current;return a=mi(t,a),si(t,i),n=Xc(e,t,n,r,a,i),r=Qc(),e!==null&&!pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,wn(e,t,i)):(Ae&&r&&$c(t),t.flags|=1,ot(e,t,n,i),t.child)}function Wp(e,t,n,r,i){if(ht(n)){var a=!0;Xo(t)}else a=!1;if(si(t,i),t.stateNode===null)Ro(e,t),uh(t,n,r),Au(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var s=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Pt(u):(u=ht(n)?xr:it.current,u=mi(t,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||s!==u)&&zp(t,o,r,u),On=!1;var d=t.memoizedState;o.state=d,nl(t,r,o,i),s=t.memoizedState,l!==r||d!==s||gt.current||On?(typeof c=="function"&&(Cu(t,n,c,r),s=t.memoizedState),(l=On||Dp(t,n,l,r,d,s,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Bg(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:$t(t.type,l),o.props=u,f=t.pendingProps,d=o.context,s=n.contextType,typeof s=="object"&&s!==null?s=Pt(s):(s=ht(n)?xr:it.current,s=mi(t,s));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==s)&&zp(t,o,r,s),On=!1,d=t.memoizedState,o.state=d,nl(t,r,o,i);var b=t.memoizedState;l!==f||d!==b||gt.current||On?(typeof p=="function"&&(Cu(t,n,p,r),b=t.memoizedState),(u=On||Dp(t,n,u,r,d,b,s)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,s),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,s)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),o.props=r,o.state=b,o.context=s,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,a,i)}function Ru(e,t,n,r,i,a){mh(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Np(t,n,!1),wn(e,t,a);r=t.stateNode,x_.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=hi(t,e.child,null,a),t.child=hi(t,null,l,a)):ot(e,t,l,a),t.memoizedState=r.state,i&&Np(t,n,!0),t.child}function gh(e){var t=e.stateNode;t.pendingContext?Fp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fp(e,t.context,!1),Gc(e,t.containerInfo)}function Hp(e,t,n,r,i){return gi(),jc(i),t.flags|=256,ot(e,t,n,r),t.child}var Pu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function hh(e,t,n){var r=t.pendingProps,i=Te.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ee(Te,i&1),e===null)return Fu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ul(o,r,0,null),e=yr(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Mu(n),t.memoizedState=Pu,e):tf(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return k_(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var s={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=Yn(i,s),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Yn(l,a):(a=yr(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Mu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Pu,r}return a=e.child,e=a.sibling,r=Yn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tf(e,t){return t=Ul({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function so(e,t,n,r){return r!==null&&jc(r),hi(t,e.child,null,n),e=tf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k_(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Ns(Error(ne(422))),so(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ul({mode:"visible",children:r.children},i,0,null),a=yr(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&hi(t,e.child,null,o),t.child.memoizedState=Mu(o),t.memoizedState=Pu,a);if(!(t.mode&1))return so(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ne(419)),r=Ns(a,r,void 0),so(e,t,o,r)}if(l=(o&e.childLanes)!==0,pt||l){if(r=Ge,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,vn(e,i),Gt(r,e,i,-1))}return sf(),r=Ns(Error(ne(421))),so(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=D_.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,wt=Hn(i.nextSibling),_t=t,Ae=!0,Bt=null,e!==null&&(Nt[Ct++]=fn,Nt[Ct++]=pn,Nt[Ct++]=kr,fn=e.id,pn=e.overflow,kr=t),t=tf(t,r.children),t.flags|=4096,t)}function Vp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nu(e.return,t,n)}function Cs(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function yh(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ot(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vp(e,n,t);else if(e.tag===19)Vp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ee(Te,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&rl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Cs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&rl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Cs(t,!0,n,null,a);break;case"together":Cs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ro(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function S_(e,t,n){switch(t.tag){case 3:gh(t),gi();break;case 5:Wg(t);break;case 1:ht(t.type)&&Xo(t);break;case 4:Gc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ee(el,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?hh(e,t,n):(Ee(Te,Te.current&1),e=wn(e,t,n),e!==null?e.sibling:null);Ee(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yh(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,dh(e,t,n)}return wn(e,t,n)}var bh,Du,vh,wh;bh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Du=function(){};vh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,dr(tn.current);var a=null;switch(n){case"input":i=iu(e,i),r=iu(e,r),a=[];break;case"select":i=Re({},i,{value:void 0}),r=Re({},r,{value:void 0}),a=[];break;case"textarea":i=lu(e,i),r=lu(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ko)}uu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ua.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var s=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&s!==l&&(s!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||s&&s.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in s)s.hasOwnProperty(o)&&l[o]!==s[o]&&(n||(n={}),n[o]=s[o])}else n||(a||(a=[]),a.push(u,n)),n=s;else u==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,l=l?l.__html:void 0,s!=null&&l!==s&&(a=a||[]).push(u,s)):u==="children"?typeof s!="string"&&typeof s!="number"||(a=a||[]).push(u,""+s):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ua.hasOwnProperty(u)?(s!=null&&u==="onScroll"&&Ne("scroll",e),a||l===s||(a=[])):(a=a||[]).push(u,s))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};wh=function(e,t,n,r){n!==r&&(t.flags|=4)};function Li(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function I_(e,t,n){var r=t.pendingProps;switch(Uc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return ht(t.type)&&Zo(),nt(t),null;case 3:return r=t.stateNode,yi(),Ce(gt),Ce(it),Kc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(oo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(Hu(Bt),Bt=null))),Du(e,t),nt(t),null;case 5:Yc(t);var i=dr(_a.current);if(n=t.type,e!==null&&t.stateNode!=null)vh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return nt(t),null}if(e=dr(tn.current),oo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jt]=t,r[va]=a,e=(t.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Yi.length;i++)Ne(Yi[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":ep(r,a),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ne("invalid",r);break;case"textarea":np(r,a),Ne("invalid",r)}uu(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ao(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ao(r.textContent,l,e),i=["children",""+l]):ua.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Xa(r),tp(r,a,!0);break;case"textarea":Xa(r),rp(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ko)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ym(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Jt]=t,e[va]=r,bh(e,t,!1,!1),t.stateNode=e;e:{switch(o=cu(n,r),n){case"dialog":Ne("cancel",e),Ne("close",e),i=r;break;case"iframe":case"object":case"embed":Ne("load",e),i=r;break;case"video":case"audio":for(i=0;i<Yi.length;i++)Ne(Yi[i],e);i=r;break;case"source":Ne("error",e),i=r;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),i=r;break;case"details":Ne("toggle",e),i=r;break;case"input":ep(e,r),i=iu(e,r),Ne("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Re({},r,{value:void 0}),Ne("invalid",e);break;case"textarea":np(e,r),i=lu(e,r),Ne("invalid",e);break;default:i=r}uu(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var s=l[a];a==="style"?Xm(e,s):a==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&Km(e,s)):a==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&ca(e,s):typeof s=="number"&&ca(e,""+s):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ua.hasOwnProperty(a)?s!=null&&a==="onScroll"&&Ne("scroll",e):s!=null&&Ic(e,a,s,o))}switch(n){case"input":Xa(e),tp(e,r,!1);break;case"textarea":Xa(e),rp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ii(e,!!r.multiple,a,!1):r.defaultValue!=null&&ii(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ko)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)wh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=dr(_a.current),dr(tn.current),oo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Jt]=t,(a=r.nodeValue!==n)&&(e=_t,e!==null))switch(e.tag){case 3:ao(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ao(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jt]=t,t.stateNode=r}return nt(t),null;case 13:if(Ce(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&wt!==null&&t.mode&1&&!(t.flags&128))Lg(),gi(),t.flags|=98560,a=!1;else if(a=oo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[Jt]=t}else gi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),a=!1}else Bt!==null&&(Hu(Bt),Bt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?He===0&&(He=3):sf())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return yi(),Du(e,t),e===null&&ya(t.stateNode.containerInfo),nt(t),null;case 10:return Hc(t.type._context),nt(t),null;case 17:return ht(t.type)&&Zo(),nt(t),null;case 19:if(Ce(Te),a=t.memoizedState,a===null)return nt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Li(a,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rl(e),o!==null){for(t.flags|=128,Li(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ee(Te,Te.current&1|2),t.child}e=e.sibling}a.tail!==null&&ze()>vi&&(t.flags|=128,r=!0,Li(a,!1),t.lanes=4194304)}else{if(!r)if(e=rl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Li(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ae)return nt(t),null}else 2*ze()-a.renderingStartTime>vi&&n!==1073741824&&(t.flags|=128,r=!0,Li(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ze(),t.sibling=null,n=Te.current,Ee(Te,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return lf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function E_(e,t){switch(Uc(t),t.tag){case 1:return ht(t.type)&&Zo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(),Ce(gt),Ce(it),Kc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yc(t),null;case 13:if(Ce(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));gi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(Te),null;case 4:return yi(),null;case 10:return Hc(t.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var uo=!1,rt=!1,F_=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Qr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function zu(e,t,n){try{n()}catch(r){Me(e,t,r)}}var qp=!1;function N_(e,t){if(wu=qo,e=Ig(),Lc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,s=-1,u=0,c=0,f=e,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||r!==0&&f.nodeType!==3||(s=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(l=o),d===a&&++c===r&&(s=o),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=l===-1||s===-1?null:{start:l,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(_u={focusedElem:e,selectionRange:n},qo=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:$t(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(x){Me(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return b=qp,qp=!1,b}function oa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&zu(t,n,a)}i=i.next}while(i!==r)}}function Ll(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _h(e){var t=e.alternate;t!==null&&(e.alternate=null,_h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[va],delete t[Su],delete t[c_],delete t[f_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xh(e){return e.tag===5||e.tag===3||e.tag===4}function Gp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $u(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ko));else if(r!==4&&(e=e.child,e!==null))for($u(e,t,n),e=e.sibling;e!==null;)$u(e,t,n),e=e.sibling}function Uu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uu(e,t,n),e=e.sibling;e!==null;)Uu(e,t,n),e=e.sibling}var Ze=null,Ut=!1;function Nn(e,t,n){for(n=n.child;n!==null;)kh(e,t,n),n=n.sibling}function kh(e,t,n){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 5:rt||Qr(n,t);case 6:var r=Ze,i=Ut;Ze=null,Nn(e,t,n),Ze=r,Ut=i,Ze!==null&&(Ut?(e=Ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(Ut?(e=Ze,n=n.stateNode,e.nodeType===8?xs(e.parentNode,n):e.nodeType===1&&xs(e,n),ma(e)):xs(Ze,n.stateNode));break;case 4:r=Ze,i=Ut,Ze=n.stateNode.containerInfo,Ut=!0,Nn(e,t,n),Ze=r,Ut=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&zu(n,t,o),i=i.next}while(i!==r)}Nn(e,t,n);break;case 1:if(!rt&&(Qr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,t,l)}Nn(e,t,n);break;case 21:Nn(e,t,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Nn(e,t,n),rt=r):Nn(e,t,n);break;default:Nn(e,t,n)}}function Yp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new F_),t.forEach(function(r){var i=z_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ze=l.stateNode,Ut=!1;break e;case 3:Ze=l.stateNode.containerInfo,Ut=!0;break e;case 4:Ze=l.stateNode.containerInfo,Ut=!0;break e}l=l.return}if(Ze===null)throw Error(ne(160));kh(a,o,i),Ze=null,Ut=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(u){Me(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sh(t,e),t=t.sibling}function Sh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Xt(e),r&4){try{oa(3,e,e.return),Ll(3,e)}catch(y){Me(e,e.return,y)}try{oa(5,e,e.return)}catch(y){Me(e,e.return,y)}}break;case 1:Lt(t,e),Xt(e),r&512&&n!==null&&Qr(n,n.return);break;case 5:if(Lt(t,e),Xt(e),r&512&&n!==null&&Qr(n,n.return),e.flags&32){var i=e.stateNode;try{ca(i,"")}catch(y){Me(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&qm(i,a),cu(l,o);var u=cu(l,a);for(o=0;o<s.length;o+=2){var c=s[o],f=s[o+1];c==="style"?Xm(i,f):c==="dangerouslySetInnerHTML"?Km(i,f):c==="children"?ca(i,f):Ic(i,c,f,u)}switch(l){case"input":au(i,a);break;case"textarea":Gm(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ii(i,!!a.multiple,p,!1):d!==!!a.multiple&&(a.defaultValue!=null?ii(i,!!a.multiple,a.defaultValue,!0):ii(i,!!a.multiple,a.multiple?[]:"",!1))}i[va]=a}catch(y){Me(e,e.return,y)}}break;case 6:if(Lt(t,e),Xt(e),r&4){if(e.stateNode===null)throw Error(ne(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Me(e,e.return,y)}}break;case 3:if(Lt(t,e),Xt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(t.containerInfo)}catch(y){Me(e,e.return,y)}break;case 4:Lt(t,e),Xt(e);break;case 13:Lt(t,e),Xt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(af=ze())),r&4&&Yp(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(rt=(u=rt)||c,Lt(t,e),rt=u):Lt(t,e),Xt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(fe=e,c=e.child;c!==null;){for(f=fe=c;fe!==null;){switch(d=fe,p=d.child,d.tag){case 0:case 11:case 14:case 15:oa(4,d,d.return);break;case 1:Qr(d,d.return);var b=d.stateNode;if(typeof b.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){Me(r,n,y)}}break;case 5:Qr(d,d.return);break;case 22:if(d.memoizedState!==null){Zp(f);continue}}p!==null?(p.return=d,fe=p):Zp(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,s=f.memoizedProps.style,o=s!=null&&s.hasOwnProperty("display")?s.display:null,l.style.display=Zm("display",o))}catch(y){Me(e,e.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Me(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lt(t,e),Xt(e),r&4&&Yp(e);break;case 21:break;default:Lt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xh(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ca(i,""),r.flags&=-33);var a=Gp(e);Uu(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Gp(e);$u(e,l,o);break;default:throw Error(ne(161))}}catch(s){Me(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function C_(e,t,n){fe=e,Ih(e)}function Ih(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var i=fe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||uo;if(!o){var l=i.alternate,s=l!==null&&l.memoizedState!==null||rt;l=uo;var u=rt;if(uo=o,(rt=s)&&!u)for(fe=i;fe!==null;)o=fe,s=o.child,o.tag===22&&o.memoizedState!==null?Xp(i):s!==null?(s.return=o,fe=s):Xp(i);for(;a!==null;)fe=a,Ih(a),a=a.sibling;fe=i,uo=l,rt=u}Kp(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,fe=a):Kp(e)}}function Kp(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||Ll(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:$t(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Rp(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rp(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ma(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}rt||t.flags&512&&Lu(t)}catch(d){Me(t,t.return,d)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Zp(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Xp(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ll(4,t)}catch(s){Me(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){Me(t,i,s)}}var a=t.return;try{Lu(t)}catch(s){Me(t,a,s)}break;case 5:var o=t.return;try{Lu(t)}catch(s){Me(t,o,s)}}}catch(s){Me(t,t.return,s)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var A_=Math.ceil,ol=In.ReactCurrentDispatcher,nf=In.ReactCurrentOwner,Rt=In.ReactCurrentBatchConfig,_e=0,Ge=null,Le=null,Xe=0,vt=0,Jr=tr(0),He=0,Ia=null,Ir=0,$l=0,rf=0,la=null,ft=null,af=0,vi=1/0,ln=null,ll=!1,ju=null,qn=null,co=!1,$n=null,sl=0,sa=0,Bu=null,Po=-1,Mo=0;function st(){return _e&6?ze():Po!==-1?Po:Po=ze()}function Gn(e){return e.mode&1?_e&2&&Xe!==0?Xe&-Xe:d_.transition!==null?(Mo===0&&(Mo=ug()),Mo):(e=Se,e!==0||(e=window.event,e=e===void 0?16:hg(e.type)),e):1}function Gt(e,t,n,r){if(50<sa)throw sa=0,Bu=null,Error(ne(185));$a(e,n,r),(!(_e&2)||e!==Ge)&&(e===Ge&&(!(_e&2)&&($l|=n),He===4&&Dn(e,Xe)),yt(e,r),n===1&&_e===0&&!(t.mode&1)&&(vi=ze()+500,Ml&&nr()))}function yt(e,t){var n=e.callbackNode;dw(e,t);var r=Vo(e,e===Ge?Xe:0);if(r===0)n!==null&&op(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&op(n),t===1)e.tag===0?p_(Qp.bind(null,e)):Mg(Qp.bind(null,e)),s_(function(){!(_e&6)&&nr()}),n=null;else{switch(cg(r)){case 1:n=Ac;break;case 4:n=lg;break;case 16:n=Ho;break;case 536870912:n=sg;break;default:n=Ho}n=Rh(n,Eh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eh(e,t){if(Po=-1,Mo=0,_e&6)throw Error(ne(327));var n=e.callbackNode;if(ui()&&e.callbackNode!==n)return null;var r=Vo(e,e===Ge?Xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ul(e,r);else{t=r;var i=_e;_e|=2;var a=Nh();(Ge!==e||Xe!==t)&&(ln=null,vi=ze()+500,hr(e,t));do try{R_();break}catch(l){Fh(e,l)}while(!0);Wc(),ol.current=a,_e=i,Le!==null?t=0:(Ge=null,Xe=0,t=He)}if(t!==0){if(t===2&&(i=gu(e),i!==0&&(r=i,t=Wu(e,i))),t===1)throw n=Ia,hr(e,0),Dn(e,r),yt(e,ze()),n;if(t===6)Dn(e,r);else{if(i=e.current.alternate,!(r&30)&&!T_(i)&&(t=ul(e,r),t===2&&(a=gu(e),a!==0&&(r=a,t=Wu(e,a))),t===1))throw n=Ia,hr(e,0),Dn(e,r),yt(e,ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:or(e,ft,ln);break;case 3:if(Dn(e,r),(r&130023424)===r&&(t=af+500-ze(),10<t)){if(Vo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){st(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ku(or.bind(null,e,ft,ln),t);break}or(e,ft,ln);break;case 4:if(Dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-qt(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A_(r/1960))-r,10<r){e.timeoutHandle=ku(or.bind(null,e,ft,ln),r);break}or(e,ft,ln);break;case 5:or(e,ft,ln);break;default:throw Error(ne(329))}}}return yt(e,ze()),e.callbackNode===n?Eh.bind(null,e):null}function Wu(e,t){var n=la;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=ul(e,t),e!==2&&(t=ft,ft=n,t!==null&&Hu(t)),e}function Hu(e){ft===null?ft=e:ft.push.apply(ft,e)}function T_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Kt(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dn(e,t){for(t&=~rf,t&=~$l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function Qp(e){if(_e&6)throw Error(ne(327));ui();var t=Vo(e,0);if(!(t&1))return yt(e,ze()),null;var n=ul(e,t);if(e.tag!==0&&n===2){var r=gu(e);r!==0&&(t=r,n=Wu(e,r))}if(n===1)throw n=Ia,hr(e,0),Dn(e,t),yt(e,ze()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,ft,ln),yt(e,ze()),null}function of(e,t){var n=_e;_e|=1;try{return e(t)}finally{_e=n,_e===0&&(vi=ze()+500,Ml&&nr())}}function Er(e){$n!==null&&$n.tag===0&&!(_e&6)&&ui();var t=_e;_e|=1;var n=Rt.transition,r=Se;try{if(Rt.transition=null,Se=1,e)return e()}finally{Se=r,Rt.transition=n,_e=t,!(_e&6)&&nr()}}function lf(){vt=Jr.current,Ce(Jr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,l_(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Uc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zo();break;case 3:yi(),Ce(gt),Ce(it),Kc();break;case 5:Yc(r);break;case 4:yi();break;case 13:Ce(Te);break;case 19:Ce(Te);break;case 10:Hc(r.type._context);break;case 22:case 23:lf()}n=n.return}if(Ge=e,Le=e=Yn(e.current,null),Xe=vt=t,He=0,Ia=null,rf=$l=Ir=0,ft=la=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}pr=null}return e}function Fh(e,t){do{var n=Le;try{if(Wc(),To.current=al,il){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}il=!1}if(Sr=0,qe=Be=Oe=null,aa=!1,xa=0,nf.current=null,n===null||n.return===null){He=1,Ia=t,Le=null;break}e:{var a=e,o=n.return,l=n,s=t;if(t=Xe,l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var u=s,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=$p(o);if(p!==null){p.flags&=-257,Up(p,o,l,a,t),p.mode&1&&Lp(a,u,t),t=p,s=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(s),t.updateQueue=y}else b.add(s);break e}else{if(!(t&1)){Lp(a,u,t),sf();break e}s=Error(ne(426))}}else if(Ae&&l.mode&1){var w=$p(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Up(w,o,l,a,t),jc(bi(s,l));break e}}a=s=bi(s,l),He!==4&&(He=2),la===null?la=[a]:la.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=ch(a,s,t);Op(a,m);break e;case 1:l=s;var h=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(qn===null||!qn.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=fh(a,l,t);Op(a,x);break e}}a=a.return}while(a!==null)}Ah(n)}catch(S){t=S,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function Nh(){var e=ol.current;return ol.current=al,e===null?al:e}function sf(){(He===0||He===3||He===2)&&(He=4),Ge===null||!(Ir&268435455)&&!($l&268435455)||Dn(Ge,Xe)}function ul(e,t){var n=_e;_e|=2;var r=Nh();(Ge!==e||Xe!==t)&&(ln=null,hr(e,t));do try{O_();break}catch(i){Fh(e,i)}while(!0);if(Wc(),_e=n,ol.current=r,Le!==null)throw Error(ne(261));return Ge=null,Xe=0,He}function O_(){for(;Le!==null;)Ch(Le)}function R_(){for(;Le!==null&&!iw();)Ch(Le)}function Ch(e){var t=Oh(e.alternate,e,vt);e.memoizedProps=e.pendingProps,t===null?Ah(e):Le=t,nf.current=null}function Ah(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=E_(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Le=null;return}}else if(n=I_(n,t,vt),n!==null){Le=n;return}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);He===0&&(He=5)}function or(e,t,n){var r=Se,i=Rt.transition;try{Rt.transition=null,Se=1,P_(e,t,n,r)}finally{Rt.transition=i,Se=r}return null}function P_(e,t,n,r){do ui();while($n!==null);if(_e&6)throw Error(ne(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(mw(e,a),e===Ge&&(Le=Ge=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||co||(co=!0,Rh(Ho,function(){return ui(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Rt.transition,Rt.transition=null;var o=Se;Se=1;var l=_e;_e|=4,nf.current=null,N_(e,n),Sh(n,e),e_(_u),qo=!!wu,_u=wu=null,e.current=n,C_(n),aw(),_e=l,Se=o,Rt.transition=a}else e.current=n;if(co&&(co=!1,$n=e,sl=i),a=e.pendingLanes,a===0&&(qn=null),sw(n.stateNode),yt(e,ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ll)throw ll=!1,e=ju,ju=null,e;return sl&1&&e.tag!==0&&ui(),a=e.pendingLanes,a&1?e===Bu?sa++:(sa=0,Bu=e):sa=0,nr(),null}function ui(){if($n!==null){var e=cg(sl),t=Rt.transition,n=Se;try{if(Rt.transition=null,Se=16>e?16:e,$n===null)var r=!1;else{if(e=$n,$n=null,sl=0,_e&6)throw Error(ne(331));var i=_e;for(_e|=4,fe=e.current;fe!==null;){var a=fe,o=a.child;if(fe.flags&16){var l=a.deletions;if(l!==null){for(var s=0;s<l.length;s++){var u=l[s];for(fe=u;fe!==null;){var c=fe;switch(c.tag){case 0:case 11:case 15:oa(8,c,a)}var f=c.child;if(f!==null)f.return=c,fe=f;else for(;fe!==null;){c=fe;var d=c.sibling,p=c.return;if(_h(c),c===u){fe=null;break}if(d!==null){d.return=p,fe=d;break}fe=p}}}var b=a.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}fe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,fe=o;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:oa(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,fe=m;break e}fe=a.return}}var h=e.current;for(fe=h;fe!==null;){o=fe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,fe=v;else e:for(o=h;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ll(9,l)}}catch(S){Me(l,l.return,S)}if(l===o){fe=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,fe=x;break e}fe=l.return}}if(_e=i,nr(),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Al,e)}catch{}r=!0}return r}finally{Se=n,Rt.transition=t}}return!1}function Jp(e,t,n){t=bi(n,t),t=ch(e,t,1),e=Vn(e,t,1),t=st(),e!==null&&($a(e,1,t),yt(e,t))}function Me(e,t,n){if(e.tag===3)Jp(e,e,n);else for(;t!==null;){if(t.tag===3){Jp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){e=bi(n,e),e=fh(t,e,1),t=Vn(t,e,1),e=st(),t!==null&&($a(t,1,e),yt(t,e));break}}t=t.return}}function M_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(Xe&n)===n&&(He===4||He===3&&(Xe&130023424)===Xe&&500>ze()-af?hr(e,0):rf|=n),yt(e,t)}function Th(e,t){t===0&&(e.mode&1?(t=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):t=1);var n=st();e=vn(e,t),e!==null&&($a(e,t,n),yt(e,n))}function D_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Th(e,n)}function z_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),Th(e,n)}var Oh;Oh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pt=!1,S_(e,t,n);pt=!!(e.flags&131072)}else pt=!1,Ae&&t.flags&1048576&&Dg(t,Jo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ro(e,t),e=t.pendingProps;var i=mi(t,it.current);si(t,n),i=Xc(null,t,r,e,i,n);var a=Qc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(a=!0,Xo(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qc(t),i.updater=zl,t.stateNode=i,i._reactInternals=t,Au(t,r,e,n),t=Ru(null,t,r,!0,a,n)):(t.tag=0,Ae&&a&&$c(t),ot(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ro(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$_(r),e=$t(r,e),i){case 0:t=Ou(null,t,r,e,n);break e;case 1:t=Wp(null,t,r,e,n);break e;case 11:t=jp(null,t,r,e,n);break e;case 14:t=Bp(null,t,r,$t(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),Ou(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),Wp(e,t,r,i,n);case 3:e:{if(gh(t),e===null)throw Error(ne(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Bg(e,t),nl(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=bi(Error(ne(423)),t),t=Hp(e,t,r,n,i);break e}else if(r!==i){i=bi(Error(ne(424)),t),t=Hp(e,t,r,n,i);break e}else for(wt=Hn(t.stateNode.containerInfo.firstChild),_t=t,Ae=!0,Bt=null,n=Ug(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(gi(),r===i){t=wn(e,t,n);break e}ot(e,t,r,n)}t=t.child}return t;case 5:return Wg(t),e===null&&Fu(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,xu(r,i)?o=null:a!==null&&xu(r,a)&&(t.flags|=32),mh(e,t),ot(e,t,o,n),t.child;case 6:return e===null&&Fu(t),null;case 13:return hh(e,t,n);case 4:return Gc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=hi(t,null,r,n):ot(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),jp(e,t,r,i,n);case 7:return ot(e,t,t.pendingProps,n),t.child;case 8:return ot(e,t,t.pendingProps.children,n),t.child;case 12:return ot(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ee(el,r._currentValue),r._currentValue=o,a!==null)if(Kt(a.value,o)){if(a.children===i.children&&!gt.current){t=wn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var s=l.firstContext;s!==null;){if(s.context===r){if(a.tag===1){s=mn(-1,n&-n),s.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?s.next=s:(s.next=c.next,c.next=s),u.pending=s}}a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Nu(a.return,n,t),l.lanes|=n;break}s=s.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ne(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nu(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ot(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,si(t,n),i=Pt(i),r=r(i),t.flags|=1,ot(e,t,r,n),t.child;case 14:return r=t.type,i=$t(r,t.pendingProps),i=$t(r.type,i),Bp(e,t,r,i,n);case 15:return ph(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$t(r,i),Ro(e,t),t.tag=1,ht(r)?(e=!0,Xo(t)):e=!1,si(t,n),uh(t,r,i),Au(t,r,i,n),Ru(null,t,r,!0,e,n);case 19:return yh(e,t,n);case 22:return dh(e,t,n)}throw Error(ne(156,t.tag))};function Rh(e,t){return og(e,t)}function L_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,r){return new L_(e,t,n,r)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $_(e){if(typeof e=="function")return uf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fc)return 11;if(e===Nc)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Do(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")uf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wr:return yr(n.children,i,a,t);case Ec:o=8,i|=8;break;case eu:return e=Tt(12,n,t,i|2),e.elementType=eu,e.lanes=a,e;case tu:return e=Tt(13,n,t,i),e.elementType=tu,e.lanes=a,e;case nu:return e=Tt(19,n,t,i),e.elementType=nu,e.lanes=a,e;case Wm:return Ul(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jm:o=10;break e;case Bm:o=9;break e;case Fc:o=11;break e;case Nc:o=14;break e;case Tn:o=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=Tt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function yr(e,t,n,r){return e=Tt(7,e,r,t),e.lanes=n,e}function Ul(e,t,n,r){return e=Tt(22,e,r,t),e.elementType=Wm,e.lanes=n,e.stateNode={isHidden:!1},e}function As(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function Ts(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function U_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fs(0),this.expirationTimes=fs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cf(e,t,n,r,i,a,o,l,s){return e=new U_(e,t,n,l,s),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Tt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(a),e}function j_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Br,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ph(e){if(!e)return Qn;e=e._reactInternals;e:{if(Ar(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(ht(n))return Pg(e,n,t)}return t}function Mh(e,t,n,r,i,a,o,l,s){return e=cf(n,r,!0,e,i,a,o,l,s),e.context=Ph(null),n=e.current,r=st(),i=Gn(n),a=mn(r,i),a.callback=t??null,Vn(n,a,i),e.current.lanes=i,$a(e,i,r),yt(e,r),e}function jl(e,t,n,r){var i=t.current,a=st(),o=Gn(i);return n=Ph(n),t.context===null?t.context=n:t.pendingContext=n,t=mn(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vn(i,t,o),e!==null&&(Gt(e,i,o,a),Ao(e,i,o)),o}function cl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ed(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ff(e,t){ed(e,t),(e=e.alternate)&&ed(e,t)}function B_(){return null}var Dh=typeof reportError=="function"?reportError:function(e){console.error(e)};function pf(e){this._internalRoot=e}Bl.prototype.render=pf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));jl(e,t,null,null)};Bl.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Er(function(){jl(null,e,null,null)}),t[bn]=null}};function Bl(e){this._internalRoot=e}Bl.prototype.unstable_scheduleHydration=function(e){if(e){var t=dg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mn.length&&t!==0&&t<Mn[n].priority;n++);Mn.splice(n,0,e),n===0&&gg(e)}};function df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function td(){}function W_(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=cl(o);a.call(u)}}var o=Mh(t,r,e,0,null,!1,!1,"",td);return e._reactRootContainer=o,e[bn]=o.current,ya(e.nodeType===8?e.parentNode:e),Er(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=cl(s);l.call(u)}}var s=cf(e,0,!1,null,null,!1,!1,"",td);return e._reactRootContainer=s,e[bn]=s.current,ya(e.nodeType===8?e.parentNode:e),Er(function(){jl(t,s,n,r)}),s}function Hl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var s=cl(o);l.call(s)}}jl(t,o,e,i)}else o=W_(n,t,e,i,r);return cl(o)}fg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Gi(t.pendingLanes);n!==0&&(Tc(t,n|1),yt(t,ze()),!(_e&6)&&(vi=ze()+500,nr()))}break;case 13:Er(function(){var r=vn(e,1);if(r!==null){var i=st();Gt(r,e,1,i)}}),ff(e,1)}};Oc=function(e){if(e.tag===13){var t=vn(e,134217728);if(t!==null){var n=st();Gt(t,e,134217728,n)}ff(e,134217728)}};pg=function(e){if(e.tag===13){var t=Gn(e),n=vn(e,t);if(n!==null){var r=st();Gt(n,e,t,r)}ff(e,t)}};dg=function(){return Se};mg=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};pu=function(e,t,n){switch(t){case"input":if(au(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pl(r);if(!i)throw Error(ne(90));Vm(r),au(r,i)}}}break;case"textarea":Gm(e,n);break;case"select":t=n.value,t!=null&&ii(e,!!n.multiple,t,!1)}};eg=of;tg=Er;var H_={usingClientEntryPoint:!1,Events:[ja,Gr,Pl,Qm,Jm,of]},$i={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V_={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ig(e),e===null?null:e.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||B_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{Al=fo.inject(V_),en=fo}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(t))throw Error(ne(200));return j_(e,t,null,n)};St.createRoot=function(e,t){if(!df(e))throw Error(ne(299));var n=!1,r="",i=Dh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=cf(e,1,!1,null,null,n,!1,r,i),e[bn]=t.current,ya(e.nodeType===8?e.parentNode:e),new pf(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=ig(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Er(e)};St.hydrate=function(e,t,n){if(!Wl(t))throw Error(ne(200));return Hl(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!df(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=Dh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Mh(t,null,e,1,n??null,i,!1,a,o),e[bn]=t.current,ya(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bl(t)};St.render=function(e,t,n){if(!Wl(t))throw Error(ne(200));return Hl(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!Wl(e))throw Error(ne(40));return e._reactRootContainer?(Er(function(){Hl(null,null,e,!1,function(){e._reactRootContainer=null,e[bn]=null})}),!0):!1};St.unstable_batchedUpdates=of;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wl(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return Hl(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function zh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zh)}catch(e){console.error(e)}}zh(),zm.exports=St;var Wa=zm.exports;const ei=Ei(Wa);var nd=Wa;Qs.createRoot=nd.createRoot,Qs.hydrateRoot=nd.hydrateRoot;const q_=({onNewWorkspace:e,onClearWorkspace:t,onRemoveWorkspace:n,workspaceCount:r,onGenerateWorkflow:i})=>M.jsxs("div",{className:"actions-bar",style:{position:"relative"},children:[M.jsx("button",{className:"actions-button",onClick:e,children:"New Workspace"}),M.jsx("div",{className:"separator"}),M.jsx("button",{className:"actions-button",onClick:t,children:"Clear Workspace"}),M.jsx("div",{className:"separator"}),M.jsx("button",{className:"actions-button",onClick:n,disabled:r===1,children:"Remove Workspace"}),M.jsx("div",{className:"separator"}),M.jsx("button",{className:"actions-button btn-primary btn-lg",onClick:i,children:"Generate Workflow"})]});var Lh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=i(a,r(l)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return n.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=i(o,l));return o}function i(a,o){return o?a?a+" "+o:a+o:a}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Lh);var G_=Lh.exports;const xe=Ei(G_);function Y_(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vu(e,t){return Vu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Vu(e,t)}function K_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Vu(e,t)}const Z_=["xxl","xl","lg","md","sm","xs"],X_="xs",Ha=E.createContext({prefixes:{},breakpoints:Z_,minBreakpoint:X_}),{Consumer:M3,Provider:D3}=Ha;function Pe(e,t){const{prefixes:n}=E.useContext(Ha);return e||n[t]||t}function Q_(){const{breakpoints:e}=E.useContext(Ha);return e}function J_(){const{minBreakpoint:e}=E.useContext(Ha);return e}function ex(){const{dir:e}=E.useContext(Ha);return e==="rtl"}function Vl(e){return e&&e.ownerDocument||document}function tx(e){var t=Vl(e);return t&&t.defaultView||window}function nx(e,t){return tx(e).getComputedStyle(e,t)}var rx=/([A-Z])/g;function ix(e){return e.replace(rx,"-$1").toLowerCase()}var ax=/^ms-/;function po(e){return ix(e).replace(ax,"-ms-")}var ox=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function lx(e){return!!(e&&ox.test(e))}function br(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(po(t))||nx(e).getPropertyValue(po(t));Object.keys(t).forEach(function(i){var a=t[i];!a&&a!==0?e.style.removeProperty(po(i)):lx(i)?r+=i+"("+a+") ":n+=po(i)+": "+a+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var $h={exports:{}},sx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ux=sx,cx=ux;function Uh(){}function jh(){}jh.resetWarningCache=Uh;var fx=function(){function e(r,i,a,o,l,s){if(s!==cx){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jh,resetWarningCache:Uh};return n.PropTypes=n,n};$h.exports=fx();var px=$h.exports;const gn=Ei(px),rd={disabled:!1},Bh=X.createContext(null);var dx=function(t){return t.scrollTop},Ki="unmounted",lr="exited",un="entering",ur="entered",fl="exiting",En=function(e){K_(t,e);function t(r,i){var a;a=e.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,s;return a.appearStatus=null,r.in?l?(s=lr,a.appearStatus=un):s=ur:r.unmountOnExit||r.mountOnEnter?s=Ki:s=lr,a.state={status:s},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var o=i.in;return o&&a.status===Ki?{status:lr}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==un&&o!==ur&&(a=un):(o===un||o===ur)&&(a=fl)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,o,l;return a=o=l=i,i!=null&&typeof i!="number"&&(a=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:a,enter:o,appear:l}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===un){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ei.findDOMNode(this);o&&dx(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lr&&this.setState({status:Ki})},n.performEnter=function(i){var a=this,o=this.props.enter,l=this.context?this.context.isMounting:i,s=this.props.nodeRef?[l]:[ei.findDOMNode(this),l],u=s[0],c=s[1],f=this.getTimeouts(),d=l?f.appear:f.enter;if(!i&&!o||rd.disabled){this.safeSetState({status:ur},function(){a.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:un},function(){a.props.onEntering(u,c),a.onTransitionEnd(d,function(){a.safeSetState({status:ur},function(){a.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,a=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:ei.findDOMNode(this);if(!a||rd.disabled){this.safeSetState({status:lr},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:fl},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:lr},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,a.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var o=this.props.nodeRef?this.props.nodeRef.current:ei.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=s[0],c=s[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ki)return null;var a=this.props,o=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var l=Y_(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return X.createElement(Bh.Provider,{value:null},typeof o=="function"?o(i,l):X.cloneElement(X.Children.only(o),l))},t}(X.Component);En.contextType=Bh;En.propTypes={};function Rr(){}En.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Rr,onEntering:Rr,onEntered:Rr,onExit:Rr,onExiting:Rr,onExited:Rr};En.UNMOUNTED=Ki;En.EXITED=lr;En.ENTERING=un;En.ENTERED=ur;En.EXITING=fl;function mx(e){return e.code==="Escape"||e.keyCode===27}function gx(){const e=E.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function ql(e){if(!e||typeof e=="function")return null;const{major:t}=gx();return t>=19?e.props.ref:e.ref}const Ai=!!(typeof window<"u"&&window.document&&window.document.createElement);var qu=!1,Gu=!1;try{var Os={get passive(){return qu=!0},get once(){return Gu=qu=!0}};Ai&&(window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,!0))}catch{}function Wh(e,t,n,r){if(r&&typeof r!="boolean"&&!Gu){var i=r.once,a=r.capture,o=n;!Gu&&i&&(o=n.__once||function l(s){this.removeEventListener(t,l,a),n.call(this,s)},n.__once=o),e.addEventListener(t,o,qu?r:a)}e.addEventListener(t,n,r)}function Yu(e,t,n,r){var i=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)}function pl(e,t,n,r){return Wh(e,t,n,r),function(){Yu(e,t,n,r)}}function hx(e,t,n,r){if(r===void 0&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}function yx(e){var t=br(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function bx(e,t,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||hx(e,"transitionend",!0)},t+n),a=pl(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),a()}}function Hh(e,t,n,r){n==null&&(n=yx(e)||0);var i=bx(e,n,r),a=pl(e,"transitionend",t);return function(){i(),a()}}function id(e,t){const n=br(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function vx(e,t){const n=id(e,"transitionDuration"),r=id(e,"transitionDelay"),i=Hh(e,a=>{a.target===e&&(i(),t(a))},n+r)}function wx(e){e.offsetHeight}const ad=e=>!e||typeof e=="function"?e:t=>{e.current=t};function _x(e,t){const n=ad(e),r=ad(t);return i=>{n&&n(i),r&&r(i)}}function Vh(e,t){return E.useMemo(()=>_x(e,t),[e,t])}function xx(e){return e&&"setState"in e?ei.findDOMNode(e):e??null}const kx=X.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:i,onExited:a,addEndListener:o,children:l,childRef:s,...u},c)=>{const f=E.useRef(null),d=Vh(f,s),p=T=>{d(xx(T))},b=T=>I=>{T&&f.current&&T(f.current,I)},y=E.useCallback(b(e),[e]),w=E.useCallback(b(t),[t]),m=E.useCallback(b(n),[n]),h=E.useCallback(b(r),[r]),v=E.useCallback(b(i),[i]),x=E.useCallback(b(a),[a]),S=E.useCallback(b(o),[o]);return M.jsx(En,{ref:c,...u,onEnter:y,onEntered:m,onEntering:w,onExit:h,onExited:x,onExiting:v,addEndListener:S,nodeRef:f,children:typeof l=="function"?(T,I)=>l(T,{...I,ref:p}):X.cloneElement(l,{ref:p})})});function Sx(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e},[e]),t}function dl(e){const t=Sx(e);return E.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Ix=e=>E.forwardRef((t,n)=>M.jsx("div",{...t,ref:n,className:xe(t.className,e)}));function Ex(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e},[e]),t}function cr(e){const t=Ex(e);return E.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function Fx(){const e=E.useRef(!0),t=E.useRef(()=>e.current);return E.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Nx(e){const t=E.useRef(null);return E.useEffect(()=>{t.current=e}),t.current}const Cx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Ax=typeof document<"u",od=Ax||Cx?E.useLayoutEffect:E.useEffect,Tx=["as","disabled"];function Ox(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Rx(e){return!e||e.trim()==="#"}function qh({tagName:e,disabled:t,href:n,target:r,rel:i,role:a,onClick:o,tabIndex:l=0,type:s}){e||(n!=null||r!=null||i!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:s||"button",disabled:t},u];const c=d=>{if((t||e==="a"&&Rx(n))&&d.preventDefault(),t){d.stopPropagation();return}o==null||o(d)},f=d=>{d.key===" "&&(d.preventDefault(),c(d))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:a??"button",disabled:void 0,tabIndex:t?void 0:l,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:c,onKeyDown:f},u]}const Px=E.forwardRef((e,t)=>{let{as:n,disabled:r}=e,i=Ox(e,Tx);const[a,{tagName:o}]=qh(Object.assign({tagName:n,disabled:r},i));return M.jsx(o,Object.assign({},i,a,{ref:t}))});Px.displayName="Button";const Mx={[un]:"show",[ur]:"show"},Gl=E.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...i},a)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=E.useCallback((s,u)=>{wx(s),r==null||r(s,u)},[r]);return M.jsx(kx,{ref:a,addEndListener:vx,...o,onEnter:l,childRef:ql(t),children:(s,u)=>E.cloneElement(t,{...u,className:xe("fade",e,t.props.className,Mx[s],n[s])})})});Gl.displayName="Fade";const Dx={"aria-label":gn.string,onClick:gn.func,variant:gn.oneOf(["white"])},Yl=E.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},i)=>M.jsx("button",{ref:i,type:"button",className:xe("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));Yl.displayName="CloseButton";Yl.propTypes=Dx;const Ku=E.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:i=!1,disabled:a=!1,className:o,...l},s)=>{const u=Pe(t,"btn"),[c,{tagName:f}]=qh({tagName:e,disabled:a,...l}),d=f;return M.jsx(d,{...c,...l,ref:s,disabled:a,className:xe(o,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,l.href&&a&&"disabled")})});Ku.displayName="Button";function zx(){const e=E.useRef(!0),t=E.useRef(()=>e.current);return E.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Lx(e){const t=E.useRef(e);return t.current=e,t}function Gh(e){const t=Lx(e);E.useEffect(()=>()=>t.current(),[])}const Zu=2**31-1;function Yh(e,t,n){const r=n-Date.now();e.current=r<=Zu?setTimeout(t,r):setTimeout(()=>Yh(e,t,n),Zu)}function $x(){const e=zx(),t=E.useRef();return Gh(()=>clearTimeout(t.current)),E.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(i,a=0){e()&&(n(),a<=Zu?t.current=setTimeout(i,a):Yh(t,i,Date.now()+a))}return{set:r,clear:n,handleRef:t}},[])}function Ux(e,t){return E.Children.toArray(e).some(n=>E.isValidElement(n)&&n.type===t)}function jx({as:e,bsPrefix:t,className:n,...r}){t=Pe(t,"col");const i=Q_(),a=J_(),o=[],l=[];return i.forEach(s=>{const u=r[s];delete r[s];let c,f,d;typeof u=="object"&&u!=null?{span:c,offset:f,order:d}=u:c=u;const p=s!==a?`-${s}`:"";c&&o.push(c===!0?`${t}${p}`:`${t}${p}-${c}`),d!=null&&l.push(`order${p}-${d}`),f!=null&&l.push(`offset${p}-${f}`)}),[{...r,className:xe(n,...o,...l)},{as:e,bsPrefix:t,spans:o}]}const Kh=E.forwardRef((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:a,spans:o}]=jx(e);return M.jsx(i,{...r,ref:t,className:xe(n,!o.length&&a)})});Kh.displayName="Col";var Bx=Function.prototype.bind.call(Function.prototype.call,[].slice);function Pr(e,t){return Bx(e.querySelectorAll(t))}function ld(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const Wx="data-rr-ui-";function Hx(e){return`${Wx}${e}`}const Zh=E.createContext(Ai?window:void 0);Zh.Provider;function mf(){return E.useContext(Zh)}const Vx={type:gn.string,tooltip:gn.bool,as:gn.elementType},Kl=E.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...i},a)=>M.jsx(e,{...i,ref:a,className:xe(t,`${n}-${r?"tooltip":"feedback"}`)}));Kl.displayName="Feedback";Kl.propTypes=Vx;const _n=E.createContext({}),gf=E.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:i=!1,isInvalid:a=!1,as:o="input",...l},s)=>{const{controlId:u}=E.useContext(_n);return t=Pe(t,"form-check-input"),M.jsx(o,{...l,ref:s,type:r,id:e||u,className:xe(n,t,i&&"is-valid",a&&"is-invalid")})});gf.displayName="FormCheckInput";const ml=E.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},i)=>{const{controlId:a}=E.useContext(_n);return e=Pe(e,"form-check-label"),M.jsx("label",{...r,ref:i,htmlFor:n||a,className:xe(t,e)})});ml.displayName="FormCheckLabel";const Xh=E.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:a=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:s=!1,feedback:u,feedbackType:c,className:f,style:d,title:p="",type:b="checkbox",label:y,children:w,as:m="input",...h},v)=>{t=Pe(t,"form-check"),n=Pe(n,"form-switch");const{controlId:x}=E.useContext(_n),S=E.useMemo(()=>({controlId:e||x}),[x,e]),T=!w&&y!=null&&y!==!1||Ux(w,ml),I=M.jsx(gf,{...h,type:b==="switch"?"checkbox":b,ref:v,isValid:o,isInvalid:l,disabled:a,as:m});return M.jsx(_n.Provider,{value:S,children:M.jsx("div",{style:d,className:xe(f,T&&t,r&&`${t}-inline`,i&&`${t}-reverse`,b==="switch"&&n),children:w||M.jsxs(M.Fragment,{children:[I,T&&M.jsx(ml,{title:p,children:y}),u&&M.jsx(Kl,{type:c,tooltip:s,children:u})]})})})});Xh.displayName="FormCheck";const gl=Object.assign(Xh,{Input:gf,Label:ml}),Qh=E.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:i,className:a,isValid:o=!1,isInvalid:l=!1,plaintext:s,readOnly:u,as:c="input",...f},d)=>{const{controlId:p}=E.useContext(_n);return e=Pe(e,"form-control"),M.jsx(c,{...f,type:t,size:r,ref:d,readOnly:u,id:i||p,className:xe(a,s?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,o&&"is-valid",l&&"is-invalid")})});Qh.displayName="FormControl";const qx=Object.assign(Qh,{Feedback:Kl}),Jh=E.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Pe(t,"form-floating"),M.jsx(n,{ref:i,className:xe(e,t),...r})));Jh.displayName="FormFloating";const hf=E.forwardRef(({controlId:e,as:t="div",...n},r)=>{const i=E.useMemo(()=>({controlId:e}),[e]);return M.jsx(_n.Provider,{value:i,children:M.jsx(t,{...n,ref:r})})});hf.displayName="FormGroup";const ey=E.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:a,...o},l)=>{const{controlId:s}=E.useContext(_n);t=Pe(t,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=xe(i,t,r&&"visually-hidden",n&&u);return a=a||s,n?M.jsx(Kh,{ref:l,as:"label",className:c,htmlFor:a,...o}):M.jsx(e,{ref:l,className:c,htmlFor:a,...o})});ey.displayName="FormLabel";const ty=E.forwardRef(({bsPrefix:e,className:t,id:n,...r},i)=>{const{controlId:a}=E.useContext(_n);return e=Pe(e,"form-range"),M.jsx("input",{...r,type:"range",ref:i,className:xe(t,e),id:n||a})});ty.displayName="FormRange";const ny=E.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:i=!1,isInvalid:a=!1,id:o,...l},s)=>{const{controlId:u}=E.useContext(_n);return e=Pe(e,"form-select"),M.jsx("select",{...l,size:n,ref:s,className:xe(r,e,t&&`${e}-${t}`,i&&"is-valid",a&&"is-invalid"),id:o||u})});ny.displayName="FormSelect";const ry=E.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...i},a)=>(e=Pe(e,"form-text"),M.jsx(n,{...i,ref:a,className:xe(t,e,r&&"text-muted")})));ry.displayName="FormText";const iy=E.forwardRef((e,t)=>M.jsx(gl,{...e,ref:t,type:"switch"}));iy.displayName="Switch";const Gx=Object.assign(iy,{Input:gl.Input,Label:gl.Label}),ay=E.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:i,...a},o)=>(e=Pe(e,"form-floating"),M.jsxs(hf,{ref:o,className:xe(t,e),controlId:r,...a,children:[n,M.jsx("label",{htmlFor:r,children:i})]})));ay.displayName="FloatingLabel";const Yx={_ref:gn.any,validated:gn.bool,as:gn.elementType},yf=E.forwardRef(({className:e,validated:t,as:n="form",...r},i)=>M.jsx(n,{...r,ref:i,className:xe(e,t&&"was-validated")}));yf.displayName="Form";yf.propTypes=Yx;const Cn=Object.assign(yf,{Group:hf,Control:qx,Floating:Jh,Check:gl,Switch:Gx,Label:ey,Text:ry,Range:ty,Select:ny,FloatingLabel:ay}),sd=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Kx(e,t){const n=sd(e),r=sd(t);return i=>{n&&n(i),r&&r(i)}}function bf(e,t){return E.useMemo(()=>Kx(e,t),[e,t])}var mo;function ud(e){if((!mo&&mo!==0||e)&&Ai){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),mo=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return mo}function Zx(){return E.useState(null)}function Rs(e){e===void 0&&(e=Vl());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function Xx(e){const t=E.useRef(e);return t.current=e,t}function Qx(e){const t=Xx(e);E.useEffect(()=>()=>t.current(),[])}function Jx(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const cd=Hx("modal-open");class vf{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return Jx(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[r]:i.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(br(i,r)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(cd,""),br(i,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(cd),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Ps=(e,t)=>Ai?e==null?(t||Vl()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function ek(e,t){const n=mf(),[r,i]=E.useState(()=>Ps(e,n==null?void 0:n.document));if(!r){const a=Ps(e);a&&i(a)}return E.useEffect(()=>{},[t,r]),E.useEffect(()=>{const a=Ps(e);a!==r&&i(a)},[e,r]),r}function tk({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:i}){const a=E.useRef(null),o=E.useRef(t),l=cr(n);E.useEffect(()=>{t?o.current=!0:l(a.current)},[t,l]);const s=bf(a,ql(e)),u=E.cloneElement(e,{ref:s});return t?u:i||!o.current&&r?null:u}const nk=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function rk(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ik(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:i,onExiting:a,onExited:o,addEndListener:l,children:s}=e,u=rk(e,nk);const c=E.useRef(null),f=bf(c,ql(s)),d=x=>S=>{x&&c.current&&x(c.current,S)},p=E.useCallback(d(t),[t]),b=E.useCallback(d(n),[n]),y=E.useCallback(d(r),[r]),w=E.useCallback(d(i),[i]),m=E.useCallback(d(a),[a]),h=E.useCallback(d(o),[o]),v=E.useCallback(d(l),[l]);return Object.assign({},u,{nodeRef:c},t&&{onEnter:p},n&&{onEntering:b},r&&{onEntered:y},i&&{onExit:w},a&&{onExiting:m},o&&{onExited:h},l&&{addEndListener:v},{children:typeof s=="function"?(x,S)=>s(x,Object.assign({},S,{ref:f})):E.cloneElement(s,{ref:f})})}const ak=["component"];function ok(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}const lk=E.forwardRef((e,t)=>{let{component:n}=e,r=ok(e,ak);const i=ik(r);return M.jsx(n,Object.assign({ref:t},i))});function sk({in:e,onTransition:t}){const n=E.useRef(null),r=E.useRef(!0),i=cr(t);return od(()=>{if(!n.current)return;let a=!1;return i({in:e,element:n.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[e,i]),od(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function uk({children:e,in:t,onExited:n,onEntered:r,transition:i}){const[a,o]=E.useState(!t);t&&a&&o(!1);const l=sk({in:!!t,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(o(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,f=>{throw u.in||o(!0),f})}}),s=bf(l,ql(e));return a&&!t?null:E.cloneElement(e,{ref:s})}function fd(e,t,n){return e?M.jsx(lk,Object.assign({},n,{component:e})):t?M.jsx(uk,Object.assign({},n,{transition:t})):M.jsx(tk,Object.assign({},n))}const ck=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function fk(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}let Ms;function pk(e){return Ms||(Ms=new vf({ownerDocument:e==null?void 0:e.document})),Ms}function dk(e){const t=mf(),n=e||pk(t),r=E.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:E.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:E.useCallback(i=>{r.current.backdrop=i},[])})}const oy=E.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:i,style:a,children:o,backdrop:l=!0,keyboard:s=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:f,runTransition:d,backdropTransition:p,runBackdropTransition:b,autoFocus:y=!0,enforceFocus:w=!0,restoreFocus:m=!0,restoreFocusOptions:h,renderDialog:v,renderBackdrop:x=V=>M.jsx("div",Object.assign({},V)),manager:S,container:T,onShow:I,onHide:L=()=>{},onExit:N,onExited:j,onExiting:H,onEnter:C,onEntering:R,onEntered:g}=e,A=fk(e,ck);const U=mf(),$=ek(T),O=dk(S),k=Fx(),B=Nx(n),[P,D]=E.useState(!n),Z=E.useRef(null);E.useImperativeHandle(t,()=>O,[O]),Ai&&!B&&n&&(Z.current=Rs(U==null?void 0:U.document)),n&&P&&D(!1);const G=cr(()=>{if(O.add(),ce.current=pl(document,"keydown",le),se.current=pl(document,"focus",()=>setTimeout(ae),!0),I&&I(),y){var V,Y;const z=Rs((V=(Y=O.dialog)==null?void 0:Y.ownerDocument)!=null?V:U==null?void 0:U.document);O.dialog&&z&&!ld(O.dialog,z)&&(Z.current=z,O.dialog.focus())}}),K=cr(()=>{if(O.remove(),ce.current==null||ce.current(),se.current==null||se.current(),m){var V;(V=Z.current)==null||V.focus==null||V.focus(h),Z.current=null}});E.useEffect(()=>{!n||!$||G()},[n,$,G]),E.useEffect(()=>{P&&K()},[P,K]),Qx(()=>{K()});const ae=cr(()=>{if(!w||!k()||!O.isTopModal())return;const V=Rs(U==null?void 0:U.document);O.dialog&&V&&!ld(O.dialog,V)&&O.dialog.focus()}),ue=cr(V=>{V.target===V.currentTarget&&(u==null||u(V),l===!0&&L())}),le=cr(V=>{s&&mx(V)&&O.isTopModal()&&(c==null||c(V),V.defaultPrevented||L())}),se=E.useRef(),ce=E.useRef(),me=(...V)=>{D(!0),j==null||j(...V)};if(!$)return null;const be=Object.assign({role:r,ref:O.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},A,{style:a,className:i,tabIndex:-1});let we=v?v(be):M.jsx("div",Object.assign({},be,{children:E.cloneElement(o,{role:"document"})}));we=fd(f,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:N,onExiting:H,onExited:me,onEnter:C,onEntering:R,onEntered:g,children:we});let _=null;return l&&(_=x({ref:O.setBackdropRef,onClick:ue}),_=fd(p,b,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:_})),M.jsx(M.Fragment,{children:ei.createPortal(M.jsxs(M.Fragment,{children:[_,we]}),$)})});oy.displayName="Modal";const mk=Object.assign(oy,{Manager:vf});function gk(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function hk(e,t){e.classList?e.classList.add(t):gk(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function pd(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yk(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=pd(e.className,t):e.setAttribute("class",pd(e.className&&e.className.baseVal||"",t))}const Mr={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class bk extends vf{adjustAndStore(t,n,r){const i=n.style[t];n.dataset[t]=i,br(n,{[t]:`${parseFloat(br(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],br(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(hk(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Pr(n,Mr.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth)),Pr(n,Mr.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-t.scrollBarWidth)),Pr(n,Mr.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();yk(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Pr(n,Mr.FIXED_CONTENT).forEach(a=>this.restore(r,a)),Pr(n,Mr.STICKY_CONTENT).forEach(a=>this.restore(i,a)),Pr(n,Mr.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let Ds;function vk(e){return Ds||(Ds=new bk(e)),Ds}const ly=E.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Pe(t,"modal-body"),M.jsx(n,{ref:i,className:xe(e,t),...r})));ly.displayName="ModalBody";const sy=E.createContext({onHide(){}}),wf=E.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:i,fullscreen:a,children:o,scrollable:l,...s},u)=>{e=Pe(e,"modal");const c=`${e}-dialog`,f=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return M.jsx("div",{...s,ref:u,className:xe(c,t,i&&`${e}-${i}`,r&&`${c}-centered`,l&&`${c}-scrollable`,a&&f),children:M.jsx("div",{className:xe(`${e}-content`,n),children:o})})});wf.displayName="ModalDialog";const uy=E.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Pe(t,"modal-footer"),M.jsx(n,{ref:i,className:xe(e,t),...r})));uy.displayName="ModalFooter";const wk=E.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:i,...a},o)=>{const l=E.useContext(sy),s=dl(()=>{l==null||l.onHide(),r==null||r()});return M.jsxs("div",{ref:o,...a,children:[i,n&&M.jsx(Yl,{"aria-label":e,variant:t,onClick:s})]})}),cy=E.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...i},a)=>(e=Pe(e,"modal-header"),M.jsx(wk,{ref:a,...i,className:xe(t,e),closeLabel:n,closeButton:r})));cy.displayName="ModalHeader";const _k=Ix("h4"),fy=E.forwardRef(({className:e,bsPrefix:t,as:n=_k,...r},i)=>(t=Pe(t,"modal-title"),M.jsx(n,{ref:i,className:xe(e,t),...r})));fy.displayName="ModalTitle";function xk(e){return M.jsx(Gl,{...e,timeout:null})}function kk(e){return M.jsx(Gl,{...e,timeout:null})}const py=E.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:i,children:a,dialogAs:o=wf,"data-bs-theme":l,"aria-labelledby":s,"aria-describedby":u,"aria-label":c,show:f=!1,animation:d=!0,backdrop:p=!0,keyboard:b=!0,onEscapeKeyDown:y,onShow:w,onHide:m,container:h,autoFocus:v=!0,enforceFocus:x=!0,restoreFocus:S=!0,restoreFocusOptions:T,onEntered:I,onExit:L,onExiting:N,onEnter:j,onEntering:H,onExited:C,backdropClassName:R,manager:g,...A},U)=>{const[$,O]=E.useState({}),[k,B]=E.useState(!1),P=E.useRef(!1),D=E.useRef(!1),Z=E.useRef(null),[G,K]=Zx(),ae=Vh(U,K),ue=dl(m),le=ex();e=Pe(e,"modal");const se=E.useMemo(()=>({onHide:ue}),[ue]);function ce(){return g||vk({isRTL:le})}function me(ie){if(!Ai)return;const he=ce().getScrollbarWidth()>0,ge=ie.scrollHeight>Vl(ie).documentElement.clientHeight;O({paddingRight:he&&!ge?ud():void 0,paddingLeft:!he&&ge?ud():void 0})}const be=dl(()=>{G&&me(G.dialog)});Gh(()=>{Yu(window,"resize",be),Z.current==null||Z.current()});const we=()=>{P.current=!0},_=ie=>{P.current&&G&&ie.target===G.dialog&&(D.current=!0),P.current=!1},V=()=>{B(!0),Z.current=Hh(G.dialog,()=>{B(!1)})},Y=ie=>{ie.target===ie.currentTarget&&V()},z=ie=>{if(p==="static"){Y(ie);return}if(D.current||ie.target!==ie.currentTarget){D.current=!1;return}m==null||m()},F=ie=>{b?y==null||y(ie):(ie.preventDefault(),p==="static"&&V())},W=(ie,he)=>{ie&&me(ie),j==null||j(ie,he)},J=ie=>{Z.current==null||Z.current(),L==null||L(ie)},ee=(ie,he)=>{H==null||H(ie,he),Wh(window,"resize",be)},q=ie=>{ie&&(ie.style.display=""),C==null||C(ie),Yu(window,"resize",be)},te=E.useCallback(ie=>M.jsx("div",{...ie,className:xe(`${e}-backdrop`,R,!d&&"show")}),[d,R,e]),oe={...n,...$};oe.display="block";const re=ie=>M.jsx("div",{role:"dialog",...ie,style:oe,className:xe(t,e,k&&`${e}-static`,!d&&"show"),onClick:p?z:void 0,onMouseUp:_,"data-bs-theme":l,"aria-label":c,"aria-labelledby":s,"aria-describedby":u,children:M.jsx(o,{...A,onMouseDown:we,className:r,contentClassName:i,children:a})});return M.jsx(sy.Provider,{value:se,children:M.jsx(mk,{show:f,ref:ae,backdrop:p,container:h,keyboard:!0,autoFocus:v,enforceFocus:x,restoreFocus:S,restoreFocusOptions:T,onEscapeKeyDown:F,onShow:w,onHide:m,onEnter:W,onEntering:ee,onEntered:I,onExit:J,onExiting:N,onExited:q,manager:ce(),transition:d?xk:void 0,backdropTransition:d?kk:void 0,renderBackdrop:te,renderDialog:re})})});py.displayName="Modal";const Wt=Object.assign(py,{Body:ly,Header:cy,Title:fy,Footer:uy,Dialog:wf,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Sk={[un]:"showing",[fl]:"showing show"},dy=E.forwardRef((e,t)=>M.jsx(Gl,{...e,ref:t,transitionClasses:Sk}));dy.displayName="ToastFade";const my=E.createContext({onClose(){}}),gy=E.forwardRef(({bsPrefix:e,closeLabel:t="Close",closeVariant:n,closeButton:r=!0,className:i,children:a,...o},l)=>{e=Pe(e,"toast-header");const s=E.useContext(my),u=dl(c=>{s==null||s.onClose==null||s.onClose(c)});return M.jsxs("div",{ref:l,...o,className:xe(e,i),children:[a,r&&M.jsx(Yl,{"aria-label":t,variant:n,onClick:u,"data-dismiss":"toast"})]})});gy.displayName="ToastHeader";const hy=E.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},i)=>(t=Pe(t,"toast-body"),M.jsx(n,{ref:i,className:xe(e,t),...r})));hy.displayName="ToastBody";const yy=E.forwardRef(({bsPrefix:e,className:t,transition:n=dy,show:r=!0,animation:i=!0,delay:a=5e3,autohide:o=!1,onClose:l,onEntered:s,onExit:u,onExiting:c,onEnter:f,onEntering:d,onExited:p,bg:b,...y},w)=>{e=Pe(e,"toast");const m=E.useRef(a),h=E.useRef(l);E.useEffect(()=>{m.current=a,h.current=l},[a,l]);const v=$x(),x=!!(o&&r),S=E.useCallback(()=>{x&&(h.current==null||h.current())},[x]);E.useEffect(()=>{v.set(S,m.current)},[v,S]);const T=E.useMemo(()=>({onClose:l}),[l]),I=!!(n&&i),L=M.jsx("div",{...y,ref:w,className:xe(e,t,b&&`bg-${b}`,!I&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return M.jsx(my.Provider,{value:T,children:I&&n?M.jsx(n,{in:r,onEnter:f,onEntering:d,onEntered:s,onExit:u,onExiting:c,onExited:p,unmountOnExit:!0,children:L}):L})});yy.displayName="Toast";const zs=Object.assign(yy,{Body:hy,Header:gy}),Ik={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},by=E.forwardRef(({bsPrefix:e,position:t,containerPosition:n,className:r,as:i="div",...a},o)=>(e=Pe(e,"toast-container"),M.jsx(i,{ref:o,...a,className:xe(e,t&&Ik[t],n&&`position-${n}`,r)})));by.displayName="ToastContainer";function Ek(){const[e,t]=E.useState(!1),n=()=>t(!0),r=()=>t(!1);return M.jsxs("div",{className:"header-bar",children:[M.jsx("h1",{children:"niBuild"}),M.jsx("span",{className:"header-span",onClick:n,children:"[how-to]"}),M.jsx("a",{className:"header-span header-link",href:"https://github.com/KunaalAgarwal/niBuild",target:"_blank",children:"[github]"}),M.jsx("a",{className:"header-span header-link",href:"https://github.com/KunaalAgarwal/niBuild/issues",target:"_blank",children:"[issues]"}),M.jsx(Wt,{className:"custom-modal",show:e,onHide:r,centered:!0,children:M.jsx(Wt.Body,{className:"modal-label header-modal",children:M.jsxs("ul",{style:{paddingLeft:"20px",marginBottom:"0",lineHeight:"2.0"},children:[M.jsxs("li",{children:[M.jsx("strong",{children:"Drag and Drop:"})," Move tools from the left-side menu onto the canvas."]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Tool Info:"})," Hover over a tool to see its function and typical use case."]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Tool Documentation:"})," Double-click a tool in the menu to open its official documentation."]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Connect Nodes:"})," Draw a connection between nodes to open the mapping modal, where you can specify which outputs connect to which inputs."]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Edit Connections:"})," Double-click an edge to modify output-to-input mappings."]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Optional Parameters:"})," Double-click a node on the canvas to configure optional parameters (e.g., thresholds, flags)."]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Delete Elements:"})," Select a node or edge and press Delete/Backspace to remove it."]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Manage Workspaces:"})," Organize workflows using multiple workspaces, saved in browser storage."]}),M.jsxs("li",{children:[M.jsx("strong",{children:"Generate Workflow:"})," Export a CWL workflow zip containing the workflow definition and tool dependencies."]})]})})})]})}function dd({name:e,toolInfo:t,onDragStart:n}){const[r,i]=E.useState(!1),[a,o]=E.useState({top:0,left:0}),l=E.useRef(null),s=p=>p.length>18?"font-smaller":p.length>10?"font-small":"",u=()=>{if(l.current){const p=l.current.getBoundingClientRect();o({top:p.top+p.height/2,left:p.right+10})}i(!0)},c=()=>{i(!1)},f=()=>{t!=null&&t.docUrl&&window.open(t.docUrl,"_blank","noopener,noreferrer")},d=s(e);return M.jsxs("div",{ref:l,className:`workflow-menu-item ${d}`,draggable:!0,onDragStart:p=>n(p,e),onMouseEnter:u,onMouseLeave:c,onDoubleClick:f,children:[M.jsx("span",{className:"tool-name",children:e}),t&&r&&Wa.createPortal(M.jsxs("div",{className:"workflow-tooltip",style:{top:a.top,left:a.left,transform:"translateY(-50%)"},children:[t.fullName&&M.jsx("div",{className:"tooltip-section tooltip-fullname",children:M.jsx("span",{className:"tooltip-text",children:t.fullName})}),M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Function:"}),M.jsx("span",{className:"tooltip-text",children:t.function})]}),t.modality&&M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Expected Input:"}),M.jsx("span",{className:"tooltip-text",children:t.modality})]}),t.keyParameters&&M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Key Parameters:"}),M.jsx("span",{className:"tooltip-text",children:t.keyParameters})]}),t.keyPoints&&M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Key Points:"}),M.jsx("span",{className:"tooltip-text",children:t.keyPoints})]}),M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Typical Use:"}),M.jsx("span",{className:"tooltip-text",children:t.typicalUse})]})]}),document.body)]})}const Fk={FSL:{"Brain Extraction":[{name:"bet",fullName:"Brain Extraction Tool (BET)",function:"Removes non-brain tissue from MRI images using a deformable surface model that iteratively fits to the brain boundary.",modality:"T1-weighted structural image (3D NIfTI). Can also process 4D fMRI with -F flag.",keyParameters:"-f (fractional intensity 01, default 0.5), -g (vertical gradient), -R (robust mode), -m (output binary mask)",keyPoints:"Default threshold works for most T1s. Use -R for noisy/difficult data. Lower -f (~0.3) for functional images.",typicalUse:"First step in structural or functional preprocessing to isolate brain tissue.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/BET"}],"Tissue Segmentation":[{name:"fast",fullName:"FMRIB's Automated Segmentation Tool (FAST)",function:"Segments brain images into gray matter, white matter, and CSF using a hidden Markov random field model with integrated bias field correction.",modality:"Brain-extracted T1-weighted 3D NIfTI volume.",keyParameters:"-n (number of tissue classes, default 3), -t (image type: 1=T1, 2=T2, 3=PD), -B (output bias field), -o (output basename)",keyPoints:"Input must be brain-extracted. Outputs partial volume maps (*_pve_0/1/2) for each tissue class. Use -B to get estimated bias field.",typicalUse:"Tissue probability maps for normalization, VBM studies, or masking.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FAST"},{name:"run_first_all",fullName:"FMRIB's Integrated Registration and Segmentation Tool (FIRST)",function:"Automated segmentation of subcortical structures using shape and appearance models trained on manually labeled data.",modality:"T1-weighted 3D NIfTI volume (does not need to be brain-extracted).",keyParameters:"-i (input image), -o (output basename), -b (run BET first), -s (comma-separated structures list)",keyPoints:"Models 15 subcortical structures. Outputs meshes (.vtk) and volumetric labels. Can run on selected structures only with -s flag.",typicalUse:"Volumetric analysis of subcortical structures (hippocampus, amygdala, caudate, etc.).",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FIRST"}],Registration:[{name:"flirt",fullName:"FMRIB's Linear Image Registration Tool (FLIRT)",function:"Linear (affine) registration between images using optimized cost functions with 6, 7, 9, or 12 degrees of freedom.",modality:"Any 3D NIfTI volume pair (structural, functional, or standard template).",keyParameters:"-ref (reference image), -dof (degrees of freedom: 6/7/9/12), -cost (cost function), -omat (output matrix)",keyPoints:"Use 6-DOF for within-subject rigid-body, 12-DOF for cross-subject affine. Cost function matters: corratio for intra-modal, mutualinfo for inter-modal.",typicalUse:"EPI-to-structural alignment, structural-to-standard registration.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FLIRT"},{name:"fnirt",fullName:"FMRIB's Non-linear Image Registration Tool (FNIRT)",function:"Non-linear registration using B-spline deformations for precise anatomical alignment to a template.",modality:"T1-weighted 3D NIfTI volume plus reference template. Requires initial affine from FLIRT.",keyParameters:"--ref (reference), --aff (initial affine), --config (config file), --cout (coefficient output), --iout (warped output)",keyPoints:"Always run FLIRT first for initial alignment. Use --config=T1_2_MNI152_2mm for standard T1-to-MNI. Computationally intensive.",typicalUse:"High-accuracy normalization to MNI space for group analyses.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FNIRT"}],Pipelines:[{name:"fsl_anat",fullName:"FSL Anatomical Processing Pipeline",function:"Comprehensive automated pipeline for structural T1 processing including reorientation, cropping, bias correction, registration, segmentation, and subcortical segmentation.",modality:"T1-weighted 3D NIfTI volume.",keyParameters:"-i (input image), --noseg (skip segmentation), --nosubcortseg (skip subcortical), --nononlinreg (skip non-linear registration)",keyPoints:"Runs BET, FAST, FLIRT, FNIRT, and FIRST in sequence. Creates output directory with all intermediate files. Good for standardized structural processing.",typicalUse:"Full structural preprocessing from T1 image.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/fsl_anat"},{name:"siena",fullName:"Structural Image Evaluation using Normalisation of Atrophy (SIENA)",function:"Estimates percentage brain volume change between two timepoints using edge-point displacement analysis.",modality:"Two T1-weighted 3D NIfTI volumes from different timepoints.",keyParameters:"-o (output directory), -BET (BET options), -2 (2-class segmentation), -S (SIENA step options)",keyPoints:"Requires two scans of same subject at different timepoints. Reports percentage brain volume change (PBVC). Accurate to ~0.2% volume change.",typicalUse:"Measuring brain volume change over time (e.g., atrophy in neurodegeneration).",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/SIENA"},{name:"sienax",fullName:"SIENA Cross-Sectional (SIENAX)",function:"Cross-sectional brain volume estimation normalized for head size using atlas-based scaling.",modality:"T1-weighted 3D NIfTI volume.",keyParameters:"-o (output directory), -r (regional analysis), -BET (BET options), -S (SIENAX options)",keyPoints:"Single timepoint analysis. Normalizes volumes by head size for cross-subject comparisons. Reports total brain, GM, and WM volumes.",typicalUse:"Single timepoint normalized brain volume measures.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/SIENA"}],"Motion Correction":[{name:"mcflirt",fullName:"Motion Correction using FLIRT (MCFLIRT)",function:"Intra-modal motion correction for fMRI time series using rigid-body (6-DOF) transformations optimized for fMRI data.",modality:"4D fMRI NIfTI time series.",keyParameters:"-refvol (reference volume index), -cost (cost function), -plots (output motion parameter plots), -mats (save transformation matrices)",keyPoints:"Default reference is middle volume. Use -plots for motion parameter files (6 columns: 3 rotations + 3 translations). Motion params useful as nuisance regressors.",typicalUse:"Correcting head motion in functional data; motion parameters used as nuisance regressors.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/MCFLIRT"}],"Slice Timing":[{name:"slicetimer",fullName:"FMRIB's Slice Timing Correction (SliceTimer)",function:"Corrects for differences in slice acquisition times within each volume using sinc interpolation.",modality:"4D fMRI NIfTI time series.",keyParameters:"-r (TR in seconds), --odd (interleaved odd slices first), --down (reverse slice order), --tcustom (custom timing file)",keyPoints:"Must match actual acquisition order. Important for event-related designs with short TRs. Less critical for long TRs or block designs.",typicalUse:"Temporal alignment of slices acquired at different times within each TR.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/SliceTimer"}],"Distortion Correction":[{name:"fugue",fullName:"FMRIB's Utility for Geometrically Unwarping EPIs (FUGUE)",function:"Corrects geometric distortions in EPI images caused by magnetic field inhomogeneity using acquired fieldmap data.",modality:"3D/4D EPI NIfTI plus preprocessed fieldmap (in rad/s).",keyParameters:"--loadfmap (fieldmap), --dwell (echo spacing in seconds), --unwarpdir (phase-encode direction: x/y/z/-x/-y/-z)",keyPoints:"Requires preprocessed fieldmap (e.g., from fsl_prepare_fieldmap). Dwell time and unwarp direction must match acquisition parameters.",typicalUse:"Distortion correction when fieldmap data is available.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FUGUE"},{name:"topup",fullName:"Tool for Estimating and Correcting Susceptibility-Induced Distortions (TOPUP)",function:"Estimates and corrects susceptibility-induced distortions using pairs of images with reversed phase-encode directions.",modality:"4D NIfTI with concatenated blip-up/blip-down b=0 images, plus acquisition parameters file.",keyParameters:"--imain (concatenated images), --datain (acquisition parameters file), --config (config file), --out (output basename)",keyPoints:"Requires reversed phase-encode image pair. Default config b02b0.cnf works well for most data. Outputs warp fields reusable by applytopup.",typicalUse:"Distortion correction using blip-up/blip-down acquisitions for fMRI or DWI.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/topup"}],Smoothing:[{name:"susan",fullName:"Smallest Univalue Segment Assimilating Nucleus (SUSAN)",function:"Edge-preserving noise reduction using nonlinear filtering that smooths within tissue boundaries while preserving edges.",modality:"3D or 4D NIfTI volume (structural or functional).",keyParameters:"<input> <brightness_threshold> <spatial_size_mm> <dimensionality> <use_median> <n_usans> [<usan1>] <output>",keyPoints:"Brightness threshold typically 0.75 * median intensity. Set dimensionality to 3 for 3D volumes. Better edge preservation than Gaussian smoothing.",typicalUse:"Noise reduction while preserving structural boundaries in functional or structural data.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/SUSAN"}],"Statistical Analysis":[{name:"film_gls",fullName:"FMRIB's Improved Linear Model (FILM)",function:"Fits general linear model to fMRI time series with prewhitening using autocorrelation correction.",modality:"4D fMRI NIfTI time series plus design matrix and contrast files.",keyParameters:"--in (input 4D), --pd (design matrix), --con (contrast file), --thr (threshold), --sa (smoothed autocorrelation)",keyPoints:"Core statistical engine of FEAT. Design matrix must be pre-generated (e.g., via Feat_model). Outputs parameter estimates (pe), contrasts (cope), and stats (zstat).",typicalUse:"First-level statistical analysis within FEAT or standalone.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FILM"},{name:"flameo",fullName:"FMRIB's Local Analysis of Mixed Effects (FLAME)",function:"Group-level mixed-effects analysis accounting for both within-subject and between-subject variance using MCMC-based Bayesian estimation.",modality:"4D NIfTI of stacked subject-level COPEs, VARCOPEs, plus group design matrix and contrast files.",keyParameters:"--cope (cope image), --vc (varcope image), --dm (design matrix), --cs (contrast file), --runmode (fe/ols/flame1/flame12)",keyPoints:"FLAME1 is recommended (good accuracy with reasonable speed). OLS is fast but ignores within-subject variance. FLAME1+2 is most accurate but slowest.",typicalUse:"Second-level group analyses with proper random effects.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FLAME"},{name:"randomise",fullName:"FSL Randomise Permutation Testing",function:"Non-parametric permutation testing for statistical inference with multiple correction methods including TFCE.",modality:"4D NIfTI of stacked subject images plus design matrix and contrast files.",keyParameters:"-i (input 4D), -o (output basename), -d (design matrix), -t (contrast file), -n (num permutations), -T (TFCE)",keyPoints:"Use -T for TFCE (recommended). 5000+ permutations for publication. Computationally intensive but provides strong family-wise error control.",typicalUse:"Group-level inference with family-wise error correction (VBM, TBSS, etc.).",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Randomise"}],"ICA/Denoising":[{name:"melodic",fullName:"Multivariate Exploratory Linear Optimized Decomposition into Independent Components (MELODIC)",function:"Probabilistic ICA that decomposes fMRI data into spatially independent components representing signal and noise sources.",modality:"4D fMRI NIfTI time series (single-subject or concatenated multi-subject).",keyParameters:"-i (input 4D), -o (output directory), -d (dimensionality), --report (generate HTML report), --bgimage (background for report)",keyPoints:"Auto-dimensionality estimation by default (Laplace approximation). Can be run single-subject or group. Components classified as signal vs. noise manually or via FIX.",typicalUse:"Data exploration, artifact identification, resting-state network analysis.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/MELODIC"},{name:"dual_regression",fullName:"FSL Dual Regression",function:"Projects group-level ICA spatial maps back to individual subjects via spatial then temporal regression to obtain subject-specific network maps.",modality:"4D fMRI NIfTI time series for each subject plus group ICA spatial maps.",keyParameters:"<group_ICA_maps> <design_matrix> <design_contrasts> <num_permutations> <subject_list>",keyPoints:"Two-stage regression: (1) spatial regression gives subject time courses, (2) temporal regression gives subject spatial maps. Can include randomise for group comparison.",typicalUse:"Subject-level ICA-based resting-state network analysis and group comparisons.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/DualRegression"}],Diffusion:[{name:"eddy",fullName:"FSL Eddy Current and Motion Correction (eddy)",function:"Corrects eddy current-induced distortions and subject movement in diffusion MRI data using a Gaussian process model.",modality:"4D diffusion-weighted NIfTI with b-values (.bval), b-vectors (.bvec), acquisition parameters, and index files.",keyParameters:"--imain (input DWI), --bvals, --bvecs, --acqp (acquisition params), --index (volume indices), --topup (topup output), --out (output)",keyPoints:"Should follow topup if available. Outputs rotated bvecs to account for motion. Use --repol for outlier replacement. GPU version (eddy_cuda) much faster.",typicalUse:"Primary preprocessing step for diffusion MRI after topup distortion correction.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/eddy"},{name:"dtifit",fullName:"FSL Diffusion Tensor Fitting (dtifit)",function:"Fits a diffusion tensor model to each voxel of preprocessed diffusion-weighted data to generate scalar diffusion maps.",modality:"4D diffusion-weighted NIfTI with b-values (.bval), b-vectors (.bvec), and brain mask.",keyParameters:"-k (input DWI), -o (output basename), -m (brain mask), -r (bvecs file), -b (bvals file)",keyPoints:"Outputs FA, MD, eigenvalues (L1/L2/L3), eigenvectors (V1/V2/V3), and full tensor. Assumes single-fiber per voxel (use bedpostx for crossing fibers).",typicalUse:"Generating fractional anisotropy (FA) and mean diffusivity (MD) maps from DWI data.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FDT/UserGuide#DTIFIT"},{name:"bedpostx",fullName:"Bayesian Estimation of Diffusion Parameters Obtained using Sampling Techniques (BEDPOSTX)",function:"Bayesian estimation of fiber orientation distributions using MCMC sampling, supporting multiple crossing fibers per voxel.",modality:"Directory containing 4D DWI (data.nii.gz), b-values (bvals), b-vectors (bvecs), and brain mask (nodif_brain_mask.nii.gz).",keyParameters:"<data_directory>, -n (max fibers per voxel, default 3)",keyPoints:"Very computationally intensive (hours-days). GPU version (bedpostx_gpu) strongly recommended. Required before probtrackx2. Outputs fiber orientations and uncertainty estimates.",typicalUse:"Prerequisite for probabilistic tractography with probtrackx2.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FDT/UserGuide#BEDPOSTX"},{name:"probtrackx2",fullName:"Probabilistic Tractography with Crossing Fibres (probtrackx2)",function:"Probabilistic tractography using fiber orientation distributions from bedpostx to trace white matter pathways.",modality:"BEDPOSTX output directory plus seed mask (3D NIfTI).",keyParameters:"-x (seed mask), -s (bedpostx merged samples), --dir (output directory), -l (loop check), --waypoints (waypoint masks), --avoid (exclusion mask)",keyPoints:"Requires bedpostx output. Use --omatrix1 for seed-to-voxel connectivity, --omatrix2 for NxN connectivity. Waypoints constrain tractography to specific paths.",typicalUse:"White matter connectivity analysis, tract-based statistics.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FDT/UserGuide#PROBTRACKX"}],TBSS:[{name:"tbss_1_preproc",fullName:"TBSS Step 1: Preprocessing",function:"Preprocesses FA images for TBSS by slightly eroding them and zeroing end slices to remove outlier voxels.",modality:"FA maps (3D NIfTI) from dtifit, placed in a common directory.",keyParameters:"*.nii.gz (all FA images in current directory)",keyPoints:"Run from directory containing all subjects FA images. Creates FA/ subdirectory with preprocessed images. Must be run before tbss_2_reg.",typicalUse:"First step of TBSS pipeline for voxelwise diffusion analysis.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/TBSS/UserGuide"},{name:"tbss_2_reg",fullName:"TBSS Step 2: Registration",function:"Registers all FA images to a target (best subject or standard-space template) using non-linear registration.",modality:"Preprocessed FA images from tbss_1_preproc.",keyParameters:"-T (use FMRIB58_FA as target), -t <target> (use specified target), -n (find best subject as target)",keyPoints:"Use -T for standard target (recommended for most analyses). -n finds best representative subject but takes longer. Registration quality should be checked visually.",typicalUse:"Second step of TBSS pipeline: aligning all subjects to common space.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/TBSS/UserGuide"},{name:"tbss_3_postreg",fullName:"TBSS Step 3: Post-Registration",function:"Creates mean FA image and FA skeleton by projecting registered FA data onto a mean tract center.",modality:"Registered FA images from tbss_2_reg.",keyParameters:"-S (use study-specific mean FA and skeleton), -T (use FMRIB58_FA mean and skeleton)",keyPoints:"Creates mean_FA, mean_FA_skeleton, and all_FA (4D). Skeleton threshold typically 0.2 FA. -S recommended for study-specific analysis.",typicalUse:"Third step of TBSS: creating the white matter skeleton for analysis.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/TBSS/UserGuide"},{name:"tbss_4_prestats",fullName:"TBSS Step 4: Pre-Statistics",function:"Projects all subjects FA data onto the mean FA skeleton, ready for voxelwise cross-subject statistics.",modality:"Mean FA skeleton from tbss_3_postreg plus registered FA images.",keyParameters:"<threshold> (FA threshold for skeleton, typically 0.2)",keyPoints:"Threshold determines which voxels are included in skeleton. Creates all_FA_skeletonised (4D) ready for randomise. Can also project non-FA data (MD, etc.) using tbss_non_FA.",typicalUse:"Final TBSS step before statistical analysis with randomise.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/TBSS/UserGuide"}],"ASL Processing":[{name:"oxford_asl",fullName:"Oxford ASL Processing Pipeline",function:"Complete pipeline for ASL MRI quantification including motion correction, registration, calibration, and partial volume correction.",modality:"4D ASL NIfTI (tag/control pairs) plus structural T1 image.",keyParameters:"-i (input ASL), -o (output dir), -s (structural image), --casl/--pasl (labeling type), --iaf (input format: tc/ct/diff), --tis (inversion times)",keyPoints:"Handles both pASL and CASL/pCASL. Performs kinetic modeling via BASIL internally. Use --wp for white paper quantification mode. Requires calibration image for absolute CBF.",typicalUse:"Complete ASL quantification from raw data to calibrated CBF maps.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/BASIL"},{name:"basil",fullName:"Bayesian Inference for Arterial Spin Labeling (BASIL)",function:"Bayesian kinetic model inversion for ASL data using variational Bayes to estimate perfusion and arrival time.",modality:"4D ASL NIfTI (differenced tag-control or raw tag/control pairs).",keyParameters:"-i (input ASL), -o (output dir), --tis (inversion times), --casl/--pasl, --bolus (bolus duration), --bat (arterial transit time prior)",keyPoints:"Core kinetic modeling engine used by oxford_asl. Multi-TI data enables arrival time estimation. Spatial regularization improves estimates in low-SNR regions.",typicalUse:"Bayesian perfusion quantification with uncertainty estimation.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/BASIL"},{name:"asl_calib",fullName:"ASL Calibration (asl_calib)",function:"Calibrates ASL perfusion data to absolute CBF units (ml/100g/min) using an M0 calibration image.",modality:"Perfusion image (3D NIfTI) plus M0 calibration image and structural reference.",keyParameters:"-i (perfusion image), -c (M0 calibration image), -s (structural image), --mode (voxelwise or reference region), --tr (TR of calibration)",keyPoints:"Two modes: voxelwise (divides each voxel by local M0) or reference region (uses CSF M0 as reference). Reference region mode more robust to coil sensitivity variations.",typicalUse:"Converting relative perfusion signals to absolute CBF values.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/BASIL"}],"Image Math":[{name:"fslmaths",fullName:"FSL Mathematical Image Operations (fslmaths)",function:"Performs a wide range of voxelwise mathematical operations on NIfTI images including arithmetic, filtering, thresholding, and morphological operations.",modality:"3D or 4D NIfTI volume(s).",keyParameters:"-add/-sub/-mul/-div (arithmetic), -thr/-uthr (thresholding), -bin (binarize), -s (smoothing sigma mm), -bptf (bandpass temporal filter)",keyPoints:"Swiss army knife of neuroimaging. Operations are applied left to right. Use -odt to control output data type. -bptf values are in volumes not seconds.",typicalUse:"Mathematical operations, masking, thresholding, temporal filtering.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Fslutils"},{name:"fslstats",fullName:"FSL Image Statistics (fslstats)",function:"Computes various summary statistics from image data, optionally within a mask region.",modality:"3D or 4D NIfTI volume, optional mask.",keyParameters:"-k (mask image), -m (mean), -s (standard deviation), -r (min max), -V (volume in voxels and mm3), -p (nth percentile)",keyPoints:"Apply -k mask before other options. Use -t for per-volume stats on 4D data. Outputs to stdout for easy scripting.",typicalUse:"Extracting summary statistics from ROIs or whole-brain.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Fslutils"},{name:"fslroi",fullName:"FSL Region of Interest Extraction (fslroi)",function:"Extracts a spatial or temporal sub-region from NIfTI images.",modality:"3D or 4D NIfTI volume.",keyParameters:"<input> <output> <xmin> <xsize> <ymin> <ysize> <zmin> <zsize> [<tmin> <tsize>]",keyPoints:"Indices are 0-based. For temporal extraction only, use: fslroi input output tmin tsize. Useful for extracting reference volumes from 4D data.",typicalUse:"Cropping images spatially or selecting specific time points from 4D data.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Fslutils"},{name:"fslmeants",fullName:"FSL Mean Time Series Extraction (fslmeants)",function:"Extracts the mean time series from a 4D dataset within a mask or at specified coordinates.",modality:"4D fMRI NIfTI time series plus ROI mask or coordinates.",keyParameters:"-i (input 4D), -o (output text file), -m (mask image), -c (x y z coordinates), --eig (output eigenvariates)",keyPoints:"Outputs one value per timepoint. Use -m for mask-based extraction, -c for single-voxel. --eig outputs eigenvariate (first principal component) instead of mean.",typicalUse:"ROI time series extraction for seed-based connectivity analysis.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Fslutils"}],"Volume Operations":[{name:"fslsplit",fullName:"FSL Volume Split (fslsplit)",function:"Splits a 4D time series into individual 3D volumes or splits along any spatial axis.",modality:"4D NIfTI time series.",keyParameters:"<input> [output_basename] -t/-x/-y/-z (split direction, default -t for time)",keyPoints:"Default splits along time dimension. Output files are numbered sequentially (vol0000, vol0001, ...). Useful for per-volume quality control.",typicalUse:"Processing individual volumes separately, quality control inspection.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Fslutils"},{name:"fslmerge",fullName:"FSL Volume Merge (fslmerge)",function:"Concatenates multiple 3D volumes into a 4D time series or merges along any spatial axis.",modality:"Multiple 3D NIfTI volumes.",keyParameters:"-t/-x/-y/-z/-a (merge direction), <output> <input1> <input2> ...",keyPoints:"Use -t for temporal concatenation (most common). -a auto-detects axis. Input images must have matching spatial dimensions when merging in time.",typicalUse:"Combining processed volumes back into 4D, concatenating runs.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Fslutils"},{name:"fslreorient2std",fullName:"FSL Reorient to Standard Orientation",function:"Reorients images to match standard (MNI) orientation using 90-degree rotations and flips only.",modality:"3D or 4D NIfTI volume in any orientation.",keyParameters:"<input> [output]",keyPoints:"Only applies 90-degree rotations/flips (no interpolation). Does not register to standard space. Should be run as first step before any processing.",typicalUse:"Ensuring consistent orientation before processing.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Orientation%20Explained"}],"Warp Utilities":[{name:"applywarp",fullName:"FSL Apply Warp Field (applywarp)",function:"Applies linear and/or non-linear warp fields to transform images between coordinate spaces.",modality:"3D or 4D NIfTI volume plus warp field and/or affine matrix.",keyParameters:"-i (input), -r (reference), -o (output), -w (warp field), --premat (pre-warp affine), --postmat (post-warp affine), --interp (interpolation)",keyPoints:"Can chain affine + nonlinear transforms in one step. Use --interp=nn for label images, --interp=spline for continuous images. Reference defines output grid.",typicalUse:"Applying normalization warps to functional data or atlas labels.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FNIRT/UserGuide#Applying_the_warps"},{name:"invwarp",fullName:"FSL Invert Warp Field (invwarp)",function:"Computes the inverse of a non-linear warp field for reverse transformations.",modality:"Non-linear warp field (4D NIfTI from FNIRT --cout output).",keyParameters:"-w (input warp), -o (output inverse warp), -r (reference image for output space)",keyPoints:"Needed to map atlas/standard-space ROIs back to native space. Reference should be the image that was originally warped.",typicalUse:"Creating inverse transformations for atlas-to-native space mapping.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FNIRT/UserGuide#Inverting_warps"},{name:"convertwarp",fullName:"FSL Convert/Combine Warps (convertwarp)",function:"Combines multiple warp fields and affine matrices into a single composite warp for efficient one-step transformation.",modality:"Warp fields and/or affine matrices from FLIRT/FNIRT.",keyParameters:"-r (reference), -o (output), --premat (first affine), --warp1 (first warp), --midmat (middle affine), --warp2 (second warp), --postmat (final affine)",keyPoints:"Applying one combined warp is faster and has less interpolation error than chaining multiple transformations. Transform order: premat > warp1 > midmat > warp2 > postmat.",typicalUse:"Concatenating multiple transformations (e.g., func > struct > standard) efficiently.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FNIRT/UserGuide#Combining_warps"}],Clustering:[{name:"cluster",fullName:"FSL Cluster Analysis (cluster)",function:"Identifies contiguous clusters of suprathreshold voxels in statistical images and reports their properties.",modality:"Statistical map (z-stat or p-value 3D NIfTI).",keyParameters:"-i (input stat image), -t (z threshold), -p (p threshold), --oindex (cluster index output), --olmax (local maxima output), -c (cope image for effect sizes)",keyPoints:"Reports cluster size, peak coordinates, and p-values. Use with -c to get mean COPE within clusters. GRF-based p-values require smoothness estimates.",typicalUse:"Cluster-based thresholding and extracting peak coordinates from statistical maps.",docUrl:"https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/Cluster"}]},AFNI:{"Brain Extraction":[{name:"3dSkullStrip",fullName:"AFNI 3D Skull Strip",function:"Removes non-brain tissue using a modified spherical surface expansion algorithm adapted from BET.",modality:"T1-weighted or T2-weighted 3D NIfTI/AFNI volume.",keyParameters:"-input (input dataset), -prefix (output prefix), -push_to_edge (expand mask), -orig_vol (output original volume)",keyPoints:"Often more aggressive than BET. Use -push_to_edge if too much brain is removed. Works on T1 or T2 images.",typicalUse:"Brain extraction for structural or functional images in AFNI pipelines.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dSkullStrip.html"},{name:"@SSwarper",fullName:"AFNI Skull Strip and Nonlinear Warp (@SSwarper)",function:"Combined skull stripping and non-linear warping to template in a single optimized pipeline.",modality:"T1-weighted 3D NIfTI volume plus reference template.",keyParameters:"-input (T1 image), -base (template), -subid (subject ID), -odir (output dir)",keyPoints:"Preferred over separate skull-strip + registration. Output compatible with afni_proc.py.",typicalUse:"Modern anatomical preprocessing for afni_proc.py pipelines.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/@SSwarper.html"}],"Bias Correction":[{name:"3dUnifize",fullName:"AFNI 3D Intensity Uniformization (3dUnifize)",function:"Corrects intensity inhomogeneity (bias field) to produce uniform white matter intensity.",modality:"T1-weighted or T2-weighted 3D NIfTI/AFNI volume.",keyParameters:"-input (input), -prefix (output), -T2 (for T2-weighted input), -GM (also unifize gray matter)",keyPoints:"Fast bias correction alternative to N4. Works well for T1 images by default. Use -T2 flag for T2-weighted images.",typicalUse:"Bias correction before segmentation or registration.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dUnifize.html"}],Registration:[{name:"3dAllineate",fullName:"AFNI 3D Affine Registration (3dAllineate)",function:"Linear (affine) registration with multiple cost functions and optimization methods.",modality:"Any 3D NIfTI/AFNI volume pair.",keyParameters:"-source (moving image), -base (reference), -prefix (output), -cost (cost function: lpc, mi, nmi), -1Dmatrix_save (save transform)",keyPoints:"lpc cost recommended for EPI-to-T1 alignment. nmi for intra-modal.",typicalUse:"Affine alignment between modalities or to standard space.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dAllineate.html"},{name:"3dQwarp",fullName:"AFNI 3D Nonlinear Warp (3dQwarp)",function:"Non-linear registration using cubic polynomial basis functions for precise anatomical alignment.",modality:"T1-weighted 3D NIfTI/AFNI volumes (source and base, both skull-stripped).",keyParameters:"-source (moving), -base (reference), -prefix (output), -blur (smoothing), -minpatch (minimum patch size)",keyPoints:"Both images should be skull-stripped. Use -blur 0 3 for typical T1 registration. Usually preceded by 3dAllineate.",typicalUse:"High-accuracy normalization to template.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dQwarp.html"},{name:"@auto_tlrc",fullName:"AFNI Automated Talairach Transformation (@auto_tlrc)",function:"Automated Talairach transformation using affine registration to a template atlas.",modality:"T1-weighted 3D NIfTI/AFNI volume.",keyParameters:"-base (template), -input (anatomical), -no_ss (skip skull strip)",keyPoints:"Legacy tool for Talairach normalization. For modern analyses, prefer @SSwarper or 3dQwarp.",typicalUse:"Legacy Talairach normalization.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/@auto_tlrc.html"},{name:"align_epi_anat",fullName:"AFNI align_epi_anat  EPI-to-Anatomy Alignment",function:"Aligns EPI functional images to anatomical images with optional distortion correction using local Pearson correlation.",modality:"EPI volume (3D NIfTI) plus T1-weighted anatomical.",keyParameters:"-epi (EPI dataset), -anat (anatomical), -epi_base (EPI reference volume), -cost (cost function, default lpc)",keyPoints:"lpc cost function designed for EPI-to-T1 alignment. Central tool in afni_proc.py.",typicalUse:"Core EPI-to-structural alignment in functional preprocessing.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/align_epi_anat.py.html"}],"Motion Correction":[{name:"3dvolreg",fullName:"AFNI 3D Volume Registration (3dvolreg)",function:"Rigid-body motion correction by registering all volumes in a 4D dataset to a base volume.",modality:"4D fMRI NIfTI/AFNI time series.",keyParameters:"-base (reference volume index or dataset), -prefix (output), -1Dfile (motion parameters output), -maxdisp1D (max displacement output)",keyPoints:"Default base is volume 0; use median volume for better results. Motion parameters output as 6 columns.",typicalUse:"Motion correction for fMRI; outputs 6 motion parameters for nuisance regression.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dvolreg.html"}],"Slice Timing":[{name:"3dTshift",fullName:"AFNI 3D Temporal Shift (3dTshift)",function:"Corrects for slice timing differences by shifting each voxel time series to a common temporal reference.",modality:"4D fMRI NIfTI/AFNI time series.",keyParameters:"-prefix (output), -tpattern (slice timing pattern: alt+z, seq+z, etc.), -tzero (align to time zero), -TR (repetition time)",keyPoints:"Auto-detects slice timing from header if available. Common patterns: alt+z (interleaved ascending), seq+z (sequential ascending).",typicalUse:"Aligning all slices to the same temporal reference in fMRI data.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTshift.html"}],Denoising:[{name:"3dDespike",fullName:"AFNI 3D Despike (3dDespike)",function:"Removes transient signal spikes from fMRI time series using an L1-norm fitting approach.",modality:"4D fMRI NIfTI/AFNI time series.",keyParameters:"-prefix (output), -ssave (save spike fit), -nomask (process all voxels), -NEW (updated algorithm)",keyPoints:"Run early in preprocessing pipeline (before motion correction). -NEW algorithm recommended.",typicalUse:"Artifact removal before other preprocessing steps.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dDespike.html"},{name:"3dBandpass",fullName:"AFNI 3D Bandpass Filter (3dBandpass)",function:"Applies temporal bandpass filtering to fMRI time series with optional simultaneous nuisance regression.",modality:"4D fMRI NIfTI/AFNI time series.",keyParameters:"<fbot> <ftop> (frequency range in Hz), -prefix (output), -ort (nuisance regressors file)",keyPoints:"Typical resting-state range: 0.01-0.1 Hz. Can simultaneously regress nuisance signals with -ort.",typicalUse:"Resting-state frequency filtering (typically 0.01-0.1 Hz).",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dBandpass.html"}],Smoothing:[{name:"3dBlurToFWHM",fullName:"AFNI 3D Adaptive Smoothing to Target FWHM",function:"Adaptively smooths data to achieve a target smoothness level, accounting for existing smoothness.",modality:"3D or 4D NIfTI/AFNI volume with mask.",keyParameters:"-input (input dataset), -prefix (output), -FWHM (target smoothness in mm), -mask (brain mask)",keyPoints:"Measures existing smoothness and adds only enough to reach target FWHM. Better than fixed-kernel smoothing.",typicalUse:"Achieving consistent smoothness across subjects/studies.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dBlurToFWHM.html"},{name:"3dmerge",fullName:"AFNI 3D Merge and Smooth (3dmerge)",function:"Combines spatial filtering and dataset merging operations, commonly used for Gaussian smoothing.",modality:"3D or 4D NIfTI/AFNI volume.",keyParameters:"-1blur_fwhm (FWHM in mm), -doall (process all sub-bricks), -prefix (output)",keyPoints:"Simple Gaussian smoothing with -1blur_fwhm. -doall applies to all volumes in 4D.",typicalUse:"Gaussian smoothing of functional data.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dmerge.html"}],Masking:[{name:"3dAutomask",fullName:"AFNI 3D Automatic Mask Creation (3dAutomask)",function:"Creates a brain mask automatically from EPI data by finding connected high-intensity voxels.",modality:"3D or 4D EPI NIfTI/AFNI volume.",keyParameters:"-prefix (output mask), -dilate (number of dilation steps), -erode (number of erosion steps), -clfrac (clip fraction)",keyPoints:"Works on EPI data directly (no structural needed). Lower -clfrac includes more voxels.",typicalUse:"Generating functional brain masks from EPI data.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dAutomask.html"}],"Statistical Analysis":[{name:"3dDeconvolve",fullName:"AFNI 3D Deconvolve (GLM Analysis)",function:"Multiple linear regression analysis for fMRI with flexible hemodynamic response function models.",modality:"4D fMRI NIfTI/AFNI time series plus stimulus timing files.",keyParameters:"-input (4D data), -polort (polynomial detrending order), -num_stimts (number of regressors), -stim_times (timing files with HRF model), -gltsym (contrasts)",keyPoints:"Supports many HRF models (GAM, BLOCK, dmBLOCK, TENT, CSPLIN). Use -x1D_stop to generate design matrix only.",typicalUse:"First-level GLM analysis with flexible HRF models.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dDeconvolve.html"},{name:"3dREMLfit",fullName:"AFNI 3D REML Fit (Improved GLM)",function:"GLM with ARMA(1,1) temporal autocorrelation correction using restricted maximum likelihood estimation.",modality:"4D fMRI NIfTI/AFNI time series plus design matrix from 3dDeconvolve.",keyParameters:"-matrix (design matrix from 3dDeconvolve -x1D), -input (4D data), -Rbuck (output stats), -Rvar (output variance)",keyPoints:"More accurate statistics than 3dDeconvolve OLS. Run after 3dDeconvolve for improved inference.",typicalUse:"More accurate first-level statistics than 3dDeconvolve OLS.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dREMLfit.html"},{name:"3dMEMA",fullName:"AFNI 3D Mixed Effects Meta Analysis (3dMEMA)",function:"Mixed effects meta-analysis for group studies that properly accounts for within and between-subject variance.",modality:"Subject-level beta and t-statistic volumes (3D NIfTI/AFNI).",keyParameters:"-set (group name and subject beta+tstat pairs), -groups (group names), -covariates (covariate file), -prefix (output)",keyPoints:"Uses both beta and t-stat from each subject. Better for unequal within-subject variance. Requires R.",typicalUse:"Group analysis with proper mixed effects modeling.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dMEMA.html"},{name:"3dANOVA",fullName:"AFNI 3D One-Way ANOVA",function:"Voxelwise fixed-effects one-way analysis of variance.",modality:"Multiple 3D NIfTI/AFNI volumes organized by factor level.",keyParameters:"-levels (number of levels), -dset (level dataset), -ftr (F-test output), -mean (level means output)",keyPoints:"Fixed-effects only. For random/mixed effects, use 3dMVM or 3dLME instead.",typicalUse:"Single-factor group analysis.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dANOVA.html"},{name:"3dANOVA2",fullName:"AFNI 3D Two-Way ANOVA",function:"Voxelwise fixed-effects two-way analysis of variance with main effects and interaction.",modality:"Multiple 3D NIfTI/AFNI volumes organized by two factors.",keyParameters:"-type (1-5, model type), -alevels/-blevels (factor levels), -dset (datasets), -fa/-fb/-fab (F-tests)",keyPoints:"Type determines fixed/random effects per factor. Types 1-3 for within-subject designs.",typicalUse:"Two-factor factorial designs.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dANOVA2.html"},{name:"3dANOVA3",fullName:"AFNI 3D Three-Way ANOVA",function:"Voxelwise fixed-effects three-way analysis of variance.",modality:"Multiple 3D NIfTI/AFNI volumes organized by three factors.",keyParameters:"-type (1-5), -alevels/-blevels/-clevels, -dset, -fa/-fb/-fc/-fab/-fac/-fbc/-fabc (F-tests)",keyPoints:"Extension of 3dANOVA2 to three factors. Consider 3dMVM for more flexible modeling.",typicalUse:"Three-factor factorial designs.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dANOVA3.html"},{name:"3dttest++",fullName:"AFNI 3D T-Test (3dttest++)",function:"Two-sample t-test with support for covariates, paired tests, and cluster-level inference.",modality:"Subject-level 3D NIfTI/AFNI volumes.",keyParameters:"-setA/-setB (group datasets), -prefix (output), -covariates (covariate file), -paired (paired test), -Clustsim (cluster simulation)",keyPoints:"Use -Clustsim for built-in cluster-level correction. -covariates allows continuous covariates.",typicalUse:"Group comparisons with covariate control.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dttest++.html"},{name:"3dMVM",fullName:"AFNI 3D MultiVariate Modeling (3dMVM)",function:"Multivariate modeling framework supporting ANOVA/ANCOVA designs with between and within-subject factors.",modality:"Subject-level 3D NIfTI/AFNI volumes with data table specifying factors.",keyParameters:"-dataTable (structured input table), -bsVars (between-subject variables), -wsVars (within-subject variables), -qVars (quantitative variables)",keyPoints:"Most flexible group analysis tool in AFNI. Handles complex repeated measures designs. Requires R.",typicalUse:"Complex repeated measures and mixed designs.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dMVM.html"},{name:"3dLME",fullName:"AFNI 3D Linear Mixed Effects (3dLME)",function:"Linear mixed effects modeling using R lme4 package for designs with random effects.",modality:"Subject-level 3D NIfTI/AFNI volumes with data table.",keyParameters:"-dataTable (input table), -model (model formula), -ranEff (random effects specification), -qVars (quantitative variables)",keyPoints:"Best for longitudinal data and nested designs. Uses R lme4 syntax. Handles missing data naturally.",typicalUse:"Longitudinal data, nested designs with random effects.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dLME.html"},{name:"3dLMEr",fullName:"AFNI 3D Linear Mixed Effects with R (3dLMEr)",function:"Linear mixed effects with direct R formula syntax integration for flexible model specification.",modality:"Subject-level 3D NIfTI/AFNI volumes with data table.",keyParameters:"-dataTable (input table), -model (R lmer formula), -qVars (quantitative variables), -gltCode (contrast specification)",keyPoints:"More flexible than 3dLME. Uses lmerTest for degrees of freedom. Accepts full R formula syntax.",typicalUse:"Flexible mixed effects with R formula syntax.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dLMEr.html"}],"Multiple Comparisons":[{name:"3dClustSim",fullName:"AFNI 3D Cluster Size Simulation (3dClustSim)",function:"Simulates null distribution of cluster sizes for determining cluster-extent thresholds that control family-wise error rate.",modality:"Brain mask (3D NIfTI/AFNI) plus smoothness estimates from 3dFWHMx.",keyParameters:"-mask (brain mask), -acf (ACF parameters from 3dFWHMx), -athr (per-voxel alpha), -pthr (per-voxel p thresholds)",keyPoints:"Use ACF-based smoothness (not FWHM) from 3dFWHMx on residuals. Updated in 2016 for non-Gaussian assumptions.",typicalUse:"Determining cluster size thresholds for multiple comparison correction.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dClustSim.html"},{name:"3dFWHMx",fullName:"AFNI 3D Smoothness Estimation (3dFWHMx)",function:"Estimates spatial smoothness of data using the autocorrelation function (ACF) model.",modality:"Residual 4D NIfTI/AFNI from GLM analysis plus brain mask.",keyParameters:"-input (residuals), -mask (brain mask), -acf (output ACF parameters), -detrend (detrend order)",keyPoints:"Run on residuals (not original data). ACF model accounts for non-Gaussian spatial structure. Output feeds into 3dClustSim.",typicalUse:"Getting smoothness estimates for 3dClustSim.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dFWHMx.html"}],Connectivity:[{name:"3dNetCorr",fullName:"AFNI 3D Network Correlation Matrix (3dNetCorr)",function:"Computes pairwise correlation matrices between ROI time series extracted from a parcellation atlas.",modality:"4D fMRI NIfTI/AFNI time series plus integer-labeled parcellation volume.",keyParameters:"-inset (4D time series), -in_rois (parcellation), -prefix (output), -fish_z (Fisher z-transform), -ts_out (output time series)",keyPoints:"Outputs correlation matrix as text file. Use -fish_z for Fisher z-transformed values.",typicalUse:"Creating functional connectivity matrices from parcellations.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dNetCorr.html"},{name:"3dTcorr1D",fullName:"AFNI 3D Seed-Based Correlation (3dTcorr1D)",function:"Computes voxelwise correlation between a 4D dataset and one or more 1D seed time series.",modality:"4D fMRI NIfTI/AFNI time series plus 1D seed time series file.",keyParameters:"-prefix (output), <4D_dataset> <1D_seed_timeseries>",keyPoints:"Simple seed-based correlation. Extract seed time series first (e.g., with 3dmaskave).",typicalUse:"Seed-based functional connectivity analysis.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTcorr1D.html"},{name:"3dTcorrMap",fullName:"AFNI 3D Whole-Brain Correlation Map (3dTcorrMap)",function:"Computes various whole-brain voxelwise correlation metrics including average correlation and global connectivity.",modality:"4D fMRI NIfTI/AFNI time series plus brain mask.",keyParameters:"-input (4D data), -mask (brain mask), -Mean (mean correlation map), -Hist (histogram outputs)",keyPoints:"Computes every-voxel-to-every-voxel correlations. Memory intensive.",typicalUse:"Global connectivity metrics, whole-brain correlation exploration.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTcorrMap.html"},{name:"3dRSFC",fullName:"AFNI 3D Resting State Functional Connectivity (3dRSFC)",function:"Computes resting-state frequency-domain metrics including ALFF, fALFF, mALFF, and RSFA from bandpass-filtered data.",modality:"4D resting-state fMRI NIfTI/AFNI time series plus brain mask.",keyParameters:"<fbot> <ftop> (frequency range), -prefix (output), -input (4D data), -mask (brain mask)",keyPoints:"Computes ALFF (amplitude of low-frequency fluctuations), fALFF (fractional ALFF), and RSFA.",typicalUse:"Amplitude of low-frequency fluctuations analysis in resting-state fMRI.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dRSFC.html"}],"ROI Analysis":[{name:"3dROIstats",fullName:"AFNI 3D ROI Statistics (3dROIstats)",function:"Extracts statistical summary measures from data within defined ROI masks.",modality:"3D or 4D NIfTI/AFNI volume plus ROI mask with integer labels.",keyParameters:"-mask (ROI mask), -nzmean (mean of non-zero voxels), -nzvoxels (count non-zero voxels), -minmax (min and max)",keyPoints:"Can handle multi-label ROI masks. Outputs one row per volume, one column per ROI.",typicalUse:"Extracting mean values from defined regions of interest.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dROIstats.html"},{name:"3dmaskave",fullName:"AFNI 3D Mask Average (3dmaskave)",function:"Extracts and outputs the average time series from voxels within a mask region.",modality:"4D fMRI NIfTI/AFNI time series plus binary mask.",keyParameters:"-mask (mask dataset), -quiet (output values only), -mrange (min max value range in mask)",keyPoints:"Simple and fast ROI time series extraction. Output is one value per timepoint to stdout.",typicalUse:"Simple ROI time series extraction for connectivity analysis.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dmaskave.html"}],"Image Math":[{name:"3dcalc",fullName:"AFNI 3D Voxelwise Calculator (3dcalc)",function:"Voxelwise mathematical calculator supporting extensive expression syntax for operations on one or more datasets.",modality:"3D or 4D NIfTI/AFNI volume(s).",keyParameters:"-a/-b/-c (input datasets), -expr (mathematical expression), -prefix (output), -datum (output data type)",keyPoints:"Extremely flexible expression syntax. Supports conditionals, trigonometric, and logical operations. Up to 26 inputs (a-z).",typicalUse:"Mathematical operations, masking, thresholding, combining datasets.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dcalc.html"},{name:"3dTstat",fullName:"AFNI 3D Temporal Statistics (3dTstat)",function:"Computes voxelwise temporal statistics (mean, stdev, median, etc.) across a 4D time series.",modality:"4D NIfTI/AFNI time series.",keyParameters:"-prefix (output), -mean/-stdev/-median/-max/-min (statistic type), -mask (optional mask)",keyPoints:"Default computes mean. Can compute multiple statistics in one run.",typicalUse:"Creating mean functional images, variance maps, temporal SNR.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTstat.html"}],"Dataset Operations":[{name:"3dinfo",fullName:"AFNI 3D Dataset Information (3dinfo)",function:"Displays header information and metadata from AFNI/NIfTI datasets.",modality:"Any NIfTI or AFNI format dataset.",keyParameters:"-n4 (dimensions), -tr (TR), -orient (orientation), -prefix (prefix only), -space (coordinate space)",keyPoints:"Essential for scripting and QC. Use specific flags for machine-readable output.",typicalUse:"Quality control, scripting decisions based on data properties.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dinfo.html"},{name:"3dcopy",fullName:"AFNI 3D Dataset Copy (3dcopy)",function:"Copies a dataset with optional format conversion between AFNI and NIfTI formats.",modality:"Any NIfTI or AFNI format dataset.",keyParameters:"<input> <output> (format determined by output extension)",keyPoints:"Output format determined by extension. Simple way to convert between formats.",typicalUse:"Format conversion between AFNI and NIfTI, making editable copies.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dcopy.html"},{name:"3dZeropad",fullName:"AFNI 3D Zero Padding (3dZeropad)",function:"Adds zero-valued slices around dataset boundaries to extend the image matrix.",modality:"3D or 4D NIfTI/AFNI volume.",keyParameters:"-I/-S/-A/-P/-R/-L (add slices in each direction), -master (match grid of master dataset), -prefix (output)",keyPoints:"Use -master to match another dataset grid. Can also crop with negative values.",typicalUse:"Matching matrix sizes between datasets, preventing edge effects.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dZeropad.html"},{name:"3dTcat",fullName:"AFNI 3D Temporal Concatenate (3dTcat)",function:"Concatenates datasets along the time dimension or selects specific sub-bricks from 4D data.",modality:"3D or 4D NIfTI/AFNI volumes.",keyParameters:"-prefix (output), <dataset>[selector] (input with optional sub-brick selector)",keyPoints:"Sub-brick selectors allow flexible volume selection: [0..5] for first 6, [0..$-3] to skip last 3.",typicalUse:"Combining runs, removing initial steady-state volumes.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dTcat.html"}],"ROI Utilities":[{name:"3dUndump",fullName:"AFNI 3D Undump (Coordinate to Volume)",function:"Creates a 3D dataset from a text file containing voxel coordinates and values.",modality:"Text coordinate file plus master dataset for grid definition.",keyParameters:"-prefix (output), -master (template grid), -xyz (coordinates are in mm), -srad (sphere radius in mm)",keyPoints:"Use -srad to create spherical ROIs at each coordinate. Master dataset defines output grid.",typicalUse:"Creating spherical ROIs from peak coordinates.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dUndump.html"},{name:"whereami",fullName:"AFNI Atlas Location Query (whereami)",function:"Reports anatomical atlas labels for given coordinates or identifies regions in multiple atlases simultaneously.",modality:"MNI or Talairach coordinates, or labeled dataset.",keyParameters:"-coord_file (coordinate file), -atlas (atlas name), -lpi/-rai (coordinate system)",keyPoints:"Queries multiple atlases at once by default. Coordinates must match atlas space.",typicalUse:"Identifying anatomical locations of activation peaks.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/whereami.html"},{name:"3dresample",fullName:"AFNI 3D Resample (3dresample)",function:"Resamples a dataset to match the grid of another dataset or to a specified voxel size.",modality:"3D or 4D NIfTI/AFNI volume.",keyParameters:"-master (template grid), -prefix (output), -dxyz (voxel size), -rmode (interpolation: NN, Li, Cu)",keyPoints:"Use -rmode NN for label/mask images, Li or Cu for continuous data.",typicalUse:"Matching resolution between datasets for analysis.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dresample.html"},{name:"3dfractionize",fullName:"AFNI 3D Fractionize (ROI Resampling)",function:"Resamples ROI/atlas datasets using fractional occupancy to maintain region representation at different resolutions.",modality:"ROI/atlas volume (3D NIfTI/AFNI) plus template for target grid.",keyParameters:"-template (target grid), -input (ROI dataset), -prefix (output), -clip (fraction threshold, default 0.5)",keyPoints:"Better than nearest-neighbor for resampling parcellations. Preserves small ROIs better.",typicalUse:"Resampling parcellations to functional resolution.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dfractionize.html"}],"Warp Utilities":[{name:"3dNwarpApply",fullName:"AFNI 3D Nonlinear Warp Apply",function:"Applies precomputed nonlinear warps (from 3dQwarp) to transform datasets.",modality:"3D or 4D NIfTI/AFNI volume plus warp dataset.",keyParameters:"-nwarp (warp dataset), -source (input), -master (reference grid), -prefix (output), -interp (interpolation method)",keyPoints:"Can concatenate multiple warps in -nwarp string. Use wsinc5 interpolation for best quality.",typicalUse:"Applying 3dQwarp transformations to functional or other data.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dNwarpApply.html"},{name:"3dNwarpCat",fullName:"AFNI 3D Nonlinear Warp Concatenate",function:"Concatenates multiple nonlinear warps and affine matrices into a single combined warp.",modality:"Multiple warp datasets and/or affine matrix files.",keyParameters:"-prefix (output), -warp1/-warp2/... (warps to concatenate), -iwarp (use inverse of a warp)",keyPoints:"Reduces interpolation artifacts from multiple separate applications. Can invert individual warps in the chain.",typicalUse:"Combining transformations efficiently for one-step resampling.",docUrl:"https://afni.nimh.nih.gov/pub/dist/doc/program_help/3dNwarpCat.html"}]},SPM:{},FreeSurfer:{"Surface Reconstruction":[{name:"mri_convert",fullName:"FreeSurfer MRI Format Conversion (mri_convert)",function:"Converts between neuroimaging file formats (DICOM, NIfTI, MGH/MGZ, ANALYZE, etc.) with optional resampling and conforming.",modality:"Any neuroimaging volume format.",keyParameters:"--conform (resample to 256 cubed at 1mm isotropic), --out_type (output format), -vs (voxel size)",keyPoints:"Use --conform to prepare T1 for FreeSurfer processing. Handles DICOM to NIfTI conversion. Can change voxel size and data type.",typicalUse:"Converting DICOM to NIfTI, conforming images to FreeSurfer standards.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_convert"},{name:"mri_watershed",fullName:"FreeSurfer MRI Watershed Skull Stripping",function:"Brain extraction using a hybrid watershed/surface deformation algorithm to find the brain-skull boundary.",modality:"T1-weighted 3D volume (typically MGZ format within FreeSurfer pipeline).",keyParameters:"-T1 (specify T1 volume), -atlas (use atlas for initial estimate), -h (preflooding height, default 25)",keyPoints:"Core component of recon-all. Adjust -h parameter if too much/too little brain removed. Usually part of autorecon1.",typicalUse:"Brain extraction within recon-all pipeline.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_watershed"},{name:"mri_normalize",fullName:"FreeSurfer MRI Intensity Normalization",function:"Normalizes T1 image intensities so that white matter has a target intensity value (default 110).",modality:"T1-weighted 3D volume (MGZ format, within FreeSurfer pipeline).",keyParameters:"-n (number of iterations), -b (bias field smoothing sigma), -aseg (use aseg for normalization regions)",keyPoints:"Part of recon-all autorecon1. Creates nu.mgz (non-uniformity corrected) and T1.mgz (intensity normalized).",typicalUse:"Preparing T1 for segmentation within FreeSurfer pipeline.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_normalize"},{name:"mri_segment",fullName:"FreeSurfer MRI White Matter Segmentation",function:"Segments white matter from normalized T1 image using intensity thresholding and morphological operations.",modality:"Intensity-normalized T1 volume (T1.mgz from mri_normalize).",keyParameters:"-thicken (thicken WM), -wlo/-whi (WM intensity range)",keyPoints:"Part of recon-all. Outputs wm.mgz used for surface reconstruction. Quality depends on good intensity normalization.",typicalUse:"White matter identification for surface reconstruction.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_segment"},{name:"mris_inflate",fullName:"FreeSurfer Surface Inflation",function:"Inflates folded cortical surface to a smooth shape while minimizing metric distortion for visualization.",modality:"FreeSurfer surface file (e.g., lh.smoothwm).",keyParameters:"-n (number of iterations), -dist (target distance)",keyPoints:"Creates inflated surface for visualizing buried cortex. Part of recon-all. Metric distortion encoded in sulc file.",typicalUse:"Creating inflated surfaces for visualization of cortical data.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mris_inflate"},{name:"mris_sphere",fullName:"FreeSurfer Surface to Sphere Mapping",function:"Maps the inflated cortical surface to a sphere for inter-subject spherical registration.",modality:"FreeSurfer inflated surface file.",keyParameters:"(minimal user-facing parameters; uses inflated surface)",keyPoints:"Prerequisite for cortical atlas registration. Part of recon-all. Spherical mapping enables vertex-wise inter-subject comparisons.",typicalUse:"Preparing cortical surface for spherical registration and atlas labeling.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mris_sphere"}],Parcellation:[{name:"mri_aparc2aseg",fullName:"FreeSurfer Cortical Parcellation to Volume",function:"Combines surface-based cortical parcellation (aparc) with volumetric subcortical segmentation (aseg) into a single volume.",modality:"FreeSurfer subject directory (requires completed recon-all).",keyParameters:"--s (subject), --annot (annotation name, default aparc), --o (output volume)",keyPoints:"Creates aparc+aseg.mgz combining ~80 cortical and subcortical regions. Different parcellation schemes available.",typicalUse:"Creating volumetric parcellation from surface labels for ROI analysis.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_aparc2aseg"},{name:"mri_annotation2label",fullName:"FreeSurfer Annotation to Individual Labels",function:"Extracts individual region labels from a surface annotation file into separate label files.",modality:"FreeSurfer annotation file (e.g., lh.aparc.annot).",keyParameters:"--subject (subject), --hemi (hemisphere), --annotation (annotation name), --outdir (output directory)",keyPoints:"Creates one .label file per region. Label files contain vertex indices and coordinates.",typicalUse:"Extracting individual ROIs from parcellation for targeted analysis.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_annotation2label"},{name:"mris_ca_label",fullName:"FreeSurfer Cortical Atlas Labeling",function:"Applies a cortical parcellation atlas to an individual subject using trained classifier on spherical surface.",modality:"FreeSurfer subject directory with sphere.reg (requires completed recon-all).",keyParameters:"<subject> <hemisphere> <sphere.reg> <atlas.gcs> <output_annotation>",keyPoints:"Uses Gaussian classifier atlas trained on manual labels. Part of recon-all. Different atlases available.",typicalUse:"Applying cortical parcellation atlas to individual subjects.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mris_ca_label"},{name:"mri_label2vol",fullName:"FreeSurfer Label to Volume Conversion",function:"Converts surface-based labels to volumetric ROIs using a registration matrix.",modality:"FreeSurfer label file plus template volume and registration.",keyParameters:"--label (input label), --temp (template volume), --reg (registration file), --o (output volume), --proj (projection parameters)",keyPoints:"Requires registration between surface and target volume space. Use --proj to control projection depth.",typicalUse:"Creating volumetric ROIs from FreeSurfer surface parcellations.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_label2vol"}],Functional:[{name:"bbregister",fullName:"FreeSurfer Boundary-Based Registration (bbregister)",function:"High-quality registration of functional EPI images to FreeSurfer anatomy using white matter boundary contrast.",modality:"3D EPI volume (mean/example func) plus FreeSurfer subject directory.",keyParameters:"--s (subject), --mov (moving/source image), --reg (output registration), --init-fsl (initialization method), --bold (contrast type)",keyPoints:"Superior to volume-based registration for EPI-to-T1. Requires completed recon-all. --init-fsl recommended.",typicalUse:"High-quality EPI to T1 registration using cortical surfaces.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/bbregister"},{name:"mri_vol2surf",fullName:"FreeSurfer Volume to Surface Projection",function:"Projects volumetric data (fMRI, PET, etc.) onto the cortical surface using specified sampling method.",modality:"3D or 4D NIfTI/MGZ volume plus FreeSurfer subject registration.",keyParameters:"--mov (input volume), --reg (registration), --hemi (hemisphere), --projfrac (fraction of cortical thickness), --o (output)",keyPoints:"Use --projfrac 0.5 to sample at mid-cortical depth. Can average across depths with --projfrac-avg.",typicalUse:"Mapping functional or PET data to cortical surface for surface-based analysis.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_vol2surf"},{name:"mri_surf2vol",fullName:"FreeSurfer Surface to Volume Projection",function:"Projects surface-based data back to volumetric space using registration and template volume.",modality:"FreeSurfer surface overlay file plus template volume and registration.",keyParameters:"--surfval (surface data), --reg (registration), --template (output grid template), --hemi (hemisphere), --o (output volume)",keyPoints:"Inverse of mri_vol2surf. Template defines output grid dimensions.",typicalUse:"Converting surface-based results back to volume space for reporting.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_surf2vol"},{name:"mris_preproc",fullName:"FreeSurfer Surface Data Preprocessing for Group Analysis",function:"Concatenates surface data across subjects onto a common template surface for group-level analysis.",modality:"Per-subject surface overlays (thickness, area, etc.) from FreeSurfer processing.",keyParameters:"--s (subject list), --meas (measure: thickness, area, volume), --target (target subject/template), --hemi (hemisphere), --o (output)",keyPoints:"Resamples all subjects to common surface (fsaverage). Can smooth on surface with --fwhm.",typicalUse:"Preparing surface data for group statistical analysis.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mris_preproc"},{name:"mri_glmfit",fullName:"FreeSurfer General Linear Model (mri_glmfit)",function:"Fits a general linear model on surface or volume data for group-level statistical analysis.",modality:"Concatenated surface data from mris_preproc or stacked volume data.",keyParameters:"--y (input data), --fsgd (FreeSurfer group descriptor), --C (contrast file), --surf (surface subject), --glmdir (output directory)",keyPoints:"Uses FSGD file for design specification. Supports DODS and DOSS design types. Can run on surface or volume data.",typicalUse:"Surface-based or volume-based group statistical analysis.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_glmfit"}],Morphometry:[{name:"mris_anatomical_stats",fullName:"FreeSurfer Surface Anatomical Statistics",function:"Computes surface-based morphometric measures (thickness, area, volume, curvature) for each region in a parcellation.",modality:"FreeSurfer subject directory with completed recon-all.",keyParameters:"-a (annotation file), -f (output stats file), -b (output table format)",keyPoints:"Outputs per-region cortical thickness, surface area, gray matter volume, and curvature.",typicalUse:"Extracting regional cortical thickness, area, and volume measures.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mris_anatomical_stats"},{name:"mri_segstats",fullName:"FreeSurfer Segmentation Statistics",function:"Computes volume and intensity statistics for each region in a segmentation volume.",modality:"Segmentation volume (e.g., aseg.mgz) plus optional intensity volume.",keyParameters:"--seg (segmentation), --i (intensity volume), --ctab (color table), --sum (output summary file), --excludeid 0 (exclude background)",keyPoints:"Reports volume, mean intensity, and other statistics per region. Can use any segmentation volume.",typicalUse:"Extracting regional volumes and mean intensities per structure.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/mri_segstats"},{name:"aparcstats2table",fullName:"FreeSurfer Cortical Stats to Group Table",function:"Collects cortical parcellation statistics across multiple subjects into a single table for group analysis.",modality:"Multiple FreeSurfer subject directories with completed recon-all.",keyParameters:"--subjects (subject list), --hemi (hemisphere), --meas (measure: thickness, area, volume), --tablefile (output table)",keyPoints:"Creates one row per subject, one column per region. Output table ready for statistical software.",typicalUse:"Creating group spreadsheet of cortical morphometry for statistical analysis.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/aparcstats2table"},{name:"asegstats2table",fullName:"FreeSurfer Subcortical Stats to Group Table",function:"Collects subcortical segmentation statistics across multiple subjects into a single table.",modality:"Multiple FreeSurfer subject directories with completed recon-all.",keyParameters:"--subjects (subject list), --meas (measure: volume, mean), --tablefile (output table), --stats (stats file name)",keyPoints:"Creates one row per subject with subcortical volumes. Default uses aseg.stats.",typicalUse:"Group analysis of subcortical volumes.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/asegstats2table"}],Diffusion:[{name:"dmri_postreg",fullName:"FreeSurfer Diffusion Post-Registration Processing",function:"Post-registration processing for diffusion MRI data as part of the TRACULA tractography pipeline.",modality:"Registered diffusion MRI data within FreeSurfer/TRACULA directory structure.",keyParameters:"--s (subject), --reg (registration method: bbr or manual)",keyPoints:"Part of TRACULA pipeline. Handles diffusion-to-structural registration refinement. Usually called by trac-all.",typicalUse:"Part of TRACULA pipeline for automated tractography.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/dmri_postreg"}],"PET Processing":[{name:"mri_gtmpvc",fullName:"FreeSurfer Geometric Transfer Matrix Partial Volume Correction",function:"Performs partial volume correction for PET data using the geometric transfer matrix method based on high-resolution anatomical segmentation.",modality:"PET volume (3D NIfTI/MGZ) plus FreeSurfer segmentation (aparc+aseg).",keyParameters:"--i (input PET), --seg (segmentation), --reg (registration to anatomy), --psf (point spread function FWHM in mm), --o (output directory)",keyPoints:"Accounts for PET spatial resolution blurring across tissue boundaries. PSF should match scanner resolution (~4-6mm).",typicalUse:"Partial volume correction of PET data using anatomical segmentation.",docUrl:"https://surfer.nmr.mgh.harvard.edu/fswiki/PetSurfer"}]},ANTs:{"Brain Extraction":[{name:"antsBrainExtraction.sh",fullName:"ANTs Template-Based Brain Extraction",function:"High-quality brain extraction using registration to a brain template and tissue priors for robust skull stripping.",modality:"T1-weighted 3D NIfTI volume plus brain template and brain probability mask.",keyParameters:"-d (dimension, 3), -a (anatomical image), -e (brain template), -m (brain probability mask), -o (output prefix)",keyPoints:"More robust than BET for difficult cases. Requires template and prior. Slower but generally more accurate.",typicalUse:"High-quality skull stripping, especially for challenging datasets.",docUrl:"https://github.com/ANTsX/ANTs/wiki/antsBrainExtraction-and-templates"}],Segmentation:[{name:"Atropos",fullName:"ANTs Atropos Tissue Segmentation",function:"Probabilistic tissue segmentation using expectation-maximization algorithm with Markov random field spatial prior.",modality:"Brain-extracted 3D NIfTI volume plus brain mask.",keyParameters:"-d (dimension), -a (input image), -x (mask), -i (initialization: KMeans[N] or PriorProbabilityImages), -c (convergence), -o (output)",keyPoints:"Initialize with KMeans[3] for basic GM/WM/CSF or use prior probability images. MRF prior improves spatial coherence.",typicalUse:"GMM-based brain tissue segmentation with spatial regularization.",docUrl:"https://github.com/ANTsX/ANTs/wiki/Atropos-and-N4"},{name:"antsAtroposN4.sh",fullName:"ANTs Combined Atropos with N4 Bias Correction",function:"Iteratively combines N4 bias field correction with Atropos segmentation for improved results on biased images.",modality:"Brain-extracted 3D NIfTI volume plus brain mask.",keyParameters:"-d (dimension), -a (anatomical image), -x (mask), -c (number of classes), -o (output prefix), -n (number of iterations)",keyPoints:"Iterative approach: N4 correction improves segmentation, which improves next N4 iteration. Superior to running separately.",typicalUse:"Iterative N4 + segmentation for better results on images with bias field.",docUrl:"https://github.com/ANTsX/ANTs/wiki/Atropos-and-N4"}],Registration:[{name:"antsRegistration",fullName:"ANTs Multi-Stage Image Registration",function:"State-of-the-art image registration supporting multiple stages (rigid, affine, SyN) with configurable metrics and convergence.",modality:"Any 3D NIfTI volume pair (fixed and moving images).",keyParameters:"-d (dimension), -f (fixed), -m (moving), -t (transform type), -c (convergence), -s (smoothing sigmas), -o (output)",keyPoints:"Multi-stage approach: rigid then affine then SyN. SyN is symmetric diffeomorphic. CC metric best for intra-modal, MI for inter-modal.",typicalUse:"High-quality multi-stage registration with full parameter control.",docUrl:"https://github.com/ANTsX/ANTs/wiki/Anatomy-of-an-antsRegistration-call"},{name:"antsRegistrationSyN.sh",fullName:"ANTs SyN Registration with Defaults",function:"Symmetric normalization registration with sensible default parameters for common registration tasks.",modality:"Any 3D NIfTI volume pair.",keyParameters:"-d (dimension), -f (fixed), -m (moving), -o (output prefix), -t (transform type: s=SyN, b=BSplineSyN, a=affine only)",keyPoints:"Good defaults for most use cases. Outputs forward/inverse warps and affine. Preferred over raw antsRegistration for simplicity.",typicalUse:"Standard registration with good defaults for structural normalization.",docUrl:"https://github.com/ANTsX/ANTs/wiki/Anatomy-of-an-antsRegistration-call"},{name:"antsRegistrationSyNQuick.sh",fullName:"ANTs Quick SyN Registration",function:"Fast SyN registration with reduced iterations and coarser sampling for rapid approximate registration.",modality:"Any 3D NIfTI volume pair.",keyParameters:"-d (dimension), -f (fixed), -m (moving), -o (output prefix), -t (transform type)",keyPoints:"Same interface as antsRegistrationSyN.sh but ~4x faster with slightly less accuracy.",typicalUse:"Quick registration when speed is priority over maximum accuracy.",docUrl:"https://github.com/ANTsX/ANTs/wiki/Anatomy-of-an-antsRegistration-call"},{name:"antsIntermodalityIntrasubject.sh",fullName:"ANTs Intermodality Intrasubject Registration",function:"Specialized registration between different imaging modalities within the same subject.",modality:"Two different-modality volumes from the same subject (e.g., T1 + T2, or T1 + EPI).",keyParameters:"-d (dimension), -i (input modality 1), -r (reference modality 2), -o (output prefix), -t (transform type)",keyPoints:"Uses mutual information cost function appropriate for cross-modal registration.",typicalUse:"T1-to-T2, fMRI-to-T1, or DWI-to-T1 within-subject alignment.",docUrl:"https://github.com/ANTsX/ANTs/wiki/Anatomy-of-an-antsRegistration-call"}],"Cortical Thickness":[{name:"antsCorticalThickness.sh",fullName:"ANTs Cortical Thickness Pipeline",function:"Complete automated pipeline for cortical thickness estimation using DiReCT, including brain extraction, segmentation, and registration.",modality:"T1-weighted 3D NIfTI volume plus brain template and tissue priors.",keyParameters:"-d (dimension), -a (anatomical image), -e (brain template), -m (brain probability mask), -p (tissue priors prefix), -o (output prefix)",keyPoints:"Runs full pipeline: N4, brain extraction, segmentation, registration, thickness. Requires template and priors. Computationally intensive.",typicalUse:"Complete DiReCT-based cortical thickness measurement pipeline.",docUrl:"https://github.com/ANTsX/ANTs/wiki/antsCorticalThickness-and-Templates"},{name:"KellyKapowski",fullName:"ANTs DiReCT Cortical Thickness (KellyKapowski)",function:"Estimates cortical thickness using the DiReCT algorithm from segmentation data.",modality:"Tissue segmentation image plus GM and WM probability maps (3D NIfTI).",keyParameters:"-d (dimension), -s (segmentation image), -g (GM probability), -w (WM probability), -o (output thickness map), -c (convergence)",keyPoints:"Core thickness estimation engine used by antsCorticalThickness.sh. Requires good segmentation as input.",typicalUse:"Computing cortical thickness from pre-existing tissue segmentation.",docUrl:"https://github.com/ANTsX/ANTs/wiki/antsCorticalThickness-and-Templates"}],"Motion Correction":[{name:"antsMotionCorr",fullName:"ANTs Motion Correction",function:"Motion correction for time series data using ANTs registration framework with rigid or affine transformations.",modality:"4D fMRI or dynamic PET NIfTI time series.",keyParameters:"-d (dimension), -a (compute average), -o (output), -u (use fixed reference), -m (metric)",keyPoints:"Can compute average image and motion-correct simultaneously. Uses ANTs optimization. Slower than MCFLIRT.",typicalUse:"High-quality motion correction using ANTs registration framework.",docUrl:"https://github.com/ANTsX/ANTs/wiki/antsMotionCorr"}],"Preprocessing Utilities":[{name:"N4BiasFieldCorrection",fullName:"ANTs N4 Bias Field Correction",function:"Advanced bias field (intensity inhomogeneity) correction using the N4 algorithm with iterative B-spline fitting.",modality:"3D NIfTI volume (any MRI contrast), optional brain mask.",keyParameters:"-d (dimension), -i (input), -o (output [,bias_field]), -x (mask), -s (shrink factor), -c (convergence)",keyPoints:"Gold standard for bias correction. Use mask to restrict correction to brain. -s 4 speeds up computation.",typicalUse:"Removing intensity inhomogeneity before segmentation or registration.",docUrl:"https://github.com/ANTsX/ANTs/wiki/Atropos-and-N4"},{name:"DenoiseImage",fullName:"ANTs Non-Local Means Denoising",function:"Reduces noise in MRI images using an adaptive non-local means algorithm that preserves structural details.",modality:"3D NIfTI volume (any MRI contrast).",keyParameters:"-d (dimension), -i (input), -o (output [,noise_image]), -v (verbose)",keyPoints:"Preserves edges better than Gaussian smoothing. Can output estimated noise image. Apply before bias correction.",typicalUse:"Noise reduction while preserving structural edges.",docUrl:"https://github.com/ANTsX/ANTs/wiki/DenoiseImage"}],"Image Operations":[{name:"ImageMath",fullName:"ANTs Image Math Operations",function:"Versatile tool for image arithmetic, morphological operations, distance transforms, and various measurements.",modality:"3D NIfTI volume(s).",keyParameters:"<dimension> <output> <operation> <input1> [input2] [parameters]",keyPoints:"Operations include: m (multiply), + (add), ME/MD (erode/dilate), GetLargestComponent, FillHoles, Normalize.",typicalUse:"Mathematical operations, morphological operations, connected component analysis.",docUrl:"https://github.com/ANTsX/ANTs/wiki/ImageMath"},{name:"ThresholdImage",fullName:"ANTs Image Thresholding",function:"Applies various thresholding methods to create binary masks, including Otsu and k-means adaptive thresholding.",modality:"3D NIfTI volume.",keyParameters:"<dimension> <input> <output> <lower> <upper> (binary) or Otsu <num_thresholds> (automatic)",keyPoints:"Otsu mode automatically finds optimal threshold. Binary mode uses explicit lower/upper bounds.",typicalUse:"Creating binary masks, Otsu-based adaptive thresholding.",docUrl:"https://github.com/ANTsX/ANTs/wiki"}],"Label Analysis":[{name:"LabelGeometryMeasures",fullName:"ANTs Label Geometry Measures",function:"Computes geometric properties (volume, centroid, bounding box, eccentricity) for each labeled region in a parcellation.",modality:"3D integer-labeled NIfTI volume (parcellation/segmentation), optional intensity image.",keyParameters:"<dimension> <label_image> [<intensity_image>] [<output_csv>]",keyPoints:"Outputs CSV with volume, centroid, elongation, roundness per label.",typicalUse:"Extracting volume, centroid, and shape measures per labeled region.",docUrl:"https://github.com/ANTsX/ANTs/wiki"},{name:"antsJointLabelFusion.sh",fullName:"ANTs Joint Label Fusion",function:"Multi-atlas segmentation that combines labels from multiple pre-labeled atlases using joint label fusion with local weighting.",modality:"Target 3D NIfTI volume plus multiple atlas images with corresponding label maps.",keyParameters:"-d (dimension), -t (target image), -g (atlas images), -l (atlas labels), -o (output prefix)",keyPoints:"More accurate than single-atlas segmentation. Requires multiple registered atlases. Computationally intensive but highly accurate.",typicalUse:"High-accuracy segmentation using multiple atlas priors.",docUrl:"https://github.com/ANTsX/ANTs/wiki/antsJointLabelFusion"}],"Transform Utilities":[{name:"antsApplyTransforms",fullName:"ANTs Apply Transforms",function:"Applies one or more precomputed transformations (affine + warp) to images, applying transforms in reverse order of specification.",modality:"3D or 4D NIfTI volume plus transform files (affine .mat and/or warp .nii.gz).",keyParameters:"-d (dimension), -i (input), -r (reference), -o (output), -t (transforms, applied last-to-first), -n (interpolation: Linear, NearestNeighbor, BSpline)",keyPoints:"Transforms applied in REVERSE order listed. Use -n NearestNeighbor for label images. -e flag for time series.",typicalUse:"Applying registration transforms to data, labels, or ROIs.",docUrl:"https://github.com/ANTsX/ANTs/wiki/Anatomy-of-an-antsRegistration-call"}]},MRtrix3:{Preprocessing:[{name:"dwidenoise",fullName:"MRtrix3 DWI Denoising (MP-PCA)",function:"Removes thermal noise from diffusion MRI data using Marchenko-Pastur PCA exploiting data redundancy across diffusion directions.",modality:"4D diffusion-weighted NIfTI with multiple diffusion directions (minimum ~30 recommended).",keyParameters:"<input> <output>, -noise (output noise map), -extent (spatial patch size, default 5,5,5), -mask (brain mask)",keyPoints:"Should be run FIRST, before any other processing. Requires sufficient number of diffusion directions. Noise map useful for QC.",typicalUse:"First step in DWI preprocessing to improve SNR.",docUrl:"https://mrtrix.readthedocs.io/en/latest/reference/commands/dwidenoise.html"},{name:"mrdegibbs",fullName:"MRtrix3 Gibbs Ringing Removal",function:"Removes Gibbs ringing artifacts (truncation artifacts) from MRI data using a local subvoxel-shift method.",modality:"3D or 4D NIfTI volume (structural or diffusion).",keyParameters:"<input> <output>, -axes (axes along which data was acquired, default 0,1)",keyPoints:"Run after dwidenoise but before any interpolation-based processing. Only effective if data was NOT zero-filled in k-space.",typicalUse:"Removing Gibbs ringing after denoising, before other preprocessing.",docUrl:"https://mrtrix.readthedocs.io/en/latest/reference/commands/mrdegibbs.html"}],"Tensor/FOD":[{name:"dwi2tensor",fullName:"MRtrix3 Diffusion Tensor Estimation",function:"Estimates the diffusion tensor model at each voxel from preprocessed DWI data using weighted or ordinary least squares.",modality:"4D diffusion-weighted NIfTI with gradient table (b-values and b-vectors).",keyParameters:"<input> <output>, -mask (brain mask), -b0 (output mean b=0 image), -dkt (output diffusion kurtosis tensor)",keyPoints:"Assumes single fiber per voxel. Gradient information must be in image header or provided via -fslgrad bvecs bvals.",typicalUse:"Fitting diffusion tensor to DWI data for FA/MD map generation.",docUrl:"https://mrtrix.readthedocs.io/en/latest/reference/commands/dwi2tensor.html"},{name:"tensor2metric",fullName:"MRtrix3 Tensor Metric Extraction",function:"Extracts scalar metrics (FA, MD, AD, RD, eigenvalues, eigenvectors) from a fitted diffusion tensor image.",modality:"Diffusion tensor image (4D NIfTI from dwi2tensor).",keyParameters:"<input>, -fa (output FA map), -adc (output MD map), -ad (output AD), -rd (output RD), -vector (output eigenvectors)",keyPoints:"Multiple outputs can be generated in a single run. FA range 0-1. Specify each desired output explicitly.",typicalUse:"Generating FA, MD, and other scalar diffusion maps from tensor.",docUrl:"https://mrtrix.readthedocs.io/en/latest/reference/commands/tensor2metric.html"},{name:"dwi2fod",fullName:"MRtrix3 Fiber Orientation Distribution Estimation",function:"Estimates fiber orientation distributions (FODs) using constrained spherical deconvolution to resolve crossing fibers.",modality:"4D diffusion-weighted NIfTI with multi-shell or single-shell data, plus tissue response functions.",keyParameters:"<algorithm> <input> <wm_response> <wm_fod> [<gm_response> <gm_fod>] [<csf_response> <csf_fod>], -mask (brain mask)",keyPoints:"Use msmt_csd for multi-shell data (recommended), csd for single-shell. Response functions from dwi2response.",typicalUse:"Estimating fiber orientations for subsequent tractography.",docUrl:"https://mrtrix.readthedocs.io/en/latest/reference/commands/dwi2fod.html"}],Tractography:[{name:"tckgen",fullName:"MRtrix3 Streamline Tractography Generation",function:"Generates streamline tractograms using various algorithms (iFOD2, FACT, etc.) from FOD or tensor images.",modality:"FOD image (from dwi2fod) or tensor image, plus optional seed/mask/ROI images.",keyParameters:"<source> <output.tck>, -algorithm (iFOD2, FACT, etc.), -seed_image (seeding region), -select (target streamline count), -cutoff (FOD amplitude cutoff)",keyPoints:"iFOD2 (default) is probabilistic and handles crossing fibers. Use -select for target count. -cutoff controls termination.",typicalUse:"Generating whole-brain or ROI-seeded tractograms.",docUrl:"https://mrtrix.readthedocs.io/en/latest/reference/commands/tckgen.html"},{name:"tcksift",fullName:"MRtrix3 SIFT Tractogram Filtering",function:"Filters tractograms to improve biological plausibility by matching streamline density to FOD lobe integrals.",modality:"Tractogram (.tck) plus FOD image used for tractography.",keyParameters:"<input.tck> <output.tck>, -act (ACT image), -term_number (target streamline count)",keyPoints:"Dramatically improves connectome quantification. Run after tckgen. SIFT2 (tcksift2) outputs weights instead of filtering.",typicalUse:"Improving tractogram biological accuracy before connectome construction.",docUrl:"https://mrtrix.readthedocs.io/en/latest/reference/commands/tcksift.html"},{name:"tck2connectome",fullName:"MRtrix3 Tractogram to Connectome",function:"Constructs a structural connectivity matrix by counting streamlines connecting pairs of regions from a parcellation.",modality:"Tractogram (.tck) plus parcellation volume (integer-labeled 3D NIfTI).",keyParameters:"<input.tck> <parcellation> <output.csv>, -assignment_radial_search (search radius), -scale_length (length scaling)",keyPoints:"Output is NxN matrix. Use SIFT/SIFT2 filtered tractogram for quantitative connectomics. -symmetric recommended.",typicalUse:"Building structural connectivity matrices from tractography and parcellation.",docUrl:"https://mrtrix.readthedocs.io/en/latest/reference/commands/tck2connectome.html"}]},fMRIPrep:{Pipeline:[{name:"fmriprep",fullName:"fMRIPrep: Robust fMRI Preprocessing Pipeline",function:"Automated, robust preprocessing pipeline for task-based and resting-state fMRI, combining tools from FSL, FreeSurfer, ANTs, and AFNI with best practices.",modality:"BIDS-formatted dataset containing T1w anatomical and BOLD fMRI data (NIfTI format).",keyParameters:"<bids_dir> <output_dir> participant, --participant-label (subject IDs), --output-spaces (target spaces), --fs-license-file (FreeSurfer license)",keyPoints:"Requires BIDS-formatted input. Handles brain extraction, segmentation, registration, motion correction, distortion correction, and confound estimation. Generates comprehensive visual QC reports.",typicalUse:"Complete standardized fMRI preprocessing from BIDS data to analysis-ready outputs.",docUrl:"https://fmriprep.org/en/stable/"}]},MRIQC:{Pipeline:[{name:"mriqc",fullName:"MRIQC: MRI Quality Control Pipeline",function:"Automated quality control pipeline that extracts image quality metrics (IQMs) from structural and functional MRI and generates visual reports.",modality:"BIDS-formatted dataset containing T1w, T2w, and/or BOLD fMRI data (NIfTI format).",keyParameters:"<bids_dir> <output_dir> participant, --participant-label (subject IDs), --modalities (T1w, T2w, bold), --no-sub (skip submission to web API)",keyPoints:"Requires BIDS-formatted input. Computes dozens of IQMs (SNR, CNR, EFC, FBER, motion metrics). Generates individual and group-level visual reports.",typicalUse:"Automated quality assessment of MRI data before preprocessing.",docUrl:"https://mriqc.readthedocs.io/en/stable/"}]}},md=["FSL","AFNI","SPM","FreeSurfer","ANTs","MRtrix3","fMRIPrep","MRIQC"],vy={"I/O":[{name:"Input",fullName:"Workflow Input",function:"Represents external input data entering the workflow",typicalUse:"Connect to the first processing step to show where data comes from",isDummy:!0},{name:"Output",fullName:"Workflow Output",function:"Represents the final output of the workflow",typicalUse:"Connect from the last processing step to show where results go",isDummy:!0}]},Nk={FSL:["latest","6.0.4-patched2","6.0.4-patched","6.0.4","6.0.4-xenial","5.0.11","6.0.0","6.0.1","5.0.9"],AFNI:["latest","16.3.0"],ANTs:["latest","master","v2.6.5","2.6.5","v2.6.4","2.6.4","v2.6.3","2.6.3","v2.6.2","2.6.2","v2.6.1","2.6.1","v2.6.0","2.6.0","v2.5.4"],FreeSurfer:["latest","8.1.0","8.0.0","7.2.0","7.3.0","7.3.1","7.3.2","7.4.1","7.1.1","6.0"],MRtrix3:["latest","3.0.8","3.0.7","3.0.5","3.0.4","3.0.3"],fMRIPrep:["latest","unstable","25.2.4","premask","25.2.3","25.2.2","25.2.1","25.2.0","pre-release","25.1.4","25.1.3","25.1.2","25.1.1","25.1.0","25.0.0"],MRIQC:["latest","experimental","25.0.0rc0","24.0.2","24.0.1","24.0.0","24.0.0rc8","24.0.0rc7","24.0.0rc6","24.0.0rc5","24.0.0rc4","24.0.0rc3","24.0.0rc2","24.0.0rc1","23.1.1"]},Va=new Map;for(const e of Object.values(Fk))for(const t of Object.values(e))for(const n of t)Va.set(n.name,n);for(const e of Object.values(vy))for(const t of e)Va.set(t.name,t);const gd=["Structural MRI","Functional MRI","Diffusion MRI","Arterial Spin Labeling","PET","Multimodal","Utilities"],wy={"Structural MRI":{FSL:{"Brain Extraction":["bet"],"Tissue Segmentation":["fast","run_first_all"],Registration:["flirt","fnirt"],Pipelines:["fsl_anat","siena","sienax"]},ANTs:{"Brain Extraction":["antsBrainExtraction.sh"],Segmentation:["Atropos","antsAtroposN4.sh"],Registration:["antsRegistration","antsRegistrationSyN.sh","antsRegistrationSyNQuick.sh"],"Cortical Thickness":["antsCorticalThickness.sh","KellyKapowski"]},FreeSurfer:{"Surface Reconstruction":["mri_convert","mri_watershed","mri_normalize","mri_segment","mris_inflate","mris_sphere"],Parcellation:["mri_aparc2aseg","mri_annotation2label","mris_ca_label","mri_label2vol"],Morphometry:["mris_anatomical_stats","mri_segstats","aparcstats2table","asegstats2table"]},AFNI:{"Brain Extraction":["3dSkullStrip","@SSwarper"],"Bias Correction":["3dUnifize"],Registration:["3dAllineate","3dQwarp","@auto_tlrc"]}},"Functional MRI":{FSL:{"Motion Correction":["mcflirt"],"Slice Timing":["slicetimer"],"Distortion Correction":["fugue","topup"],Smoothing:["susan"],"Statistical Analysis":["film_gls","flameo","randomise"],"ICA/Denoising":["melodic","dual_regression"]},AFNI:{"Motion Correction":["3dvolreg"],"Slice Timing":["3dTshift"],Denoising:["3dDespike","3dBandpass"],Smoothing:["3dBlurToFWHM","3dmerge"],Masking:["3dAutomask"],Registration:["align_epi_anat"],"Statistical Analysis":["3dDeconvolve","3dREMLfit","3dMEMA","3dANOVA","3dANOVA2","3dANOVA3","3dttest++","3dMVM","3dLME","3dLMEr"],"Multiple Comparisons":["3dClustSim","3dFWHMx"],Connectivity:["3dNetCorr","3dTcorr1D","3dTcorrMap","3dRSFC"],"ROI Analysis":["3dROIstats","3dmaskave"]},FreeSurfer:{"Functional Analysis":["bbregister","mri_vol2surf","mri_surf2vol","mris_preproc","mri_glmfit"]},ANTs:{"Motion Correction":["antsMotionCorr"]},fMRIPrep:{Pipeline:["fmriprep"]},MRIQC:{Pipeline:["mriqc"]}},"Diffusion MRI":{FSL:{Preprocessing:["eddy","topup"],"Tensor Fitting":["dtifit"],Tractography:["bedpostx","probtrackx2"],TBSS:["tbss_1_preproc","tbss_2_reg","tbss_3_postreg","tbss_4_prestats"]},MRtrix3:{Preprocessing:["dwidenoise","mrdegibbs"],"Tensor/FOD":["dwi2tensor","tensor2metric","dwi2fod"],Tractography:["tckgen","tcksift","tck2connectome"]},FreeSurfer:{Diffusion:["dmri_postreg"]}},"Arterial Spin Labeling":{FSL:{"ASL Processing":["oxford_asl","basil","asl_calib"]}},PET:{FreeSurfer:{"PET Processing":["mri_gtmpvc"]}},Multimodal:{ANTs:{"Intermodal Registration":["antsIntermodalityIntrasubject.sh"]}},Utilities:{FSL:{"Image Math":["fslmaths","fslstats","fslroi","fslmeants"],"Volume Operations":["fslsplit","fslmerge","fslreorient2std"],"Warp Utilities":["applywarp","invwarp","convertwarp"],Clustering:["cluster"]},AFNI:{"Image Math":["3dcalc","3dTstat"],"Dataset Operations":["3dinfo","3dcopy","3dZeropad","3dTcat"],"ROI Utilities":["3dUndump","whereami","3dresample","3dfractionize"],"Warp Utilities":["3dNwarpApply","3dNwarpCat"]},ANTs:{"Preprocessing Utilities":["N4BiasFieldCorrection","DenoiseImage"],"Image Operations":["ImageMath","ThresholdImage"],"Label Analysis":["LabelGeometryMeasures","antsJointLabelFusion.sh"],"Transform Utilities":["antsApplyTransforms"]},FreeSurfer:{"Format Conversion":["mri_convert"]}}};function Ck(e){const t={};for(const[n,r]of Object.entries(e)){t[n]={};for(const[i,a]of Object.entries(r)){t[n][i]={};for(const[o,l]of Object.entries(a))t[n][i][o]=l.map(s=>Va.get(s)).filter(Boolean)}}return t}const hd=Ck(wy);if(typeof process>"u"){const e=new Set;for(const t of Object.values(wy))for(const n of Object.values(t))for(const r of Object.values(n))r.forEach(i=>e.add(i));for(const[t,n]of Va.entries())!n.isDummy&&!e.has(t)&&console.warn(`[toolData] Tool "${t}" exists in toolsByLibrary but is not assigned to any modality`)}function Ak(){const[e,t]=E.useState(()=>{const o={DummyNodes:!1};return gd.forEach(l=>{o[l]=!1}),o}),n=o=>{t(l=>({...l,[o]:!l[o]}))},r=(o,l,s=!1)=>{o.dataTransfer.setData("node/name",l),o.dataTransfer.setData("node/isDummy",s.toString())},i=o=>{const l=hd[o];if(!l)return 0;let s=0;for(const u of Object.values(l))for(const c of Object.values(u))s+=c.length;return s},a=(o,l)=>{const s=o[l];return s?Object.values(s).reduce((u,c)=>u+c.length,0):0};return M.jsx("div",{className:"workflow-menu-container",children:M.jsxs("div",{className:"workflow-menu",children:[M.jsxs("div",{className:"library-section",children:[M.jsxs("div",{className:`library-header ${e.DummyNodes?"expanded":""}`,onClick:()=>n("DummyNodes"),children:[M.jsx("span",{className:"chevron",children:e.DummyNodes?"":""}),M.jsx("span",{className:"library-name",children:"I/O"}),M.jsx("span",{className:"tool-count",children:"2"})]}),e.DummyNodes&&M.jsx("div",{className:"library-tools",children:M.jsx("div",{className:"subsection-tools",children:vy["I/O"].map((o,l)=>M.jsx(dd,{name:o.name,toolInfo:{fullName:o.fullName,function:o.function,typicalUse:o.typicalUse},onDragStart:(s,u)=>r(s,u,!0)},`dummy-${l}`))})})]}),gd.map(o=>{const l=hd[o],s=e[o],u=i(o),f=(l?Object.keys(l):[]).sort((d,p)=>{const b=md.indexOf(d),y=md.indexOf(p);return(b===-1?999:b)-(y===-1?999:y)});return u===0?null:M.jsxs("div",{className:"modality-section",children:[M.jsxs("div",{className:`modality-header ${s?"expanded":""}`,onClick:()=>n(o),children:[M.jsx("span",{className:"chevron",children:s?"":""}),M.jsx("span",{className:"modality-name",children:o}),M.jsx("span",{className:"tool-count",children:u})]}),s&&M.jsx("div",{className:"modality-content",children:f.map(d=>{const p=l[d],b=`${o}::${d}`,y=e[b],w=a(l,d),m=Object.keys(p||{});return w===0?null:M.jsxs("div",{className:"library-section",children:[M.jsxs("div",{className:`library-header ${y?"expanded":""}`,onClick:()=>n(b),children:[M.jsx("span",{className:"chevron",children:y?"":""}),M.jsx("span",{className:"library-name",children:d}),M.jsx("span",{className:"tool-count",children:w})]}),y&&M.jsx("div",{className:"library-tools",children:m.map(h=>M.jsxs("div",{className:"subsection",children:[M.jsx("div",{className:"subsection-header",children:h}),M.jsx("div",{className:"subsection-tools",children:p[h].map((v,x)=>M.jsx(dd,{name:v.name,toolInfo:{fullName:v.fullName,function:v.function,modality:v.modality,keyParameters:v.keyParameters,keyPoints:v.keyPoints,typicalUse:v.typicalUse,docUrl:v.docUrl},onDragStart:r},`${b}-${h}-${x}`))})]},h))})]},b)})})]},o)})]})})}function Tk({workspaces:e,current:t,onChange:n}){const i=()=>{const a=e.length;return a<=5?[...Array(a).keys()]:t<3?[...Array(5).keys()]:t>=a-3?[...Array(5).keys()].map(o=>a-5+o):[0,"...",t,"...",a-1]};return M.jsxs("div",{className:"toggle-workflow-bar",children:[M.jsx("button",{className:"btn-secondary",disabled:t===0,onClick:()=>n(t-1),children:" Previous"}),M.jsx("div",{className:"page-numbers",children:i().map((a,o)=>a==="..."?M.jsx("span",{children:"..."},o):M.jsx("span",{className:a===t?"active":"",onClick:()=>n(a),children:a+1},o))}),M.jsx("button",{className:"btn-secondary",disabled:t===e.length-1,onClick:()=>n(t+1),children:"Next "})]})}function et(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=et(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var _y={exports:{}},xy={},ky={exports:{}},Sy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=E;function Ok(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rk=typeof Object.is=="function"?Object.is:Ok,Pk=wi.useState,Mk=wi.useEffect,Dk=wi.useLayoutEffect,zk=wi.useDebugValue;function Lk(e,t){var n=t(),r=Pk({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return Dk(function(){i.value=n,i.getSnapshot=t,Ls(i)&&a({inst:i})},[e,n,t]),Mk(function(){return Ls(i)&&a({inst:i}),e(function(){Ls(i)&&a({inst:i})})},[e]),zk(n),n}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rk(e,n)}catch{return!0}}function $k(e,t){return t()}var Uk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?$k:Lk;Sy.useSyncExternalStore=wi.useSyncExternalStore!==void 0?wi.useSyncExternalStore:Uk;ky.exports=Sy;var jk=ky.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=E,Bk=jk;function Wk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hk=typeof Object.is=="function"?Object.is:Wk,Vk=Bk.useSyncExternalStore,qk=Zl.useRef,Gk=Zl.useEffect,Yk=Zl.useMemo,Kk=Zl.useDebugValue;xy.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=qk(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Yk(function(){function s(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var b=o.value;if(i(b,p))return f=b}return f=p}if(b=f,Hk(c,p))return b;var y=r(p);return i!==void 0&&i(b,y)?(c=p,b):(c=p,f=y)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return s(t())},d===null?void 0:function(){return s(d())}]},[t,n,r,i]);var l=Vk(e,a[0],a[1]);return Gk(function(){o.hasValue=!0,o.value=l},[l]),Kk(l),l};_y.exports=xy;var Zk=_y.exports;const Xk=Ei(Zk),Qk={},yd=e=>{let t;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const p=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(b=>b(t,p))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(Qk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,s);return s},Jk=e=>e?yd(e):yd,{useDebugValue:e1}=X,{useSyncExternalStoreWithSelector:t1}=Xk,n1=e=>e;function Iy(e,t=n1,n){const r=t1(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return e1(r),r}const bd=(e,t)=>{const n=Jk(e),r=(i,a=t)=>Iy(n,i,a);return Object.assign(r,n),r},r1=(e,t)=>e?bd(e,t):bd;function Ye(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var i1={value:()=>{}};function Xl(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zo(n)}function zo(e){this._=e}function a1(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zo.prototype=Xl.prototype={constructor:zo,on:function(e,t){var n=this._,r=a1(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=o1(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=vd(n[i],e.name,t);else if(t==null)for(i in n)n[i]=vd(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function o1(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function vd(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=i1,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Xu="http://www.w3.org/1999/xhtml";const wd={svg:"http://www.w3.org/2000/svg",xhtml:Xu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ql(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wd.hasOwnProperty(t)?{space:wd[t],local:e}:e}function l1(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Xu&&t.documentElement.namespaceURI===Xu?t.createElement(e):t.createElementNS(n,e)}}function s1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ey(e){var t=Ql(e);return(t.local?s1:l1)(t)}function u1(){}function _f(e){return e==null?u1:function(){return this.querySelector(e)}}function c1(e){typeof e!="function"&&(e=_f(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=new Array(o),s,u,c=0;c<o;++c)(s=a[c])&&(u=e.call(s,s.__data__,c,a))&&("__data__"in s&&(u.__data__=s.__data__),l[c]=u);return new kt(r,this._parents)}function f1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function p1(){return[]}function Fy(e){return e==null?p1:function(){return this.querySelectorAll(e)}}function d1(e){return function(){return f1(e.apply(this,arguments))}}function m1(e){typeof e=="function"?e=d1(e):e=Fy(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],l=o.length,s,u=0;u<l;++u)(s=o[u])&&(r.push(e.call(s,s.__data__,u,o)),i.push(s));return new kt(r,i)}function Ny(e){return function(){return this.matches(e)}}function Cy(e){return function(t){return t.matches(e)}}var g1=Array.prototype.find;function h1(e){return function(){return g1.call(this.children,e)}}function y1(){return this.firstElementChild}function b1(e){return this.select(e==null?y1:h1(typeof e=="function"?e:Cy(e)))}var v1=Array.prototype.filter;function w1(){return Array.from(this.children)}function _1(e){return function(){return v1.call(this.children,e)}}function x1(e){return this.selectAll(e==null?w1:_1(typeof e=="function"?e:Cy(e)))}function k1(e){typeof e!="function"&&(e=Ny(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,u=0;u<o;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&l.push(s);return new kt(r,this._parents)}function Ay(e){return new Array(e.length)}function S1(){return new kt(this._enter||this._groups.map(Ay),this._parents)}function hl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hl.prototype={constructor:hl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function I1(e){return function(){return e}}function E1(e,t,n,r,i,a){for(var o=0,l,s=t.length,u=a.length;o<u;++o)(l=t[o])?(l.__data__=a[o],r[o]=l):n[o]=new hl(e,a[o]);for(;o<s;++o)(l=t[o])&&(i[o]=l)}function F1(e,t,n,r,i,a,o){var l,s,u=new Map,c=t.length,f=a.length,d=new Array(c),p;for(l=0;l<c;++l)(s=t[l])&&(d[l]=p=o.call(s,s.__data__,l,t)+"",u.has(p)?i[l]=s:u.set(p,s));for(l=0;l<f;++l)p=o.call(e,a[l],l,a)+"",(s=u.get(p))?(r[l]=s,s.__data__=a[l],u.delete(p)):n[l]=new hl(e,a[l]);for(l=0;l<c;++l)(s=t[l])&&u.get(d[l])===s&&(i[l]=s)}function N1(e){return e.__data__}function C1(e,t){if(!arguments.length)return Array.from(this,N1);var n=t?F1:E1,r=this._parents,i=this._groups;typeof e!="function"&&(e=I1(e));for(var a=i.length,o=new Array(a),l=new Array(a),s=new Array(a),u=0;u<a;++u){var c=r[u],f=i[u],d=f.length,p=A1(e.call(c,c&&c.__data__,u,r)),b=p.length,y=l[u]=new Array(b),w=o[u]=new Array(b),m=s[u]=new Array(d);n(c,f,y,w,m,p,t);for(var h=0,v=0,x,S;h<b;++h)if(x=y[h]){for(h>=v&&(v=h+1);!(S=w[v])&&++v<b;);x._next=S||null}}return o=new kt(o,r),o._enter=l,o._exit=s,o}function A1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function T1(){return new kt(this._exit||this._groups.map(Ay),this._parents)}function O1(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function R1(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),l=new Array(i),s=0;s<o;++s)for(var u=n[s],c=r[s],f=u.length,d=l[s]=new Array(f),p,b=0;b<f;++b)(p=u[b]||c[b])&&(d[b]=p);for(;s<i;++s)l[s]=n[s];return new kt(l,this._parents)}function P1(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function M1(e){e||(e=D1);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],l=o.length,s=i[a]=new Array(l),u,c=0;c<l;++c)(u=o[c])&&(s[c]=u);s.sort(t)}return new kt(i,this._parents).order()}function D1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function z1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function L1(){return Array.from(this)}function $1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function U1(){let e=0;for(const t of this)++e;return e}function j1(){return!this.node()}function B1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,l;a<o;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function W1(e){return function(){this.removeAttribute(e)}}function H1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function V1(e,t){return function(){this.setAttribute(e,t)}}function q1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function G1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Y1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function K1(e,t){var n=Ql(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?H1:W1:typeof t=="function"?n.local?Y1:G1:n.local?q1:V1)(n,t))}function Ty(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Z1(e){return function(){this.style.removeProperty(e)}}function X1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Q1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function J1(e,t,n){return arguments.length>1?this.each((t==null?Z1:typeof t=="function"?Q1:X1)(e,t,n??"")):_i(this.node(),e)}function _i(e,t){return e.style.getPropertyValue(t)||Ty(e).getComputedStyle(e,null).getPropertyValue(t)}function eS(e){return function(){delete this[e]}}function tS(e,t){return function(){this[e]=t}}function nS(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function rS(e,t){return arguments.length>1?this.each((t==null?eS:typeof t=="function"?nS:tS)(e,t)):this.node()[e]}function Oy(e){return e.trim().split(/^|\s+/)}function xf(e){return e.classList||new Ry(e)}function Ry(e){this._node=e,this._names=Oy(e.getAttribute("class")||"")}Ry.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Py(e,t){for(var n=xf(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function My(e,t){for(var n=xf(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function iS(e){return function(){Py(this,e)}}function aS(e){return function(){My(this,e)}}function oS(e,t){return function(){(t.apply(this,arguments)?Py:My)(this,e)}}function lS(e,t){var n=Oy(e+"");if(arguments.length<2){for(var r=xf(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?oS:t?iS:aS)(n,t))}function sS(){this.textContent=""}function uS(e){return function(){this.textContent=e}}function cS(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function fS(e){return arguments.length?this.each(e==null?sS:(typeof e=="function"?cS:uS)(e)):this.node().textContent}function pS(){this.innerHTML=""}function dS(e){return function(){this.innerHTML=e}}function mS(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function gS(e){return arguments.length?this.each(e==null?pS:(typeof e=="function"?mS:dS)(e)):this.node().innerHTML}function hS(){this.nextSibling&&this.parentNode.appendChild(this)}function yS(){return this.each(hS)}function bS(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vS(){return this.each(bS)}function wS(e){var t=typeof e=="function"?e:Ey(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _S(){return null}function xS(e,t){var n=typeof e=="function"?e:Ey(e),r=t==null?_S:typeof t=="function"?t:_f(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function kS(){var e=this.parentNode;e&&e.removeChild(this)}function SS(){return this.each(kS)}function IS(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ES(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function FS(e){return this.select(e?ES:IS)}function NS(e){return arguments.length?this.property("__data__",e):this.node().__data__}function CS(e){return function(t){e.call(this,t,this.__data__)}}function AS(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function TS(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function OS(e,t,n){return function(){var r=this.__on,i,a=CS(t);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function RS(e,t,n){var r=AS(e+""),i,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,c;s<u;++s)for(i=0,c=l[s];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(l=t?OS:TS,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function Dy(e,t,n){var r=Ty(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function PS(e,t){return function(){return Dy(this,e,t)}}function MS(e,t){return function(){return Dy(this,e,t.apply(this,arguments))}}function DS(e,t){return this.each((typeof t=="function"?MS:PS)(e,t))}function*zS(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var zy=[null];function kt(e,t){this._groups=e,this._parents=t}function qa(){return new kt([[document.documentElement]],zy)}function LS(){return this}kt.prototype=qa.prototype={constructor:kt,select:c1,selectAll:m1,selectChild:b1,selectChildren:x1,filter:k1,data:C1,enter:S1,exit:T1,join:O1,merge:R1,selection:LS,order:P1,sort:M1,call:z1,nodes:L1,node:$1,size:U1,empty:j1,each:B1,attr:K1,style:J1,property:rS,classed:lS,text:fS,html:gS,raise:yS,lower:vS,append:wS,insert:xS,remove:SS,clone:FS,datum:NS,on:RS,dispatch:DS,[Symbol.iterator]:zS};function At(e){return typeof e=="string"?new kt([[document.querySelector(e)]],[document.documentElement]):new kt([[e]],zy)}function $S(e){let t;for(;t=e.sourceEvent;)e=t;return e}function jt(e,t){if(e=$S(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const US={passive:!1},Ea={capture:!0,passive:!1};function $s(e){e.stopImmediatePropagation()}function ci(e){e.preventDefault(),e.stopImmediatePropagation()}function Ly(e){var t=e.document.documentElement,n=At(e).on("dragstart.drag",ci,Ea);"onselectstart"in t?n.on("selectstart.drag",ci,Ea):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function $y(e,t){var n=e.document.documentElement,r=At(e).on("dragstart.drag",null);t&&(r.on("click.drag",ci,Ea),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const go=e=>()=>e;function Qu(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:a,x:o,y:l,dx:s,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Qu.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function jS(e){return!e.ctrlKey&&!e.button}function BS(){return this.parentNode}function WS(e,t){return t??{x:e.x,y:e.y}}function HS(){return navigator.maxTouchPoints||"ontouchstart"in this}function VS(){var e=jS,t=BS,n=WS,r=HS,i={},a=Xl("start","drag","end"),o=0,l,s,u,c,f=0;function d(x){x.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",m,US).on("touchend.drag touchcancel.drag",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(x,S){if(!(c||!e.call(this,x,S))){var T=v(this,t.call(this,x,S),x,S,"mouse");T&&(At(x.view).on("mousemove.drag",b,Ea).on("mouseup.drag",y,Ea),Ly(x.view),$s(x),u=!1,l=x.clientX,s=x.clientY,T("start",x))}}function b(x){if(ci(x),!u){var S=x.clientX-l,T=x.clientY-s;u=S*S+T*T>f}i.mouse("drag",x)}function y(x){At(x.view).on("mousemove.drag mouseup.drag",null),$y(x.view,u),ci(x),i.mouse("end",x)}function w(x,S){if(e.call(this,x,S)){var T=x.changedTouches,I=t.call(this,x,S),L=T.length,N,j;for(N=0;N<L;++N)(j=v(this,I,x,S,T[N].identifier,T[N]))&&($s(x),j("start",x,T[N]))}}function m(x){var S=x.changedTouches,T=S.length,I,L;for(I=0;I<T;++I)(L=i[S[I].identifier])&&(ci(x),L("drag",x,S[I]))}function h(x){var S=x.changedTouches,T=S.length,I,L;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),I=0;I<T;++I)(L=i[S[I].identifier])&&($s(x),L("end",x,S[I]))}function v(x,S,T,I,L,N){var j=a.copy(),H=jt(N||T,S),C,R,g;if((g=n.call(x,new Qu("beforestart",{sourceEvent:T,target:d,identifier:L,active:o,x:H[0],y:H[1],dx:0,dy:0,dispatch:j}),I))!=null)return C=g.x-H[0]||0,R=g.y-H[1]||0,function A(U,$,O){var k=H,B;switch(U){case"start":i[L]=A,B=o++;break;case"end":delete i[L],--o;case"drag":H=jt(O||$,S),B=o;break}j.call(U,x,new Qu(U,{sourceEvent:$,subject:g,target:d,identifier:L,active:B,x:H[0]+C,y:H[1]+R,dx:H[0]-k[0],dy:H[1]-k[1],dispatch:j}),I)}}return d.filter=function(x){return arguments.length?(e=typeof x=="function"?x:go(!!x),d):e},d.container=function(x){return arguments.length?(t=typeof x=="function"?x:go(x),d):t},d.subject=function(x){return arguments.length?(n=typeof x=="function"?x:go(x),d):n},d.touchable=function(x){return arguments.length?(r=typeof x=="function"?x:go(!!x),d):r},d.on=function(){var x=a.on.apply(a,arguments);return x===a?d:x},d.clickDistance=function(x){return arguments.length?(f=(x=+x)*x,d):Math.sqrt(f)},d}function kf(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Uy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ga(){}var Fa=.7,yl=1/Fa,fi="\\s*([+-]?\\d+)\\s*",Na="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qS=/^#([0-9a-f]{3,8})$/,GS=new RegExp(`^rgb\\(${fi},${fi},${fi}\\)$`),YS=new RegExp(`^rgb\\(${nn},${nn},${nn}\\)$`),KS=new RegExp(`^rgba\\(${fi},${fi},${fi},${Na}\\)$`),ZS=new RegExp(`^rgba\\(${nn},${nn},${nn},${Na}\\)$`),XS=new RegExp(`^hsl\\(${Na},${nn},${nn}\\)$`),QS=new RegExp(`^hsla\\(${Na},${nn},${nn},${Na}\\)$`),_d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kf(Ga,Ca,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:xd,formatHex:xd,formatHex8:JS,formatHsl:eI,formatRgb:kd,toString:kd});function xd(){return this.rgb().formatHex()}function JS(){return this.rgb().formatHex8()}function eI(){return jy(this).formatHsl()}function kd(){return this.rgb().formatRgb()}function Ca(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qS.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Sd(t):n===3?new dt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ho(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ho(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GS.exec(e))?new dt(t[1],t[2],t[3],1):(t=YS.exec(e))?new dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=KS.exec(e))?ho(t[1],t[2],t[3],t[4]):(t=ZS.exec(e))?ho(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XS.exec(e))?Fd(t[1],t[2]/100,t[3]/100,1):(t=QS.exec(e))?Fd(t[1],t[2]/100,t[3]/100,t[4]):_d.hasOwnProperty(e)?Sd(_d[e]):e==="transparent"?new dt(NaN,NaN,NaN,0):null}function Sd(e){return new dt(e>>16&255,e>>8&255,e&255,1)}function ho(e,t,n,r){return r<=0&&(e=t=n=NaN),new dt(e,t,n,r)}function tI(e){return e instanceof Ga||(e=Ca(e)),e?(e=e.rgb(),new dt(e.r,e.g,e.b,e.opacity)):new dt}function Ju(e,t,n,r){return arguments.length===1?tI(e):new dt(e,t,n,r??1)}function dt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}kf(dt,Ju,Uy(Ga,{brighter(e){return e=e==null?yl:Math.pow(yl,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dt(vr(this.r),vr(this.g),vr(this.b),bl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Id,formatHex:Id,formatHex8:nI,formatRgb:Ed,toString:Ed}));function Id(){return`#${mr(this.r)}${mr(this.g)}${mr(this.b)}`}function nI(){return`#${mr(this.r)}${mr(this.g)}${mr(this.b)}${mr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ed(){const e=bl(this.opacity);return`${e===1?"rgb(":"rgba("}${vr(this.r)}, ${vr(this.g)}, ${vr(this.b)}${e===1?")":`, ${e})`}`}function bl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mr(e){return e=vr(e),(e<16?"0":"")+e.toString(16)}function Fd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ht(e,t,n,r)}function jy(e){if(e instanceof Ht)return new Ht(e.h,e.s,e.l,e.opacity);if(e instanceof Ga||(e=Ca(e)),!e)return new Ht;if(e instanceof Ht)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new Ht(o,l,s,e.opacity)}function rI(e,t,n,r){return arguments.length===1?jy(e):new Ht(e,t,n,r??1)}function Ht(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}kf(Ht,rI,Uy(Ga,{brighter(e){return e=e==null?yl:Math.pow(yl,e),new Ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fa:Math.pow(Fa,e),new Ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new dt(Us(e>=240?e-240:e+120,i,r),Us(e,i,r),Us(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ht(Nd(this.h),yo(this.s),yo(this.l),bl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bl(this.opacity);return`${e===1?"hsl(":"hsla("}${Nd(this.h)}, ${yo(this.s)*100}%, ${yo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nd(e){return e=(e||0)%360,e<0?e+360:e}function yo(e){return Math.max(0,Math.min(1,e||0))}function Us(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const By=e=>()=>e;function iI(e,t){return function(n){return e+n*t}}function aI(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function oI(e){return(e=+e)==1?Wy:function(t,n){return n-t?aI(t,n,e):By(isNaN(t)?n:t)}}function Wy(e,t){var n=t-e;return n?iI(e,n):By(isNaN(e)?t:e)}const Cd=function e(t){var n=oI(t);function r(i,a){var o=n((i=Ju(i)).r,(a=Ju(a)).r),l=n(i.g,a.g),s=n(i.b,a.b),u=Wy(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=l(c),i.b=s(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function Rn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ec=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,js=new RegExp(ec.source,"g");function lI(e){return function(){return e}}function sI(e){return function(t){return e(t)+""}}function uI(e,t){var n=ec.lastIndex=js.lastIndex=0,r,i,a,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=ec.exec(e))&&(i=js.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,s.push({i:o,x:Rn(r,i)})),n=js.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?sI(s[0].x):lI(t):(t=s.length,function(u){for(var c=0,f;c<t;++c)l[(f=s[c]).i]=f.x(u);return l.join("")})}var Ad=180/Math.PI,tc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hy(e,t,n,r,i,a){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Ad,skewX:Math.atan(s)*Ad,scaleX:o,scaleY:l}}var bo;function cI(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?tc:Hy(t.a,t.b,t.c,t.d,t.e,t.f)}function fI(e){return e==null||(bo||(bo=document.createElementNS("http://www.w3.org/2000/svg","g")),bo.setAttribute("transform",e),!(e=bo.transform.baseVal.consolidate()))?tc:(e=e.matrix,Hy(e.a,e.b,e.c,e.d,e.e,e.f))}function Vy(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function a(u,c,f,d,p,b){if(u!==f||c!==d){var y=p.push("translate(",null,t,null,n);b.push({i:y-4,x:Rn(u,f)},{i:y-2,x:Rn(c,d)})}else(f||d)&&p.push("translate("+f+t+d+n)}function o(u,c,f,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Rn(u,c)})):c&&f.push(i(f)+"rotate("+c+r)}function l(u,c,f,d){u!==c?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Rn(u,c)}):c&&f.push(i(f)+"skewX("+c+r)}function s(u,c,f,d,p,b){if(u!==f||c!==d){var y=p.push(i(p)+"scale(",null,",",null,")");b.push({i:y-4,x:Rn(u,f)},{i:y-2,x:Rn(c,d)})}else(f!==1||d!==1)&&p.push(i(p)+"scale("+f+","+d+")")}return function(u,c){var f=[],d=[];return u=e(u),c=e(c),a(u.translateX,u.translateY,c.translateX,c.translateY,f,d),o(u.rotate,c.rotate,f,d),l(u.skewX,c.skewX,f,d),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,f,d),u=c=null,function(p){for(var b=-1,y=d.length,w;++b<y;)f[(w=d[b]).i]=w.x(p);return f.join("")}}}var pI=Vy(cI,"px, ","px)","deg)"),dI=Vy(fI,", ",")",")"),mI=1e-12;function Td(e){return((e=Math.exp(e))+1/e)/2}function gI(e){return((e=Math.exp(e))-1/e)/2}function hI(e){return((e=Math.exp(2*e))-1)/(e+1)}const yI=function e(t,n,r){function i(a,o){var l=a[0],s=a[1],u=a[2],c=o[0],f=o[1],d=o[2],p=c-l,b=f-s,y=p*p+b*b,w,m;if(y<mI)m=Math.log(d/u)/t,w=function(I){return[l+I*p,s+I*b,u*Math.exp(t*I*m)]};else{var h=Math.sqrt(y),v=(d*d-u*u+r*y)/(2*u*n*h),x=(d*d-u*u-r*y)/(2*d*n*h),S=Math.log(Math.sqrt(v*v+1)-v),T=Math.log(Math.sqrt(x*x+1)-x);m=(T-S)/t,w=function(I){var L=I*m,N=Td(S),j=u/(n*h)*(N*hI(t*L+S)-gI(S));return[l+j*p,s+j*b,u*N/Td(t*L+S)]}}return w.duration=m*1e3*t/Math.SQRT2,w}return i.rho=function(a){var o=Math.max(.001,+a),l=o*o,s=l*l;return e(o,l,s)},i}(Math.SQRT2,2,4);var xi=0,Zi=0,Ui=0,qy=1e3,vl,Xi,wl=0,Fr=0,Jl=0,Aa=typeof performance=="object"&&performance.now?performance:Date,Gy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Sf(){return Fr||(Gy(bI),Fr=Aa.now()+Jl)}function bI(){Fr=0}function _l(){this._call=this._time=this._next=null}_l.prototype=Yy.prototype={constructor:_l,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Sf():+n)+(t==null?0:+t),!this._next&&Xi!==this&&(Xi?Xi._next=this:vl=this,Xi=this),this._call=e,this._time=n,nc()},stop:function(){this._call&&(this._call=null,this._time=1/0,nc())}};function Yy(e,t,n){var r=new _l;return r.restart(e,t,n),r}function vI(){Sf(),++xi;for(var e=vl,t;e;)(t=Fr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xi}function Od(){Fr=(wl=Aa.now())+Jl,xi=Zi=0;try{vI()}finally{xi=0,_I(),Fr=0}}function wI(){var e=Aa.now(),t=e-wl;t>qy&&(Jl-=t,wl=e)}function _I(){for(var e,t=vl,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:vl=n);Xi=e,nc(r)}function nc(e){if(!xi){Zi&&(Zi=clearTimeout(Zi));var t=e-Fr;t>24?(e<1/0&&(Zi=setTimeout(Od,e-Aa.now()-Jl)),Ui&&(Ui=clearInterval(Ui))):(Ui||(wl=Aa.now(),Ui=setInterval(wI,qy)),xi=1,Gy(Od))}}function Rd(e,t,n){var r=new _l;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var xI=Xl("start","end","cancel","interrupt"),kI=[],Ky=0,Pd=1,rc=2,Lo=3,Md=4,ic=5,$o=6;function es(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;SI(e,n,{name:t,index:r,group:i,on:xI,tween:kI,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ky})}function If(e,t){var n=Zt(e,t);if(n.state>Ky)throw new Error("too late; already scheduled");return n}function an(e,t){var n=Zt(e,t);if(n.state>Lo)throw new Error("too late; already running");return n}function Zt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function SI(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Yy(a,0,n.time);function a(u){n.state=Pd,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var c,f,d,p;if(n.state!==Pd)return s();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Lo)return Rd(o);p.state===Md?(p.state=$o,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=$o,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(Rd(function(){n.state===Lo&&(n.state=Md,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=rc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===rc){for(n.state=Lo,i=new Array(d=n.tween.length),c=0,f=-1;c<d;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=ic,1),f=-1,d=i.length;++f<d;)i[f].call(e,c);n.state===ic&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=$o,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Uo(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>rc&&r.state<ic,r.state=$o,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function II(e){return this.each(function(){Uo(this,e)})}function EI(e,t){var n,r;return function(){var i=an(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function FI(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=an(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}a.tween=i}}function NI(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Zt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?EI:FI)(n,e,t))}function Ef(e,t,n){var r=e._id;return e.each(function(){var i=an(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Zt(i,r).value[t]}}function Zy(e,t){var n;return(typeof t=="number"?Rn:t instanceof Ca?Cd:(n=Ca(t))?(t=n,Cd):uI)(e,t)}function CI(e){return function(){this.removeAttribute(e)}}function AI(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TI(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function OI(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function RI(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function PI(e,t,n){var r,i,a;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l)))}}function MI(e,t){var n=Ql(e),r=n==="transform"?dI:Zy;return this.attrTween(e,typeof t=="function"?(n.local?PI:RI)(n,r,Ef(this,"attr."+e,t)):t==null?(n.local?AI:CI)(n):(n.local?OI:TI)(n,r,t))}function DI(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function zI(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function LI(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&zI(e,a)),n}return i._value=t,i}function $I(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&DI(e,a)),n}return i._value=t,i}function UI(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ql(e);return this.tween(n,(r.local?LI:$I)(r,t))}function jI(e,t){return function(){If(this,e).delay=+t.apply(this,arguments)}}function BI(e,t){return t=+t,function(){If(this,e).delay=t}}function WI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jI:BI)(t,e)):Zt(this.node(),t).delay}function HI(e,t){return function(){an(this,e).duration=+t.apply(this,arguments)}}function VI(e,t){return t=+t,function(){an(this,e).duration=t}}function qI(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?HI:VI)(t,e)):Zt(this.node(),t).duration}function GI(e,t){if(typeof t!="function")throw new Error;return function(){an(this,e).ease=t}}function YI(e){var t=this._id;return arguments.length?this.each(GI(t,e)):Zt(this.node(),t).ease}function KI(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;an(this,e).ease=n}}function ZI(e){if(typeof e!="function")throw new Error;return this.each(KI(this._id,e))}function XI(e){typeof e!="function"&&(e=Ny(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,l=r[i]=[],s,u=0;u<o;++u)(s=a[u])&&e.call(s,s.__data__,u,a)&&l.push(s);return new xn(r,this._parents,this._name,this._id)}function QI(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s=t[l],u=n[l],c=s.length,f=o[l]=new Array(c),d,p=0;p<c;++p)(d=s[p]||u[p])&&(f[p]=d);for(;l<r;++l)o[l]=t[l];return new xn(o,this._parents,this._name,this._id)}function JI(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function e2(e,t,n){var r,i,a=JI(t)?If:an;return function(){var o=a(this,e),l=o.on;l!==r&&(i=(r=l).copy()).on(t,n),o.on=i}}function t2(e,t){var n=this._id;return arguments.length<2?Zt(this.node(),n).on.on(e):this.each(e2(n,e,t))}function n2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function r2(){return this.on("end.remove",n2(this._id))}function i2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_f(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l=r[o],s=l.length,u=a[o]=new Array(s),c,f,d=0;d<s;++d)(c=l[d])&&(f=e.call(c,c.__data__,d,l))&&("__data__"in c&&(f.__data__=c.__data__),u[d]=f,es(u[d],t,n,d,u,Zt(c,n)));return new xn(a,this._parents,t,n)}function a2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Fy(e));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s=r[l],u=s.length,c,f=0;f<u;++f)if(c=s[f]){for(var d=e.call(c,c.__data__,f,s),p,b=Zt(c,n),y=0,w=d.length;y<w;++y)(p=d[y])&&es(p,t,n,y,d,b);a.push(d),o.push(c)}return new xn(a,o,t,n)}var o2=qa.prototype.constructor;function l2(){return new o2(this._groups,this._parents)}function s2(e,t){var n,r,i;return function(){var a=_i(this,e),o=(this.style.removeProperty(e),_i(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function Xy(e){return function(){this.style.removeProperty(e)}}function u2(e,t,n){var r,i=n+"",a;return function(){var o=_i(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function c2(e,t,n){var r,i,a;return function(){var o=_i(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),_i(this,e))),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,l))}}function f2(e,t){var n,r,i,a="style."+t,o="end."+a,l;return function(){var s=an(this,e),u=s.on,c=s.value[a]==null?l||(l=Xy(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(o,i=c),s.on=r}}function p2(e,t,n){var r=(e+="")=="transform"?pI:Zy;return t==null?this.styleTween(e,s2(e,r)).on("end.style."+e,Xy(e)):typeof t=="function"?this.styleTween(e,c2(e,r,Ef(this,"style."+e,t))).each(f2(this._id,e)):this.styleTween(e,u2(e,r,t),n).on("end.style."+e,null)}function d2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function m2(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&d2(e,o,n)),r}return a._value=t,a}function g2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,m2(e,t,n??""))}function h2(e){return function(){this.textContent=e}}function y2(e){return function(){var t=e(this);this.textContent=t??""}}function b2(e){return this.tween("text",typeof e=="function"?y2(Ef(this,"text",e)):h2(e==null?"":e+""))}function v2(e){return function(t){this.textContent=e.call(this,t)}}function w2(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&v2(i)),t}return r._value=e,r}function _2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,w2(e))}function x2(){for(var e=this._name,t=this._id,n=Qy(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,u=0;u<l;++u)if(s=o[u]){var c=Zt(s,t);es(s,e,n,u,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new xn(r,this._parents,e,n)}function k2(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var l={value:o},s={value:function(){--i===0&&a()}};n.each(function(){var u=an(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&a()})}var S2=0;function xn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Qy(){return++S2}var on=qa.prototype;xn.prototype={constructor:xn,select:i2,selectAll:a2,selectChild:on.selectChild,selectChildren:on.selectChildren,filter:XI,merge:QI,selection:l2,transition:x2,call:on.call,nodes:on.nodes,node:on.node,size:on.size,empty:on.empty,each:on.each,on:t2,attr:MI,attrTween:UI,style:p2,styleTween:g2,text:b2,textTween:_2,remove:r2,tween:NI,delay:WI,duration:qI,ease:YI,easeVarying:ZI,end:k2,[Symbol.iterator]:on[Symbol.iterator]};function I2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var E2={time:null,delay:0,duration:250,ease:I2};function F2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function N2(e){var t,n;e instanceof xn?(t=e._id,e=e._name):(t=Qy(),(n=E2).time=Sf(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],l=o.length,s,u=0;u<l;++u)(s=o[u])&&es(s,e,t,u,o,n||F2(s,t));return new xn(r,this._parents,e,t)}qa.prototype.interrupt=II;qa.prototype.transition=N2;const vo=e=>()=>e;function C2(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function dn(e,t,n){this.k=e,this.x=t,this.y=n}dn.prototype={constructor:dn,scale:function(e){return e===1?this:new dn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new dn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var hn=new dn(1,0,0);dn.prototype;function Bs(e){e.stopImmediatePropagation()}function ji(e){e.preventDefault(),e.stopImmediatePropagation()}function A2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function T2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Dd(){return this.__zoom||hn}function O2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function R2(){return navigator.maxTouchPoints||"ontouchstart"in this}function P2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Jy(){var e=A2,t=T2,n=P2,r=O2,i=R2,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,s=yI,u=Xl("start","zoom","end"),c,f,d,p=500,b=150,y=0,w=10;function m(g){g.property("__zoom",Dd).on("wheel.zoom",L,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",j).filter(i).on("touchstart.zoom",H).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(g,A,U,$){var O=g.selection?g.selection():g;O.property("__zoom",Dd),g!==O?S(g,A,U,$):O.interrupt().each(function(){T(this,arguments).event($).start().zoom(null,typeof A=="function"?A.apply(this,arguments):A).end()})},m.scaleBy=function(g,A,U,$){m.scaleTo(g,function(){var O=this.__zoom.k,k=typeof A=="function"?A.apply(this,arguments):A;return O*k},U,$)},m.scaleTo=function(g,A,U,$){m.transform(g,function(){var O=t.apply(this,arguments),k=this.__zoom,B=U==null?x(O):typeof U=="function"?U.apply(this,arguments):U,P=k.invert(B),D=typeof A=="function"?A.apply(this,arguments):A;return n(v(h(k,D),B,P),O,o)},U,$)},m.translateBy=function(g,A,U,$){m.transform(g,function(){return n(this.__zoom.translate(typeof A=="function"?A.apply(this,arguments):A,typeof U=="function"?U.apply(this,arguments):U),t.apply(this,arguments),o)},null,$)},m.translateTo=function(g,A,U,$,O){m.transform(g,function(){var k=t.apply(this,arguments),B=this.__zoom,P=$==null?x(k):typeof $=="function"?$.apply(this,arguments):$;return n(hn.translate(P[0],P[1]).scale(B.k).translate(typeof A=="function"?-A.apply(this,arguments):-A,typeof U=="function"?-U.apply(this,arguments):-U),k,o)},$,O)};function h(g,A){return A=Math.max(a[0],Math.min(a[1],A)),A===g.k?g:new dn(A,g.x,g.y)}function v(g,A,U){var $=A[0]-U[0]*g.k,O=A[1]-U[1]*g.k;return $===g.x&&O===g.y?g:new dn(g.k,$,O)}function x(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function S(g,A,U,$){g.on("start.zoom",function(){T(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event($).end()}).tween("zoom",function(){var O=this,k=arguments,B=T(O,k).event($),P=t.apply(O,k),D=U==null?x(P):typeof U=="function"?U.apply(O,k):U,Z=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),G=O.__zoom,K=typeof A=="function"?A.apply(O,k):A,ae=s(G.invert(D).concat(Z/G.k),K.invert(D).concat(Z/K.k));return function(ue){if(ue===1)ue=K;else{var le=ae(ue),se=Z/le[2];ue=new dn(se,D[0]-le[0]*se,D[1]-le[1]*se)}B.zoom(null,ue)}})}function T(g,A,U){return!U&&g.__zooming||new I(g,A)}function I(g,A){this.that=g,this.args=A,this.active=0,this.sourceEvent=null,this.extent=t.apply(g,A),this.taps=0}I.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,A){return this.mouse&&g!=="mouse"&&(this.mouse[1]=A.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=A.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=A.invert(this.touch1[0])),this.that.__zoom=A,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var A=At(this.that).datum();u.call(g,this.that,new C2(g,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),A)}};function L(g,...A){if(!e.apply(this,arguments))return;var U=T(this,A).event(g),$=this.__zoom,O=Math.max(a[0],Math.min(a[1],$.k*Math.pow(2,r.apply(this,arguments)))),k=jt(g);if(U.wheel)(U.mouse[0][0]!==k[0]||U.mouse[0][1]!==k[1])&&(U.mouse[1]=$.invert(U.mouse[0]=k)),clearTimeout(U.wheel);else{if($.k===O)return;U.mouse=[k,$.invert(k)],Uo(this),U.start()}ji(g),U.wheel=setTimeout(B,b),U.zoom("mouse",n(v(h($,O),U.mouse[0],U.mouse[1]),U.extent,o));function B(){U.wheel=null,U.end()}}function N(g,...A){if(d||!e.apply(this,arguments))return;var U=g.currentTarget,$=T(this,A,!0).event(g),O=At(g.view).on("mousemove.zoom",D,!0).on("mouseup.zoom",Z,!0),k=jt(g,U),B=g.clientX,P=g.clientY;Ly(g.view),Bs(g),$.mouse=[k,this.__zoom.invert(k)],Uo(this),$.start();function D(G){if(ji(G),!$.moved){var K=G.clientX-B,ae=G.clientY-P;$.moved=K*K+ae*ae>y}$.event(G).zoom("mouse",n(v($.that.__zoom,$.mouse[0]=jt(G,U),$.mouse[1]),$.extent,o))}function Z(G){O.on("mousemove.zoom mouseup.zoom",null),$y(G.view,$.moved),ji(G),$.event(G).end()}}function j(g,...A){if(e.apply(this,arguments)){var U=this.__zoom,$=jt(g.changedTouches?g.changedTouches[0]:g,this),O=U.invert($),k=U.k*(g.shiftKey?.5:2),B=n(v(h(U,k),$,O),t.apply(this,A),o);ji(g),l>0?At(this).transition().duration(l).call(S,B,$,g):At(this).call(m.transform,B,$,g)}}function H(g,...A){if(e.apply(this,arguments)){var U=g.touches,$=U.length,O=T(this,A,g.changedTouches.length===$).event(g),k,B,P,D;for(Bs(g),B=0;B<$;++B)P=U[B],D=jt(P,this),D=[D,this.__zoom.invert(D),P.identifier],O.touch0?!O.touch1&&O.touch0[2]!==D[2]&&(O.touch1=D,O.taps=0):(O.touch0=D,k=!0,O.taps=1+!!c);c&&(c=clearTimeout(c)),k&&(O.taps<2&&(f=D[0],c=setTimeout(function(){c=null},p)),Uo(this),O.start())}}function C(g,...A){if(this.__zooming){var U=T(this,A).event(g),$=g.changedTouches,O=$.length,k,B,P,D;for(ji(g),k=0;k<O;++k)B=$[k],P=jt(B,this),U.touch0&&U.touch0[2]===B.identifier?U.touch0[0]=P:U.touch1&&U.touch1[2]===B.identifier&&(U.touch1[0]=P);if(B=U.that.__zoom,U.touch1){var Z=U.touch0[0],G=U.touch0[1],K=U.touch1[0],ae=U.touch1[1],ue=(ue=K[0]-Z[0])*ue+(ue=K[1]-Z[1])*ue,le=(le=ae[0]-G[0])*le+(le=ae[1]-G[1])*le;B=h(B,Math.sqrt(ue/le)),P=[(Z[0]+K[0])/2,(Z[1]+K[1])/2],D=[(G[0]+ae[0])/2,(G[1]+ae[1])/2]}else if(U.touch0)P=U.touch0[0],D=U.touch0[1];else return;U.zoom("touch",n(v(B,P,D),U.extent,o))}}function R(g,...A){if(this.__zooming){var U=T(this,A).event(g),$=g.changedTouches,O=$.length,k,B;for(Bs(g),d&&clearTimeout(d),d=setTimeout(function(){d=null},p),k=0;k<O;++k)B=$[k],U.touch0&&U.touch0[2]===B.identifier?delete U.touch0:U.touch1&&U.touch1[2]===B.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(B=jt(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<w)){var P=At(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return m.wheelDelta=function(g){return arguments.length?(r=typeof g=="function"?g:vo(+g),m):r},m.filter=function(g){return arguments.length?(e=typeof g=="function"?g:vo(!!g),m):e},m.touchable=function(g){return arguments.length?(i=typeof g=="function"?g:vo(!!g),m):i},m.extent=function(g){return arguments.length?(t=typeof g=="function"?g:vo([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),m):t},m.scaleExtent=function(g){return arguments.length?(a[0]=+g[0],a[1]=+g[1],m):[a[0],a[1]]},m.translateExtent=function(g){return arguments.length?(o[0][0]=+g[0][0],o[1][0]=+g[1][0],o[0][1]=+g[0][1],o[1][1]=+g[1][1],m):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},m.constrain=function(g){return arguments.length?(n=g,m):n},m.duration=function(g){return arguments.length?(l=+g,m):l},m.interpolate=function(g){return arguments.length?(s=g,m):s},m.on=function(){var g=u.on.apply(u,arguments);return g===u?m:g},m.clickDistance=function(g){return arguments.length?(y=(g=+g)*g,m):Math.sqrt(y)},m.tapDistance=function(g){return arguments.length?(w=+g,m):w},m}const ts=E.createContext(null),M2=ts.Provider,kn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},eb=kn.error001();function Fe(e,t){const n=E.useContext(ts);if(n===null)throw new Error(eb);return Iy(n,e,t)}const Ve=()=>{const e=E.useContext(ts);if(e===null)throw new Error(eb);return E.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},D2=e=>e.userSelectionActive?"none":"all";function Ff({position:e,children:t,className:n,style:r,...i}){const a=Fe(D2),o=`${e}`.split("-");return X.createElement("div",{className:et(["react-flow__panel",n,...o]),style:{...r,pointerEvents:a},...i},t)}function z2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:X.createElement(Ff,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},X.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const L2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:a={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:s,className:u,...c})=>{const f=E.useRef(null),[d,p]=E.useState({x:0,y:0,width:0,height:0}),b=et(["react-flow__edge-textwrapper",u]);return E.useEffect(()=>{if(f.current){const y=f.current.getBBox();p({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:X.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:b,visibility:d.width?"visible":"hidden",...c},i&&X.createElement("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:a,rx:l,ry:l}),X.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),s)};var $2=E.memo(L2);const Nf=e=>({width:e.offsetWidth,height:e.offsetHeight}),ki=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Cf=(e={x:0,y:0},t)=>({x:ki(e.x,t[0][0],t[1][0]),y:ki(e.y,t[0][1],t[1][1])}),zd=(e,t,n)=>e<t?ki(Math.abs(e-t),1,50)/50:e>n?-ki(Math.abs(e-n),1,50)/50:0,tb=(e,t)=>{const n=zd(e.x,35,t.width-35)*20,r=zd(e.y,35,t.height-35)*20;return[n,r]},nb=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},rb=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ta=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ib=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Ld=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),U2=(e,t)=>ib(rb(Ta(e),Ta(t))),ac=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},j2=e=>Ot(e.width)&&Ot(e.height)&&Ot(e.x)&&Ot(e.y),Ot=e=>!isNaN(e)&&isFinite(e),De=Symbol.for("internals"),ab=["Enter"," ","Escape"],B2=(e,t)=>{},W2=e=>"nativeEvent"in e;function oc(e){var i,a;const t=W2(e)?e.nativeEvent:e,n=((a=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const ob=e=>"clientX"in e,Kn=(e,t)=>{var a,o;const n=ob(e),r=n?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,i=n?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},xl=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},Ya=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p=20})=>X.createElement(X.Fragment,null,X.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),p&&X.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&Ot(n)&&Ot(r)?X.createElement($2,{x:n,y:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:u}):null);Ya.displayName="BaseEdge";function Bi(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(a=>a.id===e);i&&n(r,{...i})}}function lb({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,a=n<e?n+i:n-i,o=Math.abs(r-t)/2,l=r<t?r+o:r-o;return[a,l,i,o]}function sb({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:o,targetControlY:l}){const s=e*.125+i*.375+o*.375+n*.125,u=t*.125+a*.375+l*.375+r*.125,c=Math.abs(s-e),f=Math.abs(u-t);return[s,u,c,f]}var Nr;(function(e){e.Strict="strict",e.Loose="loose"})(Nr||(Nr={}));var gr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(gr||(gr={}));var Oa;(function(e){e.Partial="partial",e.Full="full"})(Oa||(Oa={}));var zn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(zn||(zn={}));var Si;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Si||(Si={}));var pe;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(pe||(pe={}));function $d({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===pe.Left||e===pe.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function ub({sourceX:e,sourceY:t,sourcePosition:n=pe.Bottom,targetX:r,targetY:i,targetPosition:a=pe.Top}){const[o,l]=$d({pos:n,x1:e,y1:t,x2:r,y2:i}),[s,u]=$d({pos:a,x1:r,y1:i,x2:e,y2:t}),[c,f,d,p]=sb({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:s,targetControlY:u});return[`M${e},${t} C${o},${l} ${s},${u} ${r},${i}`,c,f,d,p]}const Af=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=pe.Bottom,targetPosition:a=pe.Top,label:o,labelStyle:l,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:b,interactionWidth:y})=>{const[w,m,h]=ub({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a});return X.createElement(Ya,{path:w,labelX:m,labelY:h,label:o,labelStyle:l,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:b,interactionWidth:y})});Af.displayName="SimpleBezierEdge";const Ud={[pe.Left]:{x:-1,y:0},[pe.Right]:{x:1,y:0},[pe.Top]:{x:0,y:-1},[pe.Bottom]:{x:0,y:1}},H2=({source:e,sourcePosition:t=pe.Bottom,target:n})=>t===pe.Left||t===pe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},jd=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function V2({source:e,sourcePosition:t=pe.Bottom,target:n,targetPosition:r=pe.Top,center:i,offset:a}){const o=Ud[t],l=Ud[r],s={x:e.x+o.x*a,y:e.y+o.y*a},u={x:n.x+l.x*a,y:n.y+l.y*a},c=H2({source:s,sourcePosition:t,target:u}),f=c.x!==0?"x":"y",d=c[f];let p=[],b,y;const w={x:0,y:0},m={x:0,y:0},[h,v,x,S]=lb({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(o[f]*l[f]===-1){b=i.x??h,y=i.y??v;const I=[{x:b,y:s.y},{x:b,y:u.y}],L=[{x:s.x,y},{x:u.x,y}];o[f]===d?p=f==="x"?I:L:p=f==="x"?L:I}else{const I=[{x:s.x,y:u.y}],L=[{x:u.x,y:s.y}];if(f==="x"?p=o.x===d?L:I:p=o.y===d?I:L,t===r){const R=Math.abs(e[f]-n[f]);if(R<=a){const g=Math.min(a-1,a-R);o[f]===d?w[f]=(s[f]>e[f]?-1:1)*g:m[f]=(u[f]>n[f]?-1:1)*g}}if(t!==r){const R=f==="x"?"y":"x",g=o[f]===l[R],A=s[R]>u[R],U=s[R]<u[R];(o[f]===1&&(!g&&A||g&&U)||o[f]!==1&&(!g&&U||g&&A))&&(p=f==="x"?I:L)}const N={x:s.x+w.x,y:s.y+w.y},j={x:u.x+m.x,y:u.y+m.y},H=Math.max(Math.abs(N.x-p[0].x),Math.abs(j.x-p[0].x)),C=Math.max(Math.abs(N.y-p[0].y),Math.abs(j.y-p[0].y));H>=C?(b=(N.x+j.x)/2,y=p[0].y):(b=p[0].x,y=(N.y+j.y)/2)}return[[e,{x:s.x+w.x,y:s.y+w.y},...p,{x:u.x+m.x,y:u.y+m.y},n],b,y,x,S]}function q2(e,t,n,r){const i=Math.min(jd(e,t)/2,jd(t,n)/2,r),{x:a,y:o}=t;if(e.x===a&&a===n.x||e.y===o&&o===n.y)return`L${a} ${o}`;if(e.y===o){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${a+i*u},${o}Q ${a},${o} ${a},${o+i*c}`}const l=e.x<n.x?1:-1,s=e.y<n.y?-1:1;return`L ${a},${o+i*s}Q ${a},${o} ${a+i*l},${o}`}function lc({sourceX:e,sourceY:t,sourcePosition:n=pe.Bottom,targetX:r,targetY:i,targetPosition:a=pe.Top,borderRadius:o=5,centerX:l,centerY:s,offset:u=20}){const[c,f,d,p,b]=V2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:a,center:{x:l,y:s},offset:u});return[c.reduce((w,m,h)=>{let v="";return h>0&&h<c.length-1?v=q2(c[h-1],m,c[h+1],o):v=`${h===0?"M":"L"}${m.x} ${m.y}`,w+=v,w},""),f,d,p,b]}const ns=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:u,style:c,sourcePosition:f=pe.Bottom,targetPosition:d=pe.Top,markerEnd:p,markerStart:b,pathOptions:y,interactionWidth:w})=>{const[m,h,v]=lc({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return X.createElement(Ya,{path:m,labelX:h,labelY:v,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:b,interactionWidth:w})});ns.displayName="SmoothStepEdge";const Tf=E.memo(e=>{var t;return X.createElement(ns,{...e,pathOptions:E.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Tf.displayName="StepEdge";function G2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,a,o,l]=lb({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,a,o,l]}const Of=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p})=>{const[b,y,w]=G2({sourceX:e,sourceY:t,targetX:n,targetY:r});return X.createElement(Ya,{path:b,labelX:y,labelY:w,label:i,labelStyle:a,labelShowBg:o,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:u,style:c,markerEnd:f,markerStart:d,interactionWidth:p})});Of.displayName="StraightEdge";function wo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Bd({pos:e,x1:t,y1:n,x2:r,y2:i,c:a}){switch(e){case pe.Left:return[t-wo(t-r,a),n];case pe.Right:return[t+wo(r-t,a),n];case pe.Top:return[t,n-wo(n-i,a)];case pe.Bottom:return[t,n+wo(i-n,a)]}}function cb({sourceX:e,sourceY:t,sourcePosition:n=pe.Bottom,targetX:r,targetY:i,targetPosition:a=pe.Top,curvature:o=.25}){const[l,s]=Bd({pos:n,x1:e,y1:t,x2:r,y2:i,c:o}),[u,c]=Bd({pos:a,x1:r,y1:i,x2:e,y2:t,c:o}),[f,d,p,b]=sb({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:s,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${s} ${u},${c} ${r},${i}`,f,d,p,b]}const kl=E.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=pe.Bottom,targetPosition:a=pe.Top,label:o,labelStyle:l,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:b,pathOptions:y,interactionWidth:w})=>{const[m,h,v]=cb({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:a,curvature:y==null?void 0:y.curvature});return X.createElement(Ya,{path:m,labelX:h,labelY:v,label:o,labelStyle:l,labelShowBg:s,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:f,style:d,markerEnd:p,markerStart:b,interactionWidth:w})});kl.displayName="BezierEdge";const Rf=E.createContext(null),Y2=Rf.Provider;Rf.Consumer;const K2=()=>E.useContext(Rf),Z2=e=>"id"in e&&"source"in e&&"target"in e,X2=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,sc=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,Q2=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),J2=(e,t)=>{if(!e.source||!e.target)return t;let n;return Z2(e)?n={...e}:n={...e,id:X2(e)},Q2(n,t)?t:t.concat(n)},uc=({x:e,y:t},[n,r,i],a,[o,l])=>{const s={x:(e-n)/i,y:(t-r)/i};return a?{x:o*Math.round(s.x/o),y:l*Math.round(s.y/l)}:s},fb=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),wr=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},rs=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:a,y:o}=wr(i,t).positionAbsolute;return rb(r,Ta({x:a,y:o,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ib(n)},pb=(e,t,[n,r,i]=[0,0,1],a=!1,o=!1,l=[0,0])=>{const s={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:f,height:d,selectable:p=!0,hidden:b=!1}=c;if(o&&!p||b)return!1;const{positionAbsolute:y}=wr(c,l),w={x:y.x,y:y.y,width:f||0,height:d||0},m=ac(s,w),h=typeof f>"u"||typeof d>"u"||f===null||d===null,v=a&&m>0,x=(f||0)*(d||0);(h||v||m>=x||c.dragging)&&u.push(c)}),u},db=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},mb=(e,t,n,r,i,a=.1)=>{const o=t/(e.width*(1+a)),l=n/(e.height*(1+a)),s=Math.min(o,l),u=ki(s,r,i),c=e.x+e.width/2,f=e.y+e.height/2,d=t/2-c*u,p=n/2-f*u;return{x:d,y:p,zoom:u}},sr=(e,t=0)=>e.transition().duration(t);function Wd(e,t,n,r){return(t[n]||[]).reduce((i,a)=>{var o,l;return`${e.id}-${a.id}-${n}`!==r&&i.push({id:a.id||null,type:n,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+a.x+a.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+a.y+a.height/2}),i},[])}function eE(e,t,n,r,i,a){const{x:o,y:l}=Kn(e),u=t.elementsFromPoint(o,l).find(b=>b.classList.contains("react-flow__handle"));if(u){const b=u.getAttribute("data-nodeid");if(b){const y=Pf(void 0,u),w=u.getAttribute("data-handleid"),m=a({nodeId:b,id:w,type:y});if(m){const h=i.find(v=>v.nodeId===b&&v.type===y&&v.id===w);return{handle:{id:w,type:y,nodeId:b,x:(h==null?void 0:h.x)||n.x,y:(h==null?void 0:h.y)||n.y},validHandleResult:m}}}}let c=[],f=1/0;if(i.forEach(b=>{const y=Math.sqrt((b.x-n.x)**2+(b.y-n.y)**2);if(y<=r){const w=a(b);y<=f&&(y<f?c=[{handle:b,validHandleResult:w}]:y===f&&c.push({handle:b,validHandleResult:w}),f=y)}}),!c.length)return{handle:null,validHandleResult:gb()};if(c.length===1)return c[0];const d=c.some(({validHandleResult:b})=>b.isValid),p=c.some(({handle:b})=>b.type==="target");return c.find(({handle:b,validHandleResult:y})=>p?b.type==="target":d?y.isValid:!0)||c[0]}const tE={source:null,target:null,sourceHandle:null,targetHandle:null},gb=()=>({handleDomNode:null,isValid:!1,connection:tE,endHandle:null});function hb(e,t,n,r,i,a,o){const l=i==="target",s=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...gb(),handleDomNode:s};if(s){const c=Pf(void 0,s),f=s.getAttribute("data-nodeid"),d=s.getAttribute("data-handleid"),p=s.classList.contains("connectable"),b=s.classList.contains("connectableend"),y={source:l?f:n,sourceHandle:l?d:r,target:l?n:f,targetHandle:l?r:d};u.connection=y,p&&b&&(t===Nr.Strict?l&&c==="source"||!l&&c==="target":f!==n||d!==r)&&(u.endHandle={nodeId:f,handleId:d,type:c},u.isValid=a(y))}return u}function nE({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,a)=>{if(a[De]){const{handleBounds:o}=a[De];let l=[],s=[];o&&(l=Wd(a,o,"source",`${t}-${n}-${r}`),s=Wd(a,o,"target",`${t}-${n}-${r}`)),i.push(...l,...s)}return i},[])}function Pf(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ws(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function rE(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function yb({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:a,setState:o,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:u}){const c=nb(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:p,connectionRadius:b,onConnectStart:y,panBy:w,getNodes:m,cancelConnection:h}=a();let v=0,x;const{x:S,y:T}=Kn(e),I=c==null?void 0:c.elementFromPoint(S,T),L=Pf(s,I),N=d==null?void 0:d.getBoundingClientRect();if(!N||!L)return;let j,H=Kn(e,N),C=!1,R=null,g=!1,A=null;const U=nE({nodes:m(),nodeId:n,handleId:t,handleType:L}),$=()=>{if(!p)return;const[B,P]=tb(H,N);w({x:B,y:P}),v=requestAnimationFrame($)};o({connectionPosition:H,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:L,connectionStartHandle:{nodeId:n,handleId:t,type:L},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:L});function O(B){const{transform:P}=a();H=Kn(B,N);const{handle:D,validHandleResult:Z}=eE(B,c,uc(H,P,!1,[1,1]),b,U,G=>hb(G,f,n,t,i?"target":"source",l,c));if(x=D,C||($(),C=!0),A=Z.handleDomNode,R=Z.connection,g=Z.isValid,o({connectionPosition:x&&g?fb({x:x.x,y:x.y},P):H,connectionStatus:rE(!!x,g),connectionEndHandle:Z.endHandle}),!x&&!g&&!A)return Ws(j);R.source!==R.target&&A&&(Ws(j),j=A,A.classList.add("connecting","react-flow__handle-connecting"),A.classList.toggle("valid",g),A.classList.toggle("react-flow__handle-valid",g))}function k(B){var P,D;(x||A)&&R&&g&&(r==null||r(R)),(D=(P=a()).onConnectEnd)==null||D.call(P,B),s&&(u==null||u(B)),Ws(j),h(),cancelAnimationFrame(v),C=!1,g=!1,R=null,A=null,c.removeEventListener("mousemove",O),c.removeEventListener("mouseup",k),c.removeEventListener("touchmove",O),c.removeEventListener("touchend",k)}c.addEventListener("mousemove",O),c.addEventListener("mouseup",k),c.addEventListener("touchmove",O),c.addEventListener("touchend",k)}const Hd=()=>!0,iE=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),aE=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:a,connectionClickStartHandle:o}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===t&&(a==null?void 0:a.type)===n,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n}},bb=E.forwardRef(({type:e="source",position:t=pe.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:a=!0,id:o,onConnect:l,children:s,className:u,onMouseDown:c,onTouchStart:f,...d},p)=>{var N,j;const b=o||null,y=e==="target",w=Ve(),m=K2(),{connectOnClick:h,noPanClassName:v}=Fe(iE,Ye),{connecting:x,clickConnecting:S}=Fe(aE(m,b,e),Ye);m||(j=(N=w.getState()).onError)==null||j.call(N,"010",kn.error010());const T=H=>{const{defaultEdgeOptions:C,onConnect:R,hasDefaultEdges:g}=w.getState(),A={...C,...H};if(g){const{edges:U,setEdges:$}=w.getState();$(J2(A,U))}R==null||R(A),l==null||l(A)},I=H=>{if(!m)return;const C=ob(H);i&&(C&&H.button===0||!C)&&yb({event:H,handleId:b,nodeId:m,onConnect:T,isTarget:y,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||Hd}),C?c==null||c(H):f==null||f(H)},L=H=>{const{onClickConnectStart:C,onClickConnectEnd:R,connectionClickStartHandle:g,connectionMode:A,isValidConnection:U}=w.getState();if(!m||!g&&!i)return;if(!g){C==null||C(H,{nodeId:m,handleId:b,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:m,type:e,handleId:b}});return}const $=nb(H.target),O=n||U||Hd,{connection:k,isValid:B}=hb({nodeId:m,id:b,type:e},A,g.nodeId,g.handleId||null,g.type,O,$);B&&T(k),R==null||R(H),w.setState({connectionClickStartHandle:null})};return X.createElement("div",{"data-handleid":b,"data-nodeid":m,"data-handlepos":t,"data-id":`${m}-${b}-${e}`,className:et(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,u,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:a,connecting:S,connectionindicator:r&&(i&&!x||a&&x)}]),onMouseDown:I,onTouchStart:I,onClick:h?L:void 0,ref:p,...d},s)});bb.displayName="Handle";var Un=E.memo(bb);const vb=({data:e,isConnectable:t,targetPosition:n=pe.Top,sourcePosition:r=pe.Bottom})=>X.createElement(X.Fragment,null,X.createElement(Un,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,X.createElement(Un,{type:"source",position:r,isConnectable:t}));vb.displayName="DefaultNode";var cc=E.memo(vb);const wb=({data:e,isConnectable:t,sourcePosition:n=pe.Bottom})=>X.createElement(X.Fragment,null,e==null?void 0:e.label,X.createElement(Un,{type:"source",position:n,isConnectable:t}));wb.displayName="InputNode";var _b=E.memo(wb);const xb=({data:e,isConnectable:t,targetPosition:n=pe.Top})=>X.createElement(X.Fragment,null,X.createElement(Un,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);xb.displayName="OutputNode";var kb=E.memo(xb);const Mf=()=>null;Mf.displayName="GroupNode";const oE=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),_o=e=>e.id;function lE(e,t){return Ye(e.selectedNodes.map(_o),t.selectedNodes.map(_o))&&Ye(e.selectedEdges.map(_o),t.selectedEdges.map(_o))}const Sb=E.memo(({onSelectionChange:e})=>{const t=Ve(),{selectedNodes:n,selectedEdges:r}=Fe(oE,lE);return E.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(a=>a(i))},[n,r,e]),null});Sb.displayName="SelectionListener";const sE=e=>!!e.onSelectionChange;function uE({onSelectionChange:e}){const t=Fe(sE);return e||t?X.createElement(Sb,{onSelectionChange:e}):null}const cE=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Dr(e,t){E.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ye(e,t,n){E.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const fE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:a,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:s,nodesDraggable:u,nodesConnectable:c,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:p,elevateNodesOnSelect:b,minZoom:y,maxZoom:w,nodeExtent:m,onNodesChange:h,onEdgesChange:v,elementsSelectable:x,connectionMode:S,snapGrid:T,snapToGrid:I,translateExtent:L,connectOnClick:N,defaultEdgeOptions:j,fitView:H,fitViewOptions:C,onNodesDelete:R,onEdgesDelete:g,onNodeDrag:A,onNodeDragStart:U,onNodeDragStop:$,onSelectionDrag:O,onSelectionDragStart:k,onSelectionDragStop:B,noPanClassName:P,nodeOrigin:D,rfId:Z,autoPanOnConnect:G,autoPanOnNodeDrag:K,onError:ae,connectionRadius:ue,isValidConnection:le,nodeDragThreshold:se})=>{const{setNodes:ce,setEdges:me,setDefaultNodesAndEdges:be,setMinZoom:we,setMaxZoom:_,setTranslateExtent:V,setNodeExtent:Y,reset:z}=Fe(cE,Ye),F=Ve();return E.useEffect(()=>{const W=r==null?void 0:r.map(J=>({...J,...j}));return be(n,W),()=>{z()}},[]),ye("defaultEdgeOptions",j,F.setState),ye("connectionMode",S,F.setState),ye("onConnect",i,F.setState),ye("onConnectStart",a,F.setState),ye("onConnectEnd",o,F.setState),ye("onClickConnectStart",l,F.setState),ye("onClickConnectEnd",s,F.setState),ye("nodesDraggable",u,F.setState),ye("nodesConnectable",c,F.setState),ye("nodesFocusable",f,F.setState),ye("edgesFocusable",d,F.setState),ye("edgesUpdatable",p,F.setState),ye("elementsSelectable",x,F.setState),ye("elevateNodesOnSelect",b,F.setState),ye("snapToGrid",I,F.setState),ye("snapGrid",T,F.setState),ye("onNodesChange",h,F.setState),ye("onEdgesChange",v,F.setState),ye("connectOnClick",N,F.setState),ye("fitViewOnInit",H,F.setState),ye("fitViewOnInitOptions",C,F.setState),ye("onNodesDelete",R,F.setState),ye("onEdgesDelete",g,F.setState),ye("onNodeDrag",A,F.setState),ye("onNodeDragStart",U,F.setState),ye("onNodeDragStop",$,F.setState),ye("onSelectionDrag",O,F.setState),ye("onSelectionDragStart",k,F.setState),ye("onSelectionDragStop",B,F.setState),ye("noPanClassName",P,F.setState),ye("nodeOrigin",D,F.setState),ye("rfId",Z,F.setState),ye("autoPanOnConnect",G,F.setState),ye("autoPanOnNodeDrag",K,F.setState),ye("onError",ae,F.setState),ye("connectionRadius",ue,F.setState),ye("isValidConnection",le,F.setState),ye("nodeDragThreshold",se,F.setState),Dr(e,ce),Dr(t,me),Dr(y,we),Dr(w,_),Dr(L,V),Dr(m,Y),null},Vd={display:"none"},pE={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Ib="react-flow__node-desc",Eb="react-flow__edge-desc",dE="react-flow__aria-live",mE=e=>e.ariaLiveMessage;function gE({rfId:e}){const t=Fe(mE);return X.createElement("div",{id:`${dE}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:pE},t)}function hE({rfId:e,disableKeyboardA11y:t}){return X.createElement(X.Fragment,null,X.createElement("div",{id:`${Ib}-${e}`,style:Vd},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),X.createElement("div",{id:`${Eb}-${e}`,style:Vd},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&X.createElement(gE,{rfId:e}))}var Ra=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=E.useState(!1),i=E.useRef(!1),a=E.useRef(new Set([])),[o,l]=E.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),c=u.reduce((f,d)=>f.concat(...d),[]);return[u,c]}return[[],[]]},[e]);return E.useEffect(()=>{const s=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||s;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&oc(p))return!1;const y=Gd(p.code,l);a.current.add(p[y]),qd(o,a.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&oc(p))return!1;const y=Gd(p.code,l);qd(o,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(p[y]),p.key==="Meta"&&a.current.clear(),i.current=!1},d=()=>{a.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function qd(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Gd(e,t){return t.includes(e)?"code":"key"}function Fb(e,t,n,r){var l,s;const i=e.parentNode||e.parentId;if(!i)return n;const a=t.get(i),o=wr(a,r);return Fb(a,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((l=a[De])==null?void 0:l.z)??0)>(n.z??0)?((s=a[De])==null?void 0:s.z)??0:n.z??0},r)}function Nb(e,t,n){e.forEach(r=>{var a;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:o,y:l,z:s}=Fb(r,e,{...r.position,z:((a=r[De])==null?void 0:a.z)??0},t);r.positionAbsolute={x:o,y:l},r[De].z=s,n!=null&&n[r.id]&&(r[De].isParent=!0)}})}function Hs(e,t,n,r){const i=new Map,a={},o=r?1e3:0;return e.forEach(l=>{var p;const s=(Ot(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(a[f]=!0);const d=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,De,{enumerable:!1,value:{handleBounds:d||(p=u==null?void 0:u[De])==null?void 0:p.handleBounds,z:s}}),i.set(l.id,c)}),Nb(i,n,a),i}function Cb(e,t={}){const{getNodes:n,width:r,height:i,minZoom:a,maxZoom:o,d3Zoom:l,d3Selection:s,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:f}=e(),d=t.initial&&!u&&c;if(l&&s&&(d||!t.initial)){const b=n().filter(w=>{var h;const m=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(h=t.nodes)!=null&&h.length?m&&t.nodes.some(v=>v.id===w.id):m}),y=b.every(w=>w.width&&w.height);if(b.length>0&&y){const w=rs(b,f),{x:m,y:h,zoom:v}=mb(w,r,i,t.minZoom??a,t.maxZoom??o,t.padding??.1),x=hn.translate(m,h).scale(v);return typeof t.duration=="number"&&t.duration>0?l.transform(sr(s,t.duration),x):l.transform(s,x),!0}}return!1}function yE(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[De]:r[De],selected:n.selected})}),new Map(t)}function bE(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function xo({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:a,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:s,hasDefaultEdges:u}=n();e!=null&&e.length&&(s&&r({nodeInternals:yE(e,i)}),o==null||o(e)),t!=null&&t.length&&(u&&r({edges:bE(t,a)}),l==null||l(t))}const zr=()=>{},vE={zoomIn:zr,zoomOut:zr,zoomTo:zr,getZoom:()=>1,setViewport:zr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:zr,fitBounds:zr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},wE=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),_E=()=>{const e=Ve(),{d3Zoom:t,d3Selection:n}=Fe(wE,Ye);return E.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(sr(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(sr(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,a)=>t.scaleTo(sr(n,a==null?void 0:a.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,a)=>{const[o,l,s]=e.getState().transform,u=hn.translate(i.x??o,i.y??l).scale(i.zoom??s);t.transform(sr(n,a==null?void 0:a.duration),u)},getViewport:()=>{const[i,a,o]=e.getState().transform;return{x:i,y:a,zoom:o}},fitView:i=>Cb(e.getState,i),setCenter:(i,a,o)=>{const{width:l,height:s,maxZoom:u}=e.getState(),c=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=l/2-i*c,d=s/2-a*c,p=hn.translate(f,d).scale(c);t.transform(sr(n,o==null?void 0:o.duration),p)},fitBounds:(i,a)=>{const{width:o,height:l,minZoom:s,maxZoom:u}=e.getState(),{x:c,y:f,zoom:d}=mb(i,o,l,s,u,(a==null?void 0:a.padding)??.1),p=hn.translate(c,f).scale(d);t.transform(sr(n,a==null?void 0:a.duration),p)},project:i=>{const{transform:a,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),uc(i,a,o,l)},screenToFlowPosition:i=>{const{transform:a,snapToGrid:o,snapGrid:l,domNode:s}=e.getState();if(!s)return i;const{x:u,y:c}=s.getBoundingClientRect(),f={x:i.x-u,y:i.y-c};return uc(f,a,o,l)},flowToScreenPosition:i=>{const{transform:a,domNode:o}=e.getState();if(!o)return i;const{x:l,y:s}=o.getBoundingClientRect(),u=fb(i,a);return{x:u.x+l,y:u.y+s}},viewportInitialized:!0}:vE,[t,n])};function Df(){const e=_E(),t=Ve(),n=E.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),r=E.useCallback(y=>t.getState().nodeInternals.get(y),[]),i=E.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(w=>({...w}))},[]),a=E.useCallback(y=>{const{edges:w=[]}=t.getState();return w.find(m=>m.id===y)},[]),o=E.useCallback(y=>{const{getNodes:w,setNodes:m,hasDefaultNodes:h,onNodesChange:v}=t.getState(),x=w(),S=typeof y=="function"?y(x):y;if(h)m(S);else if(v){const T=S.length===0?x.map(I=>({type:"remove",id:I.id})):S.map(I=>({item:I,type:"reset"}));v(T)}},[]),l=E.useCallback(y=>{const{edges:w=[],setEdges:m,hasDefaultEdges:h,onEdgesChange:v}=t.getState(),x=typeof y=="function"?y(w):y;if(h)m(x);else if(v){const S=x.length===0?w.map(T=>({type:"remove",id:T.id})):x.map(T=>({item:T,type:"reset"}));v(S)}},[]),s=E.useCallback(y=>{const w=Array.isArray(y)?y:[y],{getNodes:m,setNodes:h,hasDefaultNodes:v,onNodesChange:x}=t.getState();if(v){const T=[...m(),...w];h(T)}else if(x){const S=w.map(T=>({item:T,type:"add"}));x(S)}},[]),u=E.useCallback(y=>{const w=Array.isArray(y)?y:[y],{edges:m=[],setEdges:h,hasDefaultEdges:v,onEdgesChange:x}=t.getState();if(v)h([...m,...w]);else if(x){const S=w.map(T=>({item:T,type:"add"}));x(S)}},[]),c=E.useCallback(()=>{const{getNodes:y,edges:w=[],transform:m}=t.getState(),[h,v,x]=m;return{nodes:y().map(S=>({...S})),edges:w.map(S=>({...S})),viewport:{x:h,y:v,zoom:x}}},[]),f=E.useCallback(({nodes:y,edges:w})=>{const{nodeInternals:m,getNodes:h,edges:v,hasDefaultNodes:x,hasDefaultEdges:S,onNodesDelete:T,onEdgesDelete:I,onNodesChange:L,onEdgesChange:N}=t.getState(),j=(y||[]).map(A=>A.id),H=(w||[]).map(A=>A.id),C=h().reduce((A,U)=>{const $=U.parentNode||U.parentId,O=!j.includes(U.id)&&$&&A.find(B=>B.id===$);return(typeof U.deletable=="boolean"?U.deletable:!0)&&(j.includes(U.id)||O)&&A.push(U),A},[]),R=v.filter(A=>typeof A.deletable=="boolean"?A.deletable:!0),g=R.filter(A=>H.includes(A.id));if(C||g){const A=db(C,R),U=[...g,...A],$=U.reduce((O,k)=>(O.includes(k.id)||O.push(k.id),O),[]);if((S||x)&&(S&&t.setState({edges:v.filter(O=>!$.includes(O.id))}),x&&(C.forEach(O=>{m.delete(O.id)}),t.setState({nodeInternals:new Map(m)}))),$.length>0&&(I==null||I(U),N&&N($.map(O=>({id:O,type:"remove"})))),C.length>0&&(T==null||T(C),L)){const O=C.map(k=>({id:k.id,type:"remove"}));L(O)}}},[]),d=E.useCallback(y=>{const w=j2(y),m=w?null:t.getState().nodeInternals.get(y.id);return!w&&!m?[null,null,w]:[w?y:Ld(m),m,w]},[]),p=E.useCallback((y,w=!0,m)=>{const[h,v,x]=d(y);return h?(m||t.getState().getNodes()).filter(S=>{if(!x&&(S.id===v.id||!S.positionAbsolute))return!1;const T=Ld(S),I=ac(T,h);return w&&I>0||I>=h.width*h.height}):[]},[]),b=E.useCallback((y,w,m=!0)=>{const[h]=d(y);if(!h)return!1;const v=ac(h,w);return m&&v>0||v>=h.width*h.height},[]);return E.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:o,setEdges:l,addNodes:s,addEdges:u,toObject:c,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:b}),[e,n,r,i,a,o,l,s,u,c,f,p,b])}const xE={actInsideInputWithModifier:!1};var kE=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Ve(),{deleteElements:r}=Df(),i=Ra(e,xE),a=Ra(t);E.useEffect(()=>{if(i){const{edges:o,getNodes:l}=n.getState(),s=l().filter(c=>c.selected),u=o.filter(c=>c.selected);r({nodes:s,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),E.useEffect(()=>{n.setState({multiSelectionActive:a})},[a])};function SE(e){const t=Ve();E.useEffect(()=>{let n;const r=()=>{var a,o;if(!e.current)return;const i=Nf(e.current);(i.height===0||i.width===0)&&((o=(a=t.getState()).onError)==null||o.call(a,"004",kn.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const zf={position:"absolute",width:"100%",height:"100%",top:0,left:0},IE=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,ko=e=>({x:e.x,y:e.y,zoom:e.k}),Lr=(e,t)=>e.target.closest(`.${t}`),Yd=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Kd=e=>{const t=e.ctrlKey&&xl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},EE=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),FE=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:a=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:s=gr.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:f=!0,defaultViewport:d,translateExtent:p,minZoom:b,maxZoom:y,zoomActivationKeyCode:w,preventScrolling:m=!0,children:h,noWheelClassName:v,noPanClassName:x})=>{const S=E.useRef(),T=Ve(),I=E.useRef(!1),L=E.useRef(!1),N=E.useRef(null),j=E.useRef({x:0,y:0,zoom:0}),{d3Zoom:H,d3Selection:C,d3ZoomHandler:R,userSelectionActive:g}=Fe(EE,Ye),A=Ra(w),U=E.useRef(0),$=E.useRef(!1),O=E.useRef();return SE(N),E.useEffect(()=>{if(N.current){const k=N.current.getBoundingClientRect(),B=Jy().scaleExtent([b,y]).translateExtent(p),P=At(N.current).call(B),D=hn.translate(d.x,d.y).scale(ki(d.zoom,b,y)),Z=[[0,0],[k.width,k.height]],G=B.constrain()(D,Z,p);B.transform(P,G),B.wheelDelta(Kd),T.setState({d3Zoom:B,d3Selection:P,d3ZoomHandler:P.on("wheel.zoom"),transform:[G.x,G.y,G.k],domNode:N.current.closest(".react-flow")})}},[]),E.useEffect(()=>{C&&H&&(o&&!A&&!g?C.on("wheel.zoom",k=>{if(Lr(k,v))return!1;k.preventDefault(),k.stopImmediatePropagation();const B=C.property("__zoom").k||1;if(k.ctrlKey&&a){const le=jt(k),se=Kd(k),ce=B*Math.pow(2,se);H.scaleTo(C,ce,le,k);return}const P=k.deltaMode===1?20:1;let D=s===gr.Vertical?0:k.deltaX*P,Z=s===gr.Horizontal?0:k.deltaY*P;!xl()&&k.shiftKey&&s!==gr.Vertical&&(D=k.deltaY*P,Z=0),H.translateBy(C,-(D/B)*l,-(Z/B)*l,{internal:!0});const G=ko(C.property("__zoom")),{onViewportChangeStart:K,onViewportChange:ae,onViewportChangeEnd:ue}=T.getState();clearTimeout(O.current),$.current||($.current=!0,t==null||t(k,G),K==null||K(G)),$.current&&(e==null||e(k,G),ae==null||ae(G),O.current=setTimeout(()=>{n==null||n(k,G),ue==null||ue(G),$.current=!1},150))},{passive:!1}):typeof R<"u"&&C.on("wheel.zoom",function(k,B){if(!m&&k.type==="wheel"&&!k.ctrlKey||Lr(k,v))return null;k.preventDefault(),R.call(this,k,B)},{passive:!1}))},[g,o,s,C,H,R,A,a,m,v,t,e,n]),E.useEffect(()=>{H&&H.on("start",k=>{var D,Z;if(!k.sourceEvent||k.sourceEvent.internal)return null;U.current=(D=k.sourceEvent)==null?void 0:D.button;const{onViewportChangeStart:B}=T.getState(),P=ko(k.transform);I.current=!0,j.current=P,((Z=k.sourceEvent)==null?void 0:Z.type)==="mousedown"&&T.setState({paneDragging:!0}),B==null||B(P),t==null||t(k.sourceEvent,P)})},[H,t]),E.useEffect(()=>{H&&(g&&!I.current?H.on("zoom",null):g||H.on("zoom",k=>{var P;const{onViewportChange:B}=T.getState();if(T.setState({transform:[k.transform.x,k.transform.y,k.transform.k]}),L.current=!!(r&&Yd(f,U.current??0)),(e||B)&&!((P=k.sourceEvent)!=null&&P.internal)){const D=ko(k.transform);B==null||B(D),e==null||e(k.sourceEvent,D)}}))},[g,H,e,f,r]),E.useEffect(()=>{H&&H.on("end",k=>{if(!k.sourceEvent||k.sourceEvent.internal)return null;const{onViewportChangeEnd:B}=T.getState();if(I.current=!1,T.setState({paneDragging:!1}),r&&Yd(f,U.current??0)&&!L.current&&r(k.sourceEvent),L.current=!1,(n||B)&&IE(j.current,k.transform)){const P=ko(k.transform);j.current=P,clearTimeout(S.current),S.current=setTimeout(()=>{B==null||B(P),n==null||n(k.sourceEvent,P)},o?150:0)}})},[H,o,f,n,r]),E.useEffect(()=>{H&&H.filter(k=>{const B=A||i,P=a&&k.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&k.button===1&&k.type==="mousedown"&&(Lr(k,"react-flow__node")||Lr(k,"react-flow__edge")))return!0;if(!f&&!B&&!o&&!u&&!a||g||!u&&k.type==="dblclick"||Lr(k,v)&&k.type==="wheel"||Lr(k,x)&&(k.type!=="wheel"||o&&k.type==="wheel"&&!A)||!a&&k.ctrlKey&&k.type==="wheel"||!B&&!o&&!P&&k.type==="wheel"||!f&&(k.type==="mousedown"||k.type==="touchstart")||Array.isArray(f)&&!f.includes(k.button)&&k.type==="mousedown")return!1;const D=Array.isArray(f)&&f.includes(k.button)||!k.button||k.button<=1;return(!k.ctrlKey||k.type==="wheel")&&D})},[g,H,i,a,o,u,f,c,A]),X.createElement("div",{className:"react-flow__renderer",ref:N,style:zf},h)},NE=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function CE(){const{userSelectionActive:e,userSelectionRect:t}=Fe(NE,Ye);return e&&t?X.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Zd(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,a=t.position.y+t.height-r.height;if(i>0||a>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),a>0&&(r.style.height+=a),t.position.x<0){const o=Math.abs(t.position.x);r.position.x=r.position.x-o,r.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);r.position.y=r.position.y-o,r.style.height+=o,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Ab(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const a=e.filter(l=>l.id===i.id);if(a.length===0)return r.push(i),r;const o={...i};for(const l of a)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&Zd(r,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&Zd(r,o);break}case"remove":return r}return r.push(o),r},n)}function Tb(e,t){return Ab(e,t)}function AE(e,t){return Ab(e,t)}const Pn=(e,t)=>({id:e,type:"select",selected:t});function ti(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Pn(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Pn(r.id,!1))),n},[])}const Vs=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},TE=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ob=E.memo(({isSelecting:e,selectionMode:t=Oa.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:s,onPaneMouseMove:u,onPaneMouseLeave:c,children:f})=>{const d=E.useRef(null),p=Ve(),b=E.useRef(0),y=E.useRef(0),w=E.useRef(),{userSelectionActive:m,elementsSelectable:h,dragging:v}=Fe(TE,Ye),x=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),b.current=0,y.current=0},S=R=>{a==null||a(R),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},T=R=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){R.preventDefault();return}o==null||o(R)},I=l?R=>l(R):void 0,L=R=>{const{resetSelectedElements:g,domNode:A}=p.getState();if(w.current=A==null?void 0:A.getBoundingClientRect(),!h||!e||R.button!==0||R.target!==d.current||!w.current)return;const{x:U,y:$}=Kn(R,w.current);g(),p.setState({userSelectionRect:{width:0,height:0,startX:U,startY:$,x:U,y:$}}),r==null||r(R)},N=R=>{const{userSelectionRect:g,nodeInternals:A,edges:U,transform:$,onNodesChange:O,onEdgesChange:k,nodeOrigin:B,getNodes:P}=p.getState();if(!e||!w.current||!g)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const D=Kn(R,w.current),Z=g.startX??0,G=g.startY??0,K={...g,x:D.x<Z?D.x:Z,y:D.y<G?D.y:G,width:Math.abs(D.x-Z),height:Math.abs(D.y-G)},ae=P(),ue=pb(A,K,$,t===Oa.Partial,!0,B),le=db(ue,U).map(ce=>ce.id),se=ue.map(ce=>ce.id);if(b.current!==se.length){b.current=se.length;const ce=ti(ae,se);ce.length&&(O==null||O(ce))}if(y.current!==le.length){y.current=le.length;const ce=ti(U,le);ce.length&&(k==null||k(ce))}p.setState({userSelectionRect:K})},j=R=>{if(R.button!==0)return;const{userSelectionRect:g}=p.getState();!m&&g&&R.target===d.current&&(S==null||S(R)),p.setState({nodesSelectionActive:b.current>0}),x(),i==null||i(R)},H=R=>{m&&(p.setState({nodesSelectionActive:b.current>0}),i==null||i(R)),x()},C=h&&(e||m);return X.createElement("div",{className:et(["react-flow__pane",{dragging:v,selection:e}]),onClick:C?void 0:Vs(S,d),onContextMenu:Vs(T,d),onWheel:Vs(I,d),onMouseEnter:C?void 0:s,onMouseDown:C?L:void 0,onMouseMove:C?N:u,onMouseUp:C?j:void 0,onMouseLeave:C?H:c,ref:d,style:zf},f,X.createElement(CE,null))});Ob.displayName="Pane";function Rb(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Rb(r,t):!1}function Xd(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function OE(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!Rb(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var a,o;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((a=i.positionAbsolute)==null?void 0:a.x)??0),y:n.y-(((o=i.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function RE(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Pb(e,t,n,r,i=[0,0],a){const o=RE(e,e.extent||r);let l=o;const s=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(s&&e.width&&e.height){const f=n.get(s),{x:d,y:p}=wr(f,i).positionAbsolute;l=f&&Ot(d)&&Ot(p)&&Ot(f.width)&&Ot(f.height)?[[d+e.width*i[0],p+e.height*i[1]],[d+f.width-e.width+e.width*i[0],p+f.height-e.height+e.height*i[1]]]:l}else a==null||a("005",kn.error005()),l=o;else if(e.extent&&s&&e.extent!=="parent"){const f=n.get(s),{x:d,y:p}=wr(f,i).positionAbsolute;l=[[e.extent[0][0]+d,e.extent[0][1]+p],[e.extent[1][0]+d,e.extent[1][1]+p]]}let u={x:0,y:0};if(s){const f=n.get(s);u=wr(f,i).positionAbsolute}const c=l&&l!=="parent"?Cf(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function qs({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const Qd=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const a=Array.from(i),o=t.getBoundingClientRect(),l={x:o.width*r[0],y:o.height*r[1]};return a.map(s=>{const u=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),position:s.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/n,y:(u.top-o.top-l.y)/n,...Nf(s)}})};function Wi(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function fc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:o,nodeInternals:l,onError:s}=t.getState(),u=l.get(e);if(!u){s==null||s("012",kn.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&o)&&(a({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function PE(){const e=Ve();return E.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:a}=e.getState(),o=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,s={x:(o-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:a?i[0]*Math.round(s.x/i[0]):s.x,ySnapped:a?i[1]*Math.round(s.y/i[1]):s.y,...s}},[])}function Gs(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Mb({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:a,selectNodesOnDrag:o}){const l=Ve(),[s,u]=E.useState(!1),c=E.useRef([]),f=E.useRef({x:null,y:null}),d=E.useRef(0),p=E.useRef(null),b=E.useRef({x:0,y:0}),y=E.useRef(null),w=E.useRef(!1),m=E.useRef(!1),h=E.useRef(!1),v=PE();return E.useEffect(()=>{if(e!=null&&e.current){const x=At(e.current),S=({x:L,y:N})=>{const{nodeInternals:j,onNodeDrag:H,onSelectionDrag:C,updateNodePositions:R,nodeExtent:g,snapGrid:A,snapToGrid:U,nodeOrigin:$,onError:O}=l.getState();f.current={x:L,y:N};let k=!1,B={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&g){const D=rs(c.current,$);B=Ta(D)}if(c.current=c.current.map(D=>{const Z={x:L-D.distance.x,y:N-D.distance.y};U&&(Z.x=A[0]*Math.round(Z.x/A[0]),Z.y=A[1]*Math.round(Z.y/A[1]));const G=[[g[0][0],g[0][1]],[g[1][0],g[1][1]]];c.current.length>1&&g&&!D.extent&&(G[0][0]=D.positionAbsolute.x-B.x+g[0][0],G[1][0]=D.positionAbsolute.x+(D.width??0)-B.x2+g[1][0],G[0][1]=D.positionAbsolute.y-B.y+g[0][1],G[1][1]=D.positionAbsolute.y+(D.height??0)-B.y2+g[1][1]);const K=Pb(D,Z,j,G,$,O);return k=k||D.position.x!==K.position.x||D.position.y!==K.position.y,D.position=K.position,D.positionAbsolute=K.positionAbsolute,D}),!k)return;R(c.current,!0,!0),u(!0);const P=i?H:Gs(C);if(P&&y.current){const[D,Z]=qs({nodeId:i,dragItems:c.current,nodeInternals:j});P(y.current,D,Z)}},T=()=>{if(!p.current)return;const[L,N]=tb(b.current,p.current);if(L!==0||N!==0){const{transform:j,panBy:H}=l.getState();f.current.x=(f.current.x??0)-L/j[2],f.current.y=(f.current.y??0)-N/j[2],H({x:L,y:N})&&S(f.current)}d.current=requestAnimationFrame(T)},I=L=>{var $;const{nodeInternals:N,multiSelectionActive:j,nodesDraggable:H,unselectNodesAndEdges:C,onNodeDragStart:R,onSelectionDragStart:g}=l.getState();m.current=!0;const A=i?R:Gs(g);(!o||!a)&&!j&&i&&(($=N.get(i))!=null&&$.selected||C()),i&&a&&o&&fc({id:i,store:l,nodeRef:e});const U=v(L);if(f.current=U,c.current=OE(N,H,U,i),A&&c.current){const[O,k]=qs({nodeId:i,dragItems:c.current,nodeInternals:N});A(L.sourceEvent,O,k)}};if(t)x.on(".drag",null);else{const L=VS().on("start",N=>{const{domNode:j,nodeDragThreshold:H}=l.getState();H===0&&I(N),h.current=!1;const C=v(N);f.current=C,p.current=(j==null?void 0:j.getBoundingClientRect())||null,b.current=Kn(N.sourceEvent,p.current)}).on("drag",N=>{var R,g;const j=v(N),{autoPanOnNodeDrag:H,nodeDragThreshold:C}=l.getState();if(N.sourceEvent.type==="touchmove"&&N.sourceEvent.touches.length>1&&(h.current=!0),!h.current){if(!w.current&&m.current&&H&&(w.current=!0,T()),!m.current){const A=j.xSnapped-(((R=f==null?void 0:f.current)==null?void 0:R.x)??0),U=j.ySnapped-(((g=f==null?void 0:f.current)==null?void 0:g.y)??0);Math.sqrt(A*A+U*U)>C&&I(N)}(f.current.x!==j.xSnapped||f.current.y!==j.ySnapped)&&c.current&&m.current&&(y.current=N.sourceEvent,b.current=Kn(N.sourceEvent,p.current),S(j))}}).on("end",N=>{if(!(!m.current||h.current)&&(u(!1),w.current=!1,m.current=!1,cancelAnimationFrame(d.current),c.current)){const{updateNodePositions:j,nodeInternals:H,onNodeDragStop:C,onSelectionDragStop:R}=l.getState(),g=i?C:Gs(R);if(j(c.current,!1,!1),g){const[A,U]=qs({nodeId:i,dragItems:c.current,nodeInternals:H});g(N.sourceEvent,A,U)}}}).filter(N=>{const j=N.target;return!N.button&&(!n||!Xd(j,`.${n}`,e))&&(!r||Xd(j,r,e))});return x.call(L),()=>{x.on(".drag",null)}}}},[e,t,n,r,a,l,i,o,v]),s}function Db(){const e=Ve();return E.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:a,getNodes:o,snapToGrid:l,snapGrid:s,onError:u,nodesDraggable:c}=e.getState(),f=o().filter(h=>h.selected&&(h.draggable||c&&typeof h.draggable>"u")),d=l?s[0]:5,p=l?s[1]:5,b=n.isShiftPressed?4:1,y=n.x*d*b,w=n.y*p*b,m=f.map(h=>{if(h.positionAbsolute){const v={x:h.positionAbsolute.x+y,y:h.positionAbsolute.y+w};l&&(v.x=s[0]*Math.round(v.x/s[0]),v.y=s[1]*Math.round(v.y/s[1]));const{positionAbsolute:x,position:S}=Pb(h,v,r,i,void 0,u);h.position=S,h.positionAbsolute=x}return h});a(m,!0,!1)},[])}const pi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Hi=e=>{const t=({id:n,type:r,data:i,xPos:a,yPos:o,xPosOrigin:l,yPosOrigin:s,selected:u,onClick:c,onMouseEnter:f,onMouseMove:d,onMouseLeave:p,onContextMenu:b,onDoubleClick:y,style:w,className:m,isDraggable:h,isSelectable:v,isConnectable:x,isFocusable:S,selectNodesOnDrag:T,sourcePosition:I,targetPosition:L,hidden:N,resizeObserver:j,dragHandle:H,zIndex:C,isParent:R,noDragClassName:g,noPanClassName:A,initialized:U,disableKeyboardA11y:$,ariaLabel:O,rfId:k,hasHandleBounds:B})=>{const P=Ve(),D=E.useRef(null),Z=E.useRef(null),G=E.useRef(I),K=E.useRef(L),ae=E.useRef(r),ue=v||h||c||f||d||p,le=Db(),se=Wi(n,P.getState,f),ce=Wi(n,P.getState,d),me=Wi(n,P.getState,p),be=Wi(n,P.getState,b),we=Wi(n,P.getState,y),_=z=>{const{nodeDragThreshold:F}=P.getState();if(v&&(!T||!h||F>0)&&fc({id:n,store:P,nodeRef:D}),c){const W=P.getState().nodeInternals.get(n);W&&c(z,{...W})}},V=z=>{if(!oc(z)&&!$)if(ab.includes(z.key)&&v){const F=z.key==="Escape";fc({id:n,store:P,unselect:F,nodeRef:D})}else h&&u&&Object.prototype.hasOwnProperty.call(pi,z.key)&&(P.setState({ariaLiveMessage:`Moved selected node ${z.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~o}`}),le({x:pi[z.key].x,y:pi[z.key].y,isShiftPressed:z.shiftKey}))};E.useEffect(()=>()=>{Z.current&&(j==null||j.unobserve(Z.current),Z.current=null)},[]),E.useEffect(()=>{if(D.current&&!N){const z=D.current;(!U||!B||Z.current!==z)&&(Z.current&&(j==null||j.unobserve(Z.current)),j==null||j.observe(z),Z.current=z)}},[N,U,B]),E.useEffect(()=>{const z=ae.current!==r,F=G.current!==I,W=K.current!==L;D.current&&(z||F||W)&&(z&&(ae.current=r),F&&(G.current=I),W&&(K.current=L),P.getState().updateNodeDimensions([{id:n,nodeElement:D.current,forceUpdate:!0}]))},[n,r,I,L]);const Y=Mb({nodeRef:D,disabled:N||!h,noDragClassName:g,handleSelector:H,nodeId:n,isSelectable:v,selectNodesOnDrag:T});return N?null:X.createElement("div",{className:et(["react-flow__node",`react-flow__node-${r}`,{[A]:h},m,{selected:u,selectable:v,parent:R,dragging:Y}]),ref:D,style:{zIndex:C,transform:`translate(${l}px,${s}px)`,pointerEvents:ue?"all":"none",visibility:U?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:se,onMouseMove:ce,onMouseLeave:me,onContextMenu:be,onClick:_,onDoubleClick:we,onKeyDown:S?V:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":$?void 0:`${Ib}-${k}`,"aria-label":O},X.createElement(Y2,{value:n},X.createElement(e,{id:n,data:i,type:r,xPos:a,yPos:o,selected:u,isConnectable:x,sourcePosition:I,targetPosition:L,dragging:Y,dragHandle:H,zIndex:C})))};return t.displayName="NodeWrapper",E.memo(t)};const ME=e=>{const t=e.getNodes().filter(n=>n.selected);return{...rs(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function DE({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Ve(),{width:i,height:a,x:o,y:l,transformString:s,userSelectionActive:u}=Fe(ME,Ye),c=Db(),f=E.useRef(null);if(E.useEffect(()=>{var b;n||(b=f.current)==null||b.focus({preventScroll:!0})},[n]),Mb({nodeRef:f}),u||!i||!a)return null;const d=e?b=>{const y=r.getState().getNodes().filter(w=>w.selected);e(b,y)}:void 0,p=b=>{Object.prototype.hasOwnProperty.call(pi,b.key)&&c({x:pi[b.key].x,y:pi[b.key].y,isShiftPressed:b.shiftKey})};return X.createElement("div",{className:et(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s}},X.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:a,top:l,left:o}}))}var zE=E.memo(DE);const LE=e=>e.nodesSelectionActive,zb=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,deleteKeyCode:l,onMove:s,onMoveStart:u,onMoveEnd:c,selectionKeyCode:f,selectionOnDrag:d,selectionMode:p,onSelectionStart:b,onSelectionEnd:y,multiSelectionKeyCode:w,panActivationKeyCode:m,zoomActivationKeyCode:h,elementsSelectable:v,zoomOnScroll:x,zoomOnPinch:S,panOnScroll:T,panOnScrollSpeed:I,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:j,defaultViewport:H,translateExtent:C,minZoom:R,maxZoom:g,preventScrolling:A,onSelectionContextMenu:U,noWheelClassName:$,noPanClassName:O,disableKeyboardA11y:k})=>{const B=Fe(LE),P=Ra(f),D=Ra(m),Z=D||j,G=D||T,K=P||d&&Z!==!0;return kE({deleteKeyCode:l,multiSelectionKeyCode:w}),X.createElement(FE,{onMove:s,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:a,elementsSelectable:v,zoomOnScroll:x,zoomOnPinch:S,panOnScroll:G,panOnScrollSpeed:I,panOnScrollMode:L,zoomOnDoubleClick:N,panOnDrag:!P&&Z,defaultViewport:H,translateExtent:C,minZoom:R,maxZoom:g,zoomActivationKeyCode:h,preventScrolling:A,noWheelClassName:$,noPanClassName:O},X.createElement(Ob,{onSelectionStart:b,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:a,onPaneScroll:o,panOnDrag:Z,isSelecting:!!K,selectionMode:p},e,B&&X.createElement(zE,{onSelectionContextMenu:U,noPanClassName:O,disableKeyboardA11y:k})))};zb.displayName="FlowRenderer";var $E=E.memo(zb);function UE(e){return Fe(E.useCallback(n=>e?pb(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function jE(e){const t={input:Hi(e.input||_b),default:Hi(e.default||cc),output:Hi(e.output||kb),group:Hi(e.group||Mf)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,a)=>(i[a]=Hi(e[a]||cc),i),n);return{...t,...r}}const BE=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},WE=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Lb=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:o}=Fe(WE,Ye),l=UE(e.onlyRenderVisibleElements),s=E.useRef(),u=E.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(f=>{const d=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));a(d)});return s.current=c,c},[]);return E.useEffect(()=>()=>{var c;(c=s==null?void 0:s.current)==null||c.disconnect()},[]),X.createElement("div",{className:"react-flow__nodes",style:zf},l.map(c=>{var S,T,I;let f=c.type||"default";e.nodeTypes[f]||(o==null||o("003",kn.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),b=!!(c.selectable||i&&typeof c.selectable>"u"),y=!!(c.connectable||n&&typeof c.connectable>"u"),w=!!(c.focusable||r&&typeof c.focusable>"u"),m=e.nodeExtent?Cf(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,h=(m==null?void 0:m.x)??0,v=(m==null?void 0:m.y)??0,x=BE({x:h,y:v,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return X.createElement(d,{key:c.id,id:c.id,className:c.className,style:c.style,type:f,data:c.data,sourcePosition:c.sourcePosition||pe.Bottom,targetPosition:c.targetPosition||pe.Top,hidden:c.hidden,xPos:h,yPos:v,xPosOrigin:x.x,yPosOrigin:x.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:b,isConnectable:y,isFocusable:w,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((S=c[De])==null?void 0:S.z)??0,isParent:!!((T=c[De])!=null&&T.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((I=c[De])!=null&&I.handleBounds)})}))};Lb.displayName="NodeRenderer";var HE=E.memo(Lb);const VE=(e,t,n)=>n===pe.Left?e-t:n===pe.Right?e+t:e,qE=(e,t,n)=>n===pe.Top?e-t:n===pe.Bottom?e+t:e,Jd="react-flow__edgeupdater",em=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:a,onMouseOut:o,type:l})=>X.createElement("circle",{onMouseDown:i,onMouseEnter:a,onMouseOut:o,className:et([Jd,`${Jd}-${l}`]),cx:VE(t,r,e),cy:qE(n,r,e),r,stroke:"transparent",fill:"transparent"}),GE=()=>!0;var $r=e=>{const t=({id:n,className:r,type:i,data:a,onClick:o,onEdgeDoubleClick:l,selected:s,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:y,style:w,source:m,target:h,sourceX:v,sourceY:x,targetX:S,targetY:T,sourcePosition:I,targetPosition:L,elementsSelectable:N,hidden:j,sourceHandleId:H,targetHandleId:C,onContextMenu:R,onMouseEnter:g,onMouseMove:A,onMouseLeave:U,reconnectRadius:$,onReconnect:O,onReconnectStart:k,onReconnectEnd:B,markerEnd:P,markerStart:D,rfId:Z,ariaLabel:G,isFocusable:K,isReconnectable:ae,pathOptions:ue,interactionWidth:le,disableKeyboardA11y:se})=>{const ce=E.useRef(null),[me,be]=E.useState(!1),[we,_]=E.useState(!1),V=Ve(),Y=E.useMemo(()=>`url('#${sc(D,Z)}')`,[D,Z]),z=E.useMemo(()=>`url('#${sc(P,Z)}')`,[P,Z]);if(j)return null;const F=Ie=>{var bt;const{edges:Ke,addSelectedEdges:ke,unselectNodesAndEdges:Et,multiSelectionActive:zt}=V.getState(),je=Ke.find(rr=>rr.id===n);je&&(N&&(V.setState({nodesSelectionActive:!1}),je.selected&&zt?(Et({nodes:[],edges:[je]}),(bt=ce.current)==null||bt.blur()):ke([n])),o&&o(Ie,je))},W=Bi(n,V.getState,l),J=Bi(n,V.getState,R),ee=Bi(n,V.getState,g),q=Bi(n,V.getState,A),te=Bi(n,V.getState,U),oe=(Ie,Ke)=>{if(Ie.button!==0)return;const{edges:ke,isValidConnection:Et}=V.getState(),zt=Ke?h:m,je=(Ke?C:H)||null,bt=Ke?"target":"source",rr=Et||GE,Ti=Ke,ir=ke.find(Ft=>Ft.id===n);_(!0),k==null||k(Ie,ir,bt);const Tr=Ft=>{_(!1),B==null||B(Ft,ir,bt)};yb({event:Ie,handleId:je,nodeId:zt,onConnect:Ft=>O==null?void 0:O(ir,Ft),isTarget:Ti,getState:V.getState,setState:V.setState,isValidConnection:rr,edgeUpdaterType:bt,onReconnectEnd:Tr})},re=Ie=>oe(Ie,!0),ie=Ie=>oe(Ie,!1),he=()=>be(!0),ge=()=>be(!1),Ue=!N&&!o,Dt=Ie=>{var Ke;if(!se&&ab.includes(Ie.key)&&N){const{unselectNodesAndEdges:ke,addSelectedEdges:Et,edges:zt}=V.getState();Ie.key==="Escape"?((Ke=ce.current)==null||Ke.blur(),ke({edges:[zt.find(bt=>bt.id===n)]})):Et([n])}};return X.createElement("g",{className:et(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:s,animated:u,inactive:Ue,updating:me}]),onClick:F,onDoubleClick:W,onContextMenu:J,onMouseEnter:ee,onMouseMove:q,onMouseLeave:te,onKeyDown:K?Dt:void 0,tabIndex:K?0:void 0,role:K?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":G===null?void 0:G||`Edge from ${m} to ${h}`,"aria-describedby":K?`${Eb}-${Z}`:void 0,ref:ce},!we&&X.createElement(e,{id:n,source:m,target:h,selected:s,animated:u,label:c,labelStyle:f,labelShowBg:d,labelBgStyle:p,labelBgPadding:b,labelBgBorderRadius:y,data:a,style:w,sourceX:v,sourceY:x,targetX:S,targetY:T,sourcePosition:I,targetPosition:L,sourceHandleId:H,targetHandleId:C,markerStart:Y,markerEnd:z,pathOptions:ue,interactionWidth:le}),ae&&X.createElement(X.Fragment,null,(ae==="source"||ae===!0)&&X.createElement(em,{position:I,centerX:v,centerY:x,radius:$,onMouseDown:re,onMouseEnter:he,onMouseOut:ge,type:"source"}),(ae==="target"||ae===!0)&&X.createElement(em,{position:L,centerX:S,centerY:T,radius:$,onMouseDown:ie,onMouseEnter:he,onMouseOut:ge,type:"target"})))};return t.displayName="EdgeWrapper",E.memo(t)};function YE(e){const t={default:$r(e.default||kl),straight:$r(e.bezier||Of),step:$r(e.step||Tf),smoothstep:$r(e.step||ns),simplebezier:$r(e.simplebezier||Af)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,a)=>(i[a]=$r(e[a]||kl),i),n);return{...t,...r}}function tm(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,a=(n==null?void 0:n.width)||t.width,o=(n==null?void 0:n.height)||t.height;switch(e){case pe.Top:return{x:r+a/2,y:i};case pe.Right:return{x:r+a,y:i+o/2};case pe.Bottom:return{x:r+a/2,y:i+o};case pe.Left:return{x:r,y:i+o/2}}}function nm(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const KE=(e,t,n,r,i,a)=>{const o=tm(n,e,t),l=tm(a,r,i);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function ZE({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:a,width:o,height:l,transform:s}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Ta({x:(0-s[0])/s[2],y:(0-s[1])/s[2],width:o/s[2],height:l/s[2]}),f=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),d=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(f*d)>0}function rm(e){var r,i,a,o,l;const t=((r=e==null?void 0:e[De])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const XE=[{level:0,isMaxLevel:!0,edges:[]}];function QE(e,t,n=!1){let r=-1;const i=e.reduce((o,l)=>{var c,f;const s=Ot(l.zIndex);let u=s?l.zIndex:0;if(n){const d=t.get(l.target),p=t.get(l.source),b=l.selected||(d==null?void 0:d.selected)||(p==null?void 0:p.selected),y=Math.max(((c=p==null?void 0:p[De])==null?void 0:c.z)||0,((f=d==null?void 0:d[De])==null?void 0:f.z)||0,1e3);u=(s?l.zIndex:0)+(b?y:0)}return o[u]?o[u].push(l):o[u]=[l],r=u>r?u:r,o},{}),a=Object.entries(i).map(([o,l])=>{const s=+o;return{edges:l,level:s,isMaxLevel:s===r}});return a.length===0?XE:a}function JE(e,t,n){const r=Fe(E.useCallback(i=>e?i.edges.filter(a=>{const o=t.get(a.source),l=t.get(a.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&ZE({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return QE(r,t,n)}const eF=({color:e="none",strokeWidth:t=1})=>X.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),tF=({color:e="none",strokeWidth:t=1})=>X.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),im={[Si.Arrow]:eF,[Si.ArrowClosed]:tF};function nF(e){const t=Ve();return E.useMemo(()=>{var i,a;return Object.prototype.hasOwnProperty.call(im,e)?im[e]:((a=(i=t.getState()).onError)==null||a.call(i,"009",kn.error009(e)),null)},[e])}const rF=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:a="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const s=nF(t);return s?X.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0"},X.createElement(s,{color:n,strokeWidth:o})):null},iF=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,a)=>([a.markerStart,a.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=sc(o,t);r.includes(l)||(i.push({id:l,color:o.color||e,...o}),r.push(l))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))},$b=({defaultColor:e,rfId:t})=>{const n=Fe(E.useCallback(iF({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((a,o)=>a.id!==i[o].id)));return X.createElement("defs",null,n.map(r=>X.createElement(rF,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};$b.displayName="MarkerDefinitions";var aF=E.memo($b);const oF=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ub=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:a,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:s,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:b,reconnectRadius:y,children:w,disableKeyboardA11y:m})=>{const{edgesFocusable:h,edgesUpdatable:v,elementsSelectable:x,width:S,height:T,connectionMode:I,nodeInternals:L,onError:N}=Fe(oF,Ye),j=JE(t,L,n);return S?X.createElement(X.Fragment,null,j.map(({level:H,edges:C,isMaxLevel:R})=>X.createElement("svg",{key:H,style:{zIndex:H},width:S,height:T,className:"react-flow__edges react-flow__container"},R&&X.createElement(aF,{defaultColor:e,rfId:r}),X.createElement("g",null,C.map(g=>{const[A,U,$]=rm(L.get(g.source)),[O,k,B]=rm(L.get(g.target));if(!$||!B)return null;let P=g.type||"default";i[P]||(N==null||N("011",kn.error011(P)),P="default");const D=i[P]||i.default,Z=I===Nr.Strict?k.target:(k.target??[]).concat(k.source??[]),G=nm(U.source,g.sourceHandle),K=nm(Z,g.targetHandle),ae=(G==null?void 0:G.position)||pe.Bottom,ue=(K==null?void 0:K.position)||pe.Top,le=!!(g.focusable||h&&typeof g.focusable>"u"),se=g.reconnectable||g.updatable,ce=typeof d<"u"&&(se||v&&typeof se>"u");if(!G||!K)return N==null||N("008",kn.error008(G,g)),null;const{sourceX:me,sourceY:be,targetX:we,targetY:_}=KE(A,G,ae,O,K,ue);return X.createElement(D,{key:g.id,id:g.id,className:et([g.className,a]),type:P,data:g.data,selected:!!g.selected,animated:!!g.animated,hidden:!!g.hidden,label:g.label,labelStyle:g.labelStyle,labelShowBg:g.labelShowBg,labelBgStyle:g.labelBgStyle,labelBgPadding:g.labelBgPadding,labelBgBorderRadius:g.labelBgBorderRadius,style:g.style,source:g.source,target:g.target,sourceHandleId:g.sourceHandle,targetHandleId:g.targetHandle,markerEnd:g.markerEnd,markerStart:g.markerStart,sourceX:me,sourceY:be,targetX:we,targetY:_,sourcePosition:ae,targetPosition:ue,elementsSelectable:x,onContextMenu:o,onMouseEnter:l,onMouseMove:s,onMouseLeave:u,onClick:c,onEdgeDoubleClick:f,onReconnect:d,onReconnectStart:p,onReconnectEnd:b,reconnectRadius:y,rfId:r,ariaLabel:g.ariaLabel,isFocusable:le,isReconnectable:ce,pathOptions:"pathOptions"in g?g.pathOptions:void 0,interactionWidth:g.interactionWidth,disableKeyboardA11y:m})})))),w):null};Ub.displayName="EdgeRenderer";var lF=E.memo(Ub);const sF=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function uF({children:e}){const t=Fe(sF);return X.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function cF(e){const t=Df(),n=E.useRef(!1);E.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const fF={[pe.Left]:pe.Right,[pe.Right]:pe.Left,[pe.Top]:pe.Bottom,[pe.Bottom]:pe.Top},jb=({nodeId:e,handleType:t,style:n,type:r=zn.Bezier,CustomComponent:i,connectionStatus:a})=>{var T,I,L;const{fromNode:o,handleId:l,toX:s,toY:u,connectionMode:c}=Fe(E.useCallback(N=>({fromNode:N.nodeInternals.get(e),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[e]),Ye),f=(T=o==null?void 0:o[De])==null?void 0:T.handleBounds;let d=f==null?void 0:f[t];if(c===Nr.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!d)return null;const p=l?d.find(N=>N.id===l):d[0],b=p?p.x+p.width/2:(o.width??0)/2,y=p?p.y+p.height/2:o.height??0,w=(((I=o.positionAbsolute)==null?void 0:I.x)??0)+b,m=(((L=o.positionAbsolute)==null?void 0:L.y)??0)+y,h=p==null?void 0:p.position,v=h?fF[h]:null;if(!h||!v)return null;if(i)return X.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:o,fromHandle:p,fromX:w,fromY:m,toX:s,toY:u,fromPosition:h,toPosition:v,connectionStatus:a});let x="";const S={sourceX:w,sourceY:m,sourcePosition:h,targetX:s,targetY:u,targetPosition:v};return r===zn.Bezier?[x]=cb(S):r===zn.Step?[x]=lc({...S,borderRadius:0}):r===zn.SmoothStep?[x]=lc(S):r===zn.SimpleBezier?[x]=ub(S):x=`M${w},${m} ${s},${u}`,X.createElement("path",{d:x,fill:"none",className:"react-flow__connection-path",style:n})};jb.displayName="ConnectionLine";const pF=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function dF({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:a,nodesConnectable:o,width:l,height:s,connectionStatus:u}=Fe(pF,Ye);return!(i&&a&&l&&o)?null:X.createElement("svg",{style:e,width:l,height:s,className:"react-flow__edges react-flow__connectionline react-flow__container"},X.createElement("g",{className:et(["react-flow__connection",u])},X.createElement(jb,{nodeId:i,handleType:a,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function am(e,t){return E.useRef(null),Ve(),E.useMemo(()=>t(e),[e])}const Bb=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:a,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:s,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:p,onSelectionContextMenu:b,onSelectionStart:y,onSelectionEnd:w,connectionLineType:m,connectionLineStyle:h,connectionLineComponent:v,connectionLineContainerStyle:x,selectionKeyCode:S,selectionOnDrag:T,selectionMode:I,multiSelectionKeyCode:L,panActivationKeyCode:N,zoomActivationKeyCode:j,deleteKeyCode:H,onlyRenderVisibleElements:C,elementsSelectable:R,selectNodesOnDrag:g,defaultViewport:A,translateExtent:U,minZoom:$,maxZoom:O,preventScrolling:k,defaultMarkerColor:B,zoomOnScroll:P,zoomOnPinch:D,panOnScroll:Z,panOnScrollSpeed:G,panOnScrollMode:K,zoomOnDoubleClick:ae,panOnDrag:ue,onPaneClick:le,onPaneMouseEnter:se,onPaneMouseMove:ce,onPaneMouseLeave:me,onPaneScroll:be,onPaneContextMenu:we,onEdgeContextMenu:_,onEdgeMouseEnter:V,onEdgeMouseMove:Y,onEdgeMouseLeave:z,onReconnect:F,onReconnectStart:W,onReconnectEnd:J,reconnectRadius:ee,noDragClassName:q,noWheelClassName:te,noPanClassName:oe,elevateEdgesOnSelect:re,disableKeyboardA11y:ie,nodeOrigin:he,nodeExtent:ge,rfId:Ue})=>{const Dt=am(e,jE),Ie=am(t,YE);return cF(a),X.createElement($E,{onPaneClick:le,onPaneMouseEnter:se,onPaneMouseMove:ce,onPaneMouseLeave:me,onPaneContextMenu:we,onPaneScroll:be,deleteKeyCode:H,selectionKeyCode:S,selectionOnDrag:T,selectionMode:I,onSelectionStart:y,onSelectionEnd:w,multiSelectionKeyCode:L,panActivationKeyCode:N,zoomActivationKeyCode:j,elementsSelectable:R,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:P,zoomOnPinch:D,zoomOnDoubleClick:ae,panOnScroll:Z,panOnScrollSpeed:G,panOnScrollMode:K,panOnDrag:ue,defaultViewport:A,translateExtent:U,minZoom:$,maxZoom:O,onSelectionContextMenu:b,preventScrolling:k,noDragClassName:q,noWheelClassName:te,noPanClassName:oe,disableKeyboardA11y:ie},X.createElement(uF,null,X.createElement(lF,{edgeTypes:Ie,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:C,onEdgeContextMenu:_,onEdgeMouseEnter:V,onEdgeMouseMove:Y,onEdgeMouseLeave:z,onReconnect:F,onReconnectStart:W,onReconnectEnd:J,reconnectRadius:ee,defaultMarkerColor:B,noPanClassName:oe,elevateEdgesOnSelect:!!re,disableKeyboardA11y:ie,rfId:Ue},X.createElement(dF,{style:h,type:m,component:v,containerStyle:x})),X.createElement("div",{className:"react-flow__edgelabel-renderer"}),X.createElement(HE,{nodeTypes:Dt,onNodeClick:o,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:p,selectNodesOnDrag:g,onlyRenderVisibleElements:C,noPanClassName:oe,noDragClassName:q,disableKeyboardA11y:ie,nodeOrigin:he,nodeExtent:ge,rfId:Ue})))};Bb.displayName="GraphView";var mF=E.memo(Bb);const pc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],An={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:pc,nodeExtent:pc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Nr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:B2,isValidConnection:void 0},gF=()=>r1((e,t)=>({...An,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:a}=t();e({nodeInternals:Hs(n,r,i,a)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",a=typeof r<"u",o=i?Hs(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:a?r:[],hasDefaultNodes:i,hasDefaultEdges:a})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:a,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:s,nodeOrigin:u}=t(),c=s==null?void 0:s.querySelector(".react-flow__viewport");if(!c)return;const f=window.getComputedStyle(c),{m22:d}=new window.DOMMatrixReadOnly(f.transform),p=n.reduce((y,w)=>{const m=i.get(w.id);if(m!=null&&m.hidden)i.set(m.id,{...m,[De]:{...m[De],handleBounds:void 0}});else if(m){const h=Nf(w.nodeElement);!!(h.width&&h.height&&(m.width!==h.width||m.height!==h.height||w.forceUpdate))&&(i.set(m.id,{...m,[De]:{...m[De],handleBounds:{source:Qd(".source",w.nodeElement,d,u),target:Qd(".target",w.nodeElement,d,u)}},...h}),y.push({id:m.id,type:"dimensions",dimensions:h}))}return y},[]);Nb(i,u);const b=o||a&&!o&&Cb(t,{initial:!0,...l});e({nodeInternals:new Map(i),fitViewOnInitDone:b}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:a}=t(),o=n.map(l=>{const s={id:l.id,type:"position",dragging:i};return r&&(s.positionAbsolute=l.positionAbsolute,s.position=l.position),s});a(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:a,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:s}=t();if(n!=null&&n.length){if(a){const u=Tb(n,l()),c=Hs(u,i,o,s);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let o,l=null;r?o=n.map(s=>Pn(s,!0)):(o=ti(a(),n),l=ti(i,[])),xo({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:a}=t();let o,l=null;r?o=n.map(s=>Pn(s,!0)):(o=ti(i,n),l=ti(a(),[])),xo({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:a}=t(),o=n||a(),l=r||i,s=o.map(c=>(c.selected=!1,Pn(c.id,!1))),u=l.map(c=>Pn(c.id,!1));xo({changedNodes:s,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(l=>l.selected).map(l=>Pn(l.id,!1)),o=n.filter(l=>l.selected).map(l=>Pn(l.id,!1));xo({changedNodes:a,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=Cf(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:a,d3Zoom:o,d3Selection:l,translateExtent:s}=t();if(!o||!l||!n.x&&!n.y)return!1;const u=hn.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,a]],f=o==null?void 0:o.constrain()(u,c,s);return o.transform(l,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:An.connectionNodeId,connectionHandleId:An.connectionHandleId,connectionHandleType:An.connectionHandleType,connectionStatus:An.connectionStatus,connectionStartHandle:An.connectionStartHandle,connectionEndHandle:An.connectionEndHandle}),reset:()=>e({...An})}),Object.is),Wb=({children:e})=>{const t=E.useRef(null);return t.current||(t.current=gF()),X.createElement(M2,{value:t.current},e)};Wb.displayName="ReactFlowProvider";const Hb=({children:e})=>E.useContext(ts)?X.createElement(X.Fragment,null,e):X.createElement(Wb,null,e);Hb.displayName="ReactFlowWrapper";const hF={input:_b,default:cc,output:kb,group:Mf},yF={default:kl,straight:Of,step:Tf,smoothstep:ns,simplebezier:Af},bF=[0,0],vF=[15,15],wF={x:0,y:0,zoom:1},_F={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Vb=E.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:a=hF,edgeTypes:o=yF,onNodeClick:l,onEdgeClick:s,onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onConnect:p,onConnectStart:b,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:m,onNodeMouseEnter:h,onNodeMouseMove:v,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:T,onNodeDragStart:I,onNodeDrag:L,onNodeDragStop:N,onNodesDelete:j,onEdgesDelete:H,onSelectionChange:C,onSelectionDragStart:R,onSelectionDrag:g,onSelectionDragStop:A,onSelectionContextMenu:U,onSelectionStart:$,onSelectionEnd:O,connectionMode:k=Nr.Strict,connectionLineType:B=zn.Bezier,connectionLineStyle:P,connectionLineComponent:D,connectionLineContainerStyle:Z,deleteKeyCode:G="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:ae=!1,selectionMode:ue=Oa.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:se=xl()?"Meta":"Control",zoomActivationKeyCode:ce=xl()?"Meta":"Control",snapToGrid:me=!1,snapGrid:be=vF,onlyRenderVisibleElements:we=!1,selectNodesOnDrag:_=!0,nodesDraggable:V,nodesConnectable:Y,nodesFocusable:z,nodeOrigin:F=bF,edgesFocusable:W,edgesUpdatable:J,elementsSelectable:ee,defaultViewport:q=wF,minZoom:te=.5,maxZoom:oe=2,translateExtent:re=pc,preventScrolling:ie=!0,nodeExtent:he,defaultMarkerColor:ge="#b1b1b7",zoomOnScroll:Ue=!0,zoomOnPinch:Dt=!0,panOnScroll:Ie=!1,panOnScrollSpeed:Ke=.5,panOnScrollMode:ke=gr.Free,zoomOnDoubleClick:Et=!0,panOnDrag:zt=!0,onPaneClick:je,onPaneMouseEnter:bt,onPaneMouseMove:rr,onPaneMouseLeave:Ti,onPaneScroll:ir,onPaneContextMenu:Tr,children:Fn,onEdgeContextMenu:Ft,onEdgeDoubleClick:B0,onEdgeMouseEnter:W0,onEdgeMouseMove:H0,onEdgeMouseLeave:V0,onEdgeUpdate:q0,onEdgeUpdateStart:G0,onEdgeUpdateEnd:Y0,onReconnect:K0,onReconnectStart:Z0,onReconnectEnd:X0,reconnectRadius:Q0=10,edgeUpdaterRadius:J0=10,onNodesChange:ev,onEdgesChange:tv,noDragClassName:nv="nodrag",noWheelClassName:rv="nowheel",noPanClassName:Vf="nopan",fitView:iv=!1,fitViewOptions:av,connectOnClick:ov=!0,attributionPosition:lv,proOptions:sv,defaultEdgeOptions:uv,elevateNodesOnSelect:cv=!0,elevateEdgesOnSelect:fv=!1,disableKeyboardA11y:qf=!1,autoPanOnConnect:pv=!0,autoPanOnNodeDrag:dv=!0,connectionRadius:mv=20,isValidConnection:gv,onError:hv,style:yv,id:Gf,nodeDragThreshold:bv,...vv},wv)=>{const as=Gf||"1";return X.createElement("div",{...vv,style:{...yv,..._F},ref:wv,className:et(["react-flow",i]),"data-testid":"rf__wrapper",id:Gf},X.createElement(Hb,null,X.createElement(mF,{onInit:u,onMove:c,onMoveStart:f,onMoveEnd:d,onNodeClick:l,onEdgeClick:s,onNodeMouseEnter:h,onNodeMouseMove:v,onNodeMouseLeave:x,onNodeContextMenu:S,onNodeDoubleClick:T,nodeTypes:a,edgeTypes:o,connectionLineType:B,connectionLineStyle:P,connectionLineComponent:D,connectionLineContainerStyle:Z,selectionKeyCode:K,selectionOnDrag:ae,selectionMode:ue,deleteKeyCode:G,multiSelectionKeyCode:se,panActivationKeyCode:le,zoomActivationKeyCode:ce,onlyRenderVisibleElements:we,selectNodesOnDrag:_,defaultViewport:q,translateExtent:re,minZoom:te,maxZoom:oe,preventScrolling:ie,zoomOnScroll:Ue,zoomOnPinch:Dt,zoomOnDoubleClick:Et,panOnScroll:Ie,panOnScrollSpeed:Ke,panOnScrollMode:ke,panOnDrag:zt,onPaneClick:je,onPaneMouseEnter:bt,onPaneMouseMove:rr,onPaneMouseLeave:Ti,onPaneScroll:ir,onPaneContextMenu:Tr,onSelectionContextMenu:U,onSelectionStart:$,onSelectionEnd:O,onEdgeContextMenu:Ft,onEdgeDoubleClick:B0,onEdgeMouseEnter:W0,onEdgeMouseMove:H0,onEdgeMouseLeave:V0,onReconnect:K0??q0,onReconnectStart:Z0??G0,onReconnectEnd:X0??Y0,reconnectRadius:Q0??J0,defaultMarkerColor:ge,noDragClassName:nv,noWheelClassName:rv,noPanClassName:Vf,elevateEdgesOnSelect:fv,rfId:as,disableKeyboardA11y:qf,nodeOrigin:F,nodeExtent:he}),X.createElement(fE,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:b,onConnectEnd:y,onClickConnectStart:w,onClickConnectEnd:m,nodesDraggable:V,nodesConnectable:Y,nodesFocusable:z,edgesFocusable:W,edgesUpdatable:J,elementsSelectable:ee,elevateNodesOnSelect:cv,minZoom:te,maxZoom:oe,nodeExtent:he,onNodesChange:ev,onEdgesChange:tv,snapToGrid:me,snapGrid:be,connectionMode:k,translateExtent:re,connectOnClick:ov,defaultEdgeOptions:uv,fitView:iv,fitViewOptions:av,onNodesDelete:j,onEdgesDelete:H,onNodeDragStart:I,onNodeDrag:L,onNodeDragStop:N,onSelectionDrag:g,onSelectionDragStart:R,onSelectionDragStop:A,noPanClassName:Vf,nodeOrigin:F,rfId:as,autoPanOnConnect:pv,autoPanOnNodeDrag:dv,onError:hv,connectionRadius:mv,isValidConnection:gv,nodeDragThreshold:bv}),X.createElement(uE,{onSelectionChange:C}),Fn,X.createElement(z2,{proOptions:sv,position:lv}),X.createElement(hE,{rfId:as,disableKeyboardA11y:qf})))});Vb.displayName="ReactFlow";function qb(e){return t=>{const[n,r]=E.useState(t),i=E.useCallback(a=>r(o=>e(a,o)),[]);return[n,r,i]}}const xF=qb(Tb),kF=qb(AE),Gb=({id:e,x:t,y:n,width:r,height:i,style:a,color:o,strokeColor:l,strokeWidth:s,className:u,borderRadius:c,shapeRendering:f,onClick:d,selected:p})=>{const{background:b,backgroundColor:y}=a||{},w=o||b||y;return X.createElement("rect",{className:et(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:w,stroke:l,strokeWidth:s,shapeRendering:f,onClick:d?m=>d(m,e):void 0})};Gb.displayName="MiniMapNode";var SF=E.memo(Gb);const IF=e=>e.nodeOrigin,EF=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Ys=e=>e instanceof Function?e:()=>e;function FF({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:a=SF,onClick:o}){const l=Fe(EF,Ye),s=Fe(IF),u=Ys(t),c=Ys(e),f=Ys(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return X.createElement(X.Fragment,null,l.map(p=>{const{x:b,y}=wr(p,s).positionAbsolute;return X.createElement(a,{key:p.id,x:b,y,width:p.width,height:p.height,style:p.style,selected:p.selected,className:f(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:i,shapeRendering:d,onClick:o,id:p.id})}))}var NF=E.memo(FF);const CF=200,AF=150,TF=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?U2(rs(t,e.nodeOrigin),n):n,rfId:e.rfId}},OF="react-flow__minimap-desc";function Yb({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:a=5,nodeStrokeWidth:o=2,nodeComponent:l,maskColor:s="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:f="bottom-right",onClick:d,onNodeClick:p,pannable:b=!1,zoomable:y=!1,ariaLabel:w="React Flow mini map",inversePan:m=!1,zoomStep:h=10,offsetScale:v=5}){const x=Ve(),S=E.useRef(null),{boundingRect:T,viewBB:I,rfId:L}=Fe(TF,Ye),N=(e==null?void 0:e.width)??CF,j=(e==null?void 0:e.height)??AF,H=T.width/N,C=T.height/j,R=Math.max(H,C),g=R*N,A=R*j,U=v*R,$=T.x-(g-T.width)/2-U,O=T.y-(A-T.height)/2-U,k=g+U*2,B=A+U*2,P=`${OF}-${L}`,D=E.useRef(0);D.current=R,E.useEffect(()=>{if(S.current){const K=At(S.current),ae=se=>{const{transform:ce,d3Selection:me,d3Zoom:be}=x.getState();if(se.sourceEvent.type!=="wheel"||!me||!be)return;const we=-se.sourceEvent.deltaY*(se.sourceEvent.deltaMode===1?.05:se.sourceEvent.deltaMode?1:.002)*h,_=ce[2]*Math.pow(2,we);be.scaleTo(me,_)},ue=se=>{const{transform:ce,d3Selection:me,d3Zoom:be,translateExtent:we,width:_,height:V}=x.getState();if(se.sourceEvent.type!=="mousemove"||!me||!be)return;const Y=D.current*Math.max(1,ce[2])*(m?-1:1),z={x:ce[0]-se.sourceEvent.movementX*Y,y:ce[1]-se.sourceEvent.movementY*Y},F=[[0,0],[_,V]],W=hn.translate(z.x,z.y).scale(ce[2]),J=be.constrain()(W,F,we);be.transform(me,J)},le=Jy().on("zoom",b?ue:null).on("zoom.wheel",y?ae:null);return K.call(le),()=>{K.on("zoom",null)}}},[b,y,m,h]);const Z=d?K=>{const ae=jt(K);d(K,{x:ae[0],y:ae[1]})}:void 0,G=p?(K,ae)=>{const ue=x.getState().nodeInternals.get(ae);p(K,ue)}:void 0;return X.createElement(Ff,{position:f,style:e,className:et(["react-flow__minimap",t]),"data-testid":"rf__minimap"},X.createElement("svg",{width:N,height:j,viewBox:`${$} ${O} ${k} ${B}`,role:"img","aria-labelledby":P,ref:S,onClick:Z},w&&X.createElement("title",{id:P},w),X.createElement(NF,{onClick:G,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:a,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),X.createElement("path",{className:"react-flow__minimap-mask",d:`M${$-U},${O-U}h${k+U*2}v${B+U*2}h${-k-U*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fill:s,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Yb.displayName="MiniMap";var RF=E.memo(Yb);function PF(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},X.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function MF(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},X.createElement("path",{d:"M0 0h32v4.2H0z"}))}function DF(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},X.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function zF(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},X.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function LF(){return X.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},X.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Qi=({children:e,className:t,...n})=>X.createElement("button",{type:"button",className:et(["react-flow__controls-button",t]),...n},e);Qi.displayName="ControlButton";const $F=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Kb=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:a,onZoomOut:o,onFitView:l,onInteractiveChange:s,className:u,children:c,position:f="bottom-left"})=>{const d=Ve(),[p,b]=E.useState(!1),{isInteractive:y,minZoomReached:w,maxZoomReached:m}=Fe($F,Ye),{zoomIn:h,zoomOut:v,fitView:x}=Df();if(E.useEffect(()=>{b(!0)},[]),!p)return null;const S=()=>{h(),a==null||a()},T=()=>{v(),o==null||o()},I=()=>{x(i),l==null||l()},L=()=>{d.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),s==null||s(!y)};return X.createElement(Ff,{className:et(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&X.createElement(X.Fragment,null,X.createElement(Qi,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m},X.createElement(PF,null)),X.createElement(Qi,{onClick:T,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},X.createElement(MF,null))),n&&X.createElement(Qi,{className:"react-flow__controls-fitview",onClick:I,title:"fit view","aria-label":"fit view"},X.createElement(DF,null)),r&&X.createElement(Qi,{className:"react-flow__controls-interactive",onClick:L,title:"toggle interactivity","aria-label":"toggle interactivity"},y?X.createElement(LF,null):X.createElement(zF,null)),c)};Kb.displayName="Controls";var UF=E.memo(Kb),Yt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Yt||(Yt={}));function jF({color:e,dimensions:t,lineWidth:n}){return X.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function BF({color:e,radius:t}){return X.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const WF={[Yt.Dots]:"#91919a",[Yt.Lines]:"#eee",[Yt.Cross]:"#e2e2e2"},HF={[Yt.Dots]:1,[Yt.Lines]:1,[Yt.Cross]:6},VF=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Zb({id:e,variant:t=Yt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:a=2,color:o,style:l,className:s}){const u=E.useRef(null),{transform:c,patternId:f}=Fe(VF,Ye),d=o||WF[t],p=r||HF[t],b=t===Yt.Dots,y=t===Yt.Cross,w=Array.isArray(n)?n:[n,n],m=[w[0]*c[2]||1,w[1]*c[2]||1],h=p*c[2],v=y?[h,h]:m,x=b?[h/a,h/a]:[v[0]/a,v[1]/a];return X.createElement("svg",{className:et(["react-flow__background",s]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},X.createElement("pattern",{id:f+e,x:c[0]%m[0],y:c[1]%m[1],width:m[0],height:m[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${x[0]},-${x[1]})`},b?X.createElement(BF,{color:d,radius:h/a}):X.createElement(jF,{dimensions:v,color:d,lineWidth:i})),X.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}Zb.displayName="Background";var qF=E.memo(Zb);const Q={fsl:"brainlife/fsl",afni:"brainlife/afni",ants:"antsx/ants",freesurfer:"freesurfer/freesurfer",mrtrix3:"mrtrix3/mrtrix3",fmriprep:"nipreps/fmriprep",mriqc:"nipreps/mriqc"},Vt={bet:{id:"bet",cwlPath:"cwl/fsl/bet.cwl",dockerImage:Q.fsl,primaryOutputs:["brain_extraction"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input T1-weighted image",acceptedExtensions:[".nii",".nii.gz"]},output:{type:"string",label:"Output filename"}},optionalInputs:{overlay:{type:"boolean",label:"Generate brain outline image",flag:"-o"},mask:{type:"boolean",label:"Generate binary brain mask image",flag:"-m"},skull:{type:"boolean",label:"Generate skull-stripped image",flag:"-s"},ngenerate:{type:"boolean",label:"Do not generate the default output",flag:"-n"},frac:{type:"double",label:"Fractional intensity threshold",flag:"-f",bounds:[0,1]},vert_frac:{type:"double",label:"Vertical gradient in fractional intensity",flag:"-g",bounds:[-1,1]},radius:{type:"double",label:"Radius of the brain centre in mm",flag:"-r"},cog:{type:"string",label:'Center of gravity vox coordinates (e.g. "90 110 75")',flag:"-c"},threshold:{type:"boolean",label:"Use thresholding to estimate the brain centre",flag:"-t"},mesh:{type:"boolean",label:"Generate a mesh of the brain surface",flag:"-e"},exclusive:{type:"record",label:"Mutually exclusive BET modes (choose one)",variants:{robust:{type:"boolean",label:"Use robust fitting",flag:"-R"},eye:{type:"boolean",label:"Use eye mask",flag:"-S"},bias:{type:"boolean",label:"Use bias field correction",flag:"-B"},fov:{type:"boolean",label:"Use field of view",flag:"-Z"},fmri:{type:"boolean",label:"Use fMRI mode",flag:"-F"},betsurf:{type:"boolean",label:"Use BET surface mode",flag:"-A"},betsurfT2:{type:"File",label:"Use BET surface mode for T2-weighted images",flag:"-A2"}}}},outputs:{brain_extraction:{type:"File?",label:"Extracted brain image",glob:["$(inputs.output).nii","$(inputs.output).nii.gz"]},brain_mask:{type:"File?",label:"Binary brain mask",glob:["$(inputs.output)_mask.nii.gz","$(inputs.output)_mask.nii"],requires:"mask"},brain_skull:{type:"File?",label:"Skull-stripped image",glob:["$(inputs.output)_skull.nii.gz","$(inputs.output)_skull.nii"],requires:"skull"},brain_mesh:{type:"File?",label:"Brain surface mesh",glob:["$(inputs.output)_mesh.vtk"],requires:"mesh"},brain_registration:{type:"File[]",label:"Registration-related outputs",glob:["$(inputs.output)_inskull_*.*","$(inputs.output)_outskin_*.*","$(inputs.output)_outskull_*.*","$(inputs.output)_skull_mask.*"]},log:{type:"File",label:"Log file",glob:["$(inputs.output).log"]}}},fast:{id:"fast",cwlPath:"cwl/fsl/fast.cwl",dockerImage:Q.fsl,primaryOutputs:["segmented_files"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image (brain extracted recommended)",acceptedExtensions:[".nii",".nii.gz"]},output:{type:"string",label:"Output filename prefix"}},optionalInputs:{nclass:{type:"int",label:"Number of tissue classes",flag:"-n"},iterations:{type:"int",label:"Number of iterations during bias-field removal",flag:"-I"},lowpass:{type:"double",label:"Bias field smoothing extent (FWHM) in mm",flag:"-l"},image_type:{type:"int",label:"Image type (1=T1, 2=T2, 3=PD)",flag:"-t",options:[1,2,3]},fhard:{type:"double",label:"Initial segmentation spatial smoothness (during bias field estimation)",flag:"-f"},segments:{type:"boolean",label:"Output separate binary segmentation file for each tissue type",flag:"-g"},bias_field:{type:"boolean",label:"Output estimated bias field",flag:"-b"},bias_corrected_image:{type:"boolean",label:"Output bias-corrected image",flag:"-B"},nobias:{type:"boolean",label:"Do not remove bias field",flag:"-N"},channels:{type:"int",label:"Number of channels to use",flag:"-S"},initialization_iterations:{type:"int",label:"Initial number of segmentation-initialisation iterations",flag:"-W"},mixel:{type:"double",label:"Spatial smoothness for mixeltype",flag:"-R"},fixed:{type:"int",label:"Number of main-loop iterations after bias-field removal",flag:"-O"},hyper:{type:"double",label:"Segmentation spatial smoothness",flag:"-H"},manualseg:{type:"File",label:"Manual segmentation file",flag:"-s"},probability_maps:{type:"boolean",label:"Output individual probability maps",flag:"-p"},priors:{type:"record",label:"Prior initialization settings",variants:{initialize_priors:{type:"File",label:"FLIRT transformation file for prior initialization",flag:"-a"},use_priors:{type:"boolean",label:"Use priors",flag:"-P"}}}},outputs:{segmented_files:{type:"File[]",label:"Segmentation output files",glob:["$(inputs.output)_seg.nii.gz","$(inputs.output)_pve_*.nii.gz","$(inputs.output)_mixeltype.nii.gz","$(inputs.output)_pveseg.nii.gz"]},output_bias_field:{type:"File?",label:"Estimated bias field",glob:["$(inputs.output)_bias.nii.gz"],requires:"bias_field"},output_bias_corrected_image:{type:"File?",label:"Bias-corrected image",glob:["$(inputs.output)_restore.nii.gz"],requires:"bias_corrected_image"},output_probability_maps:{type:"File[]",label:"Individual probability maps",glob:["$(inputs.output)_prob_*.nii.gz"],requires:"probability_maps"},output_segments:{type:"File[]",label:"Separate binary segmentation files",glob:["$(inputs.output)_seg_*.nii.gz"],requires:"segments"},log:{type:"File",label:"Log file",glob:["$(inputs.output).log"]}}},fslreorient2std:{id:"fslreorient2std",cwlPath:"cwl/fsl/fslreorient2std.cwl",dockerImage:Q.fsl,primaryOutputs:["reoriented_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image to reorient",acceptedExtensions:[".nii",".nii.gz"]},output:{type:"string",label:"Output filename"}},optionalInputs:{},outputs:{reoriented_image:{type:"File",label:"Reoriented image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},log:{type:"File",label:"Log file",glob:["$(inputs.output).log"]}}},fslroi:{id:"fslroi",cwlPath:"cwl/fsl/fslroi.cwl",dockerImage:Q.fsl,primaryOutputs:["roi_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image"},output:{type:"string",label:"Output filename"}},optionalInputs:{x_min:{type:"int",label:"Minimum x index"},x_size:{type:"int",label:"Size in x dimension"},y_min:{type:"int",label:"Minimum y index"},y_size:{type:"int",label:"Size in y dimension"},z_min:{type:"int",label:"Minimum z index"},z_size:{type:"int",label:"Size in z dimension"},t_min:{type:"int",label:"Minimum time index"},t_size:{type:"int",label:"Number of time points"}},outputs:{roi_image:{type:"File",label:"ROI extracted image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},log:{type:"File",label:"Log file",glob:["$(inputs.output).log"]}}},fslsplit:{id:"fslsplit",cwlPath:"cwl/fsl/fslsplit.cwl",dockerImage:Q.fsl,primaryOutputs:["split_files"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 4D image"}},optionalInputs:{output_basename:{type:"string",label:"Output basename"},dimension:{type:"string",label:"Split dimension (t, x, y, z)",options:["t","x","y","z"]}},outputs:{split_files:{type:"File[]",label:"Split 3D volumes",glob:["*.nii.gz","*.nii"]},log:{type:"File",label:"Log file",glob:["fslsplit.log"]}}},fslmerge:{id:"fslmerge",cwlPath:"cwl/fsl/fslmerge.cwl",dockerImage:Q.fsl,primaryOutputs:["merged_image"],requiredInputs:{dimension:{type:"string",label:"Merge dimension (t, x, y, z, a)"},output:{type:"string",label:"Output filename"},input_files:{type:"File[]",passthrough:!0,label:"Input files to merge"}},optionalInputs:{tr:{type:"double",label:"TR in seconds (for time merge)"}},outputs:{merged_image:{type:"File",label:"Merged image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},log:{type:"File",label:"Log file",glob:["$(inputs.output).log"]}}},fslstats:{id:"fslstats",cwlPath:"cwl/fsl/fslstats.cwl",dockerImage:Q.fsl,primaryOutputs:["stats_output"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image"}},optionalInputs:{mask:{type:"File",label:"Mask image",flag:"-k"},robust_range:{type:"boolean",label:"Robust min/max (2nd/98th percentile)",flag:"-r"},mean:{type:"boolean",label:"Output mean",flag:"-m"},std:{type:"boolean",label:"Output standard deviation",flag:"-s"},volume:{type:"boolean",label:"Output voxel count",flag:"-v"}},outputs:{stats_output:{type:"File",label:"Statistics output",glob:["fslstats_output.txt"]},log:{type:"File",label:"Log file",glob:["fslstats.log"]}}},fslmeants:{id:"fslmeants",cwlPath:"cwl/fsl/fslmeants.cwl",dockerImage:Q.fsl,primaryOutputs:["timeseries"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 4D image"},output:{type:"string",label:"Output text file"}},optionalInputs:{mask:{type:"File",label:"Mask image",flag:"-m"},label:{type:"File",label:"Label image",flag:"--label"},eig:{type:"boolean",label:"Calculate eigenvariates",flag:"--eig"},transpose:{type:"boolean",label:"Transpose output",flag:"--transpose"}},outputs:{timeseries:{type:"File",label:"Time series output",glob:["$(inputs.output)"]},log:{type:"File",label:"Log file",glob:["fslmeants.log"]}}},cluster:{id:"cluster",cwlPath:"cwl/fsl/cluster.cwl",dockerImage:Q.fsl,primaryOutputs:["cluster_table"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input statistical image"},threshold:{type:"double",label:"Cluster-forming threshold"}},optionalInputs:{oindex:{type:"string",label:"Output cluster index image",flag:"--oindex"},othresh:{type:"string",label:"Output thresholded image",flag:"--othresh"},osize:{type:"string",label:"Output cluster size image",flag:"--osize"},pthresh:{type:"double",label:"P-value threshold",flag:"--pthresh"},cope:{type:"File",label:"COPE image",flag:"--cope"},mm:{type:"boolean",label:"Use mm coordinates",flag:"--mm"}},outputs:{cluster_table:{type:"File",label:"Cluster table",glob:["cluster_table.txt"]},cluster_index:{type:"File?",label:"Cluster index image",glob:["$(inputs.oindex).nii.gz","$(inputs.oindex).nii"]},log:{type:"File",label:"Log file",glob:["cluster.log"]}}},mcflirt:{id:"mcflirt",cwlPath:"cwl/fsl/mcflirt.cwl",dockerImage:Q.fsl,primaryOutputs:["motion_corrected"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 4D timeseries",acceptedExtensions:[".nii",".nii.gz"]},output:{type:"string",label:"Output filename"}},optionalInputs:{ref_vol:{type:"int",label:"Reference volume number",flag:"-refvol"},cost:{type:"string",label:"Cost function",flag:"-cost",options:["mutualinfo","corratio","normcorr","normmi","leastsquares"]},save_mats:{type:"boolean",label:"Save transformation matrices",flag:"-mats"},save_plots:{type:"boolean",label:"Save motion plots",flag:"-plots"},mean_vol:{type:"boolean",label:"Register to mean volume",flag:"-meanvol"}},outputs:{motion_corrected:{type:"File",label:"Motion corrected image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},motion_parameters:{type:"File?",label:"Motion parameters",glob:["$(inputs.output).par"]},log:{type:"File",label:"Log file",glob:["mcflirt.log"]}}},slicetimer:{id:"slicetimer",cwlPath:"cwl/fsl/slicetimer.cwl",dockerImage:Q.fsl,primaryOutputs:["slice_time_corrected"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 4D timeseries"},output:{type:"string",label:"Output filename"}},optionalInputs:{tr:{type:"double",label:"TR in seconds",flag:"--repeat"},direction:{type:"int",label:"Slice direction (1=x, 2=y, 3=z)",flag:"--direction"}},outputs:{slice_time_corrected:{type:"File",label:"Slice-time corrected image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},log:{type:"File",label:"Log file",glob:["slicetimer.log"]}}},susan:{id:"susan",cwlPath:"cwl/fsl/susan.cwl",dockerImage:Q.fsl,primaryOutputs:["smoothed_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image"},brightness_threshold:{type:"double",label:"Brightness threshold"},fwhm:{type:"double",label:"FWHM in mm"},output:{type:"string",label:"Output filename"}},optionalInputs:{dimension:{type:"int",label:"Dimensionality (2 or 3)"},use_median:{type:"int",label:"Use median (1) or mean (0)"}},outputs:{smoothed_image:{type:"File",label:"Smoothed image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii","$(inputs.output)"]},log:{type:"File",label:"Log file",glob:["susan.log"]}}},flirt:{id:"flirt",cwlPath:"cwl/fsl/flirt.cwl",dockerImage:Q.fsl,primaryOutputs:["registered_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image",acceptedExtensions:[".nii",".nii.gz"]},reference:{type:"File",label:"Reference image"},output:{type:"string",label:"Output filename"}},optionalInputs:{output_matrix:{type:"string",label:"Output matrix filename",flag:"-omat"},dof:{type:"int",label:"Degrees of freedom (6, 7, 9, 12)",flag:"-dof"},cost:{type:"string",label:"Cost function",flag:"-cost",options:["mutualinfo","corratio","normcorr","normmi","leastsq","bbr"]},interp:{type:"string",label:"Interpolation",flag:"-interp",options:["trilinear","nearestneighbour","sinc","spline"]},init_matrix:{type:"File",label:"Initial matrix",flag:"-init"},apply_xfm:{type:"boolean",label:"Apply transformation",flag:"-applyxfm"}},outputs:{registered_image:{type:"File?",label:"Registered image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},transformation_matrix:{type:"File?",label:"Transformation matrix",glob:["$(inputs.output_matrix)"]},log:{type:"File",label:"Log file",glob:["flirt.log"]}}},applywarp:{id:"applywarp",cwlPath:"cwl/fsl/applywarp.cwl",dockerImage:Q.fsl,primaryOutputs:["warped_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image"},reference:{type:"File",label:"Reference image"},output:{type:"string",label:"Output filename"}},optionalInputs:{warp:{type:"File",label:"Warp field",flag:"--warp"},premat:{type:"File",label:"Pre-transform matrix",flag:"--premat"},postmat:{type:"File",label:"Post-transform matrix",flag:"--postmat"},interp:{type:"string",label:"Interpolation",flag:"--interp",options:["nn","trilinear","sinc","spline"]}},outputs:{warped_image:{type:"File",label:"Warped image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},log:{type:"File",label:"Log file",glob:["applywarp.log"]}}},invwarp:{id:"invwarp",cwlPath:"cwl/fsl/invwarp.cwl",dockerImage:Q.fsl,primaryOutputs:["inverse_warp"],requiredInputs:{warp:{type:"File",passthrough:!0,label:"Warp field to invert"},reference:{type:"File",label:"Reference image"},output:{type:"string",label:"Output filename"}},optionalInputs:{relative:{type:"boolean",label:"Relative warp",flag:"--rel"},absolute:{type:"boolean",label:"Absolute warp",flag:"--abs"},noconstraint:{type:"boolean",label:"No Jacobian constraint",flag:"--noconstraint"}},outputs:{inverse_warp:{type:"File",label:"Inverse warp field",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},log:{type:"File",label:"Log file",glob:["invwarp.log"]}}},convertwarp:{id:"convertwarp",cwlPath:"cwl/fsl/convertwarp.cwl",dockerImage:Q.fsl,primaryOutputs:["combined_warp"],requiredInputs:{reference:{type:"File",label:"Reference image"},output:{type:"string",label:"Output filename"}},optionalInputs:{warp1:{type:"File",label:"First warp field",flag:"--warp1"},warp2:{type:"File",label:"Second warp field",flag:"--warp2"},premat:{type:"File",label:"Pre-transform matrix",flag:"--premat"},postmat:{type:"File",label:"Post-transform matrix",flag:"--postmat"},shiftmap:{type:"File",label:"Shift map",flag:"--shiftmap"}},outputs:{combined_warp:{type:"File",label:"Combined warp field",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},log:{type:"File",label:"Log file",glob:["convertwarp.log"]}}},fslmaths:{id:"fslmaths",cwlPath:"cwl/fsl/fslmaths.cwl",dockerImage:Q.fsl,primaryOutputs:["output_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image"},output:{type:"string",label:"Output filename"}},optionalInputs:{add_value:{type:"double",label:"Add value",flag:"-add"},sub_value:{type:"double",label:"Subtract value",flag:"-sub"},mul_value:{type:"double",label:"Multiply by value",flag:"-mul"},div_value:{type:"double",label:"Divide by value",flag:"-div"},thr:{type:"double",label:"Lower threshold",flag:"-thr"},uthr:{type:"double",label:"Upper threshold",flag:"-uthr"},bin:{type:"boolean",label:"Binarize",flag:"-bin"},mas:{type:"File",label:"Apply mask",flag:"-mas"},s:{type:"double",label:"Gaussian smoothing sigma",flag:"-s"},Tmean:{type:"boolean",label:"Mean across time",flag:"-Tmean"},Tstd:{type:"boolean",label:"Std across time",flag:"-Tstd"}},outputs:{output_image:{type:"File",label:"Output image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii","$(inputs.output)"]},log:{type:"File",label:"Log file",glob:["fslmaths.log"]}}},fnirt:{id:"fnirt",cwlPath:"cwl/fsl/fnirt.cwl",dockerImage:Q.fsl,primaryOutputs:["warped_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image"},reference:{type:"File",label:"Reference image"}},optionalInputs:{affine:{type:"File",label:"Affine matrix from FLIRT",flag:"--aff"},config:{type:"File",label:"Configuration file",flag:"--config"},cout:{type:"string",label:"Output warp coefficients",flag:"--cout"},iout:{type:"string",label:"Output warped image",flag:"--iout"},fout:{type:"string",label:"Output displacement field",flag:"--fout"},warpres:{type:"string",label:"Warp resolution (mm)",flag:"--warpres"},refmask:{type:"File",label:"Reference mask",flag:"--refmask"}},outputs:{warp_coefficients:{type:"File?",label:"Warp coefficients",glob:["$(inputs.cout).nii.gz","$(inputs.cout).nii"]},warped_image:{type:"File?",label:"Warped image",glob:["$(inputs.iout).nii.gz","$(inputs.iout).nii"]},displacement_field:{type:"File?",label:"Displacement field",glob:["$(inputs.fout).nii.gz","$(inputs.fout).nii"]},log:{type:"File",label:"Log file",glob:["fnirt.log"]}}},fugue:{id:"fugue",cwlPath:"cwl/fsl/fugue.cwl",dockerImage:Q.fsl,primaryOutputs:["unwarped_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"EPI image to unwarp"}},optionalInputs:{loadfmap:{type:"File",label:"Fieldmap in rad/s",flag:"--loadfmap"},unwarp:{type:"string",label:"Output unwarped image",flag:"-u"},dwell:{type:"double",label:"Dwell time (seconds)",flag:"--dwell"},unwarpdir:{type:"string",label:"Unwarp direction",flag:"--unwarpdir",options:["x","y","z","x-","y-","z-"]},mask:{type:"File",label:"Brain mask",flag:"--mask"}},outputs:{unwarped_image:{type:"File?",label:"Unwarped image",glob:["$(inputs.unwarp).nii.gz","$(inputs.unwarp).nii"]},log:{type:"File",label:"Log file",glob:["fugue.log"]}}},topup:{id:"topup",cwlPath:"cwl/fsl/topup.cwl",dockerImage:Q.fsl,primaryOutputs:["fieldcoef"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 4D with reversed PE images"},encoding_file:{type:"File",label:"Acquisition parameters file"},output:{type:"string",label:"Output basename"}},optionalInputs:{config:{type:"File",label:"Configuration file",flag:"--config"},fout:{type:"string",label:"Output fieldmap",flag:"--fout"},iout:{type:"string",label:"Output corrected images",flag:"--iout"},warpres:{type:"string",label:"Warp resolution",flag:"--warpres"}},outputs:{fieldcoef:{type:"File",label:"Field coefficients",glob:["$(inputs.output)_fieldcoef.nii.gz","$(inputs.output)_fieldcoef.nii"]},movpar:{type:"File",label:"Movement parameters",glob:["$(inputs.output)_movpar.txt"]},fieldmap:{type:"File?",label:"Fieldmap",glob:["$(inputs.fout).nii.gz","$(inputs.fout).nii"]},log:{type:"File",label:"Log file",glob:["topup.log"]}}},film_gls:{id:"film_gls",cwlPath:"cwl/fsl/film_gls.cwl",dockerImage:Q.fsl,primaryOutputs:["results"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 4D data"},design_file:{type:"File",label:"Design matrix file"}},optionalInputs:{threshold:{type:"double",label:"Threshold (default 1000)"},results_dir:{type:"string",label:"Results directory",flag:"-rn"},autocorr_noestimate:{type:"boolean",label:"No autocorrelation estimation",flag:"-noest"},smooth_autocorr:{type:"boolean",label:"Smooth autocorrelation",flag:"-sa"}},outputs:{results:{type:"Directory",label:"Results directory",glob:["results"]},log:{type:"File",label:"Log file",glob:["film_gls.log"]}}},flameo:{id:"flameo",cwlPath:"cwl/fsl/flameo.cwl",dockerImage:Q.fsl,primaryOutputs:["stats_dir"],requiredInputs:{cope_file:{type:"File",passthrough:!0,label:"COPE file"},mask_file:{type:"File",label:"Mask file"},design_file:{type:"File",label:"Design matrix"},t_con_file:{type:"File",label:"T-contrast file"},cov_split_file:{type:"File",label:"Covariance split file"},run_mode:{type:"string",label:"Run mode (fe, ols, flame1, flame12)"}},optionalInputs:{var_cope_file:{type:"File",label:"Variance COPE file",flag:"--varcopefile"},f_con_file:{type:"File",label:"F-contrast file",flag:"--fcontrastsfile"},log_dir:{type:"string",label:"Output directory",flag:"--ld"}},outputs:{stats_dir:{type:"Directory",label:"Statistics directory",glob:["stats"]},log:{type:"File",label:"Log file",glob:["flameo.log"]}}},randomise:{id:"randomise",cwlPath:"cwl/fsl/randomise.cwl",dockerImage:Q.fsl,primaryOutputs:["tstat"],requiredInputs:{input:{type:"File",passthrough:!0,label:"4D input image"},output:{type:"string",label:"Output basename"}},optionalInputs:{design_mat:{type:"File",label:"Design matrix",flag:"-d"},tcon:{type:"File",label:"T-contrast file",flag:"-t"},fcon:{type:"File",label:"F-contrast file",flag:"-f"},mask:{type:"File",label:"Mask image",flag:"-m"},num_perm:{type:"int",label:"Number of permutations",flag:"-n"},tfce:{type:"boolean",label:"Use TFCE",flag:"-T"},one_sample_group_mean:{type:"boolean",label:"One-sample test",flag:"-1"},vox_p_values:{type:"boolean",label:"Voxelwise p-values",flag:"-x"}},outputs:{tstat:{type:"File[]",label:"T-statistic images",glob:["$(inputs.output)_tstat*.nii.gz"]},t_corrp:{type:"File[]",label:"Corrected p-value images",glob:["$(inputs.output)_tfce_corrp_tstat*.nii.gz","$(inputs.output)_vox_corrp_tstat*.nii.gz"]},log:{type:"File",label:"Log file",glob:["randomise.log"]}}},melodic:{id:"melodic",cwlPath:"cwl/fsl/melodic.cwl",dockerImage:Q.fsl,primaryOutputs:["melodic_IC"],requiredInputs:{input_files:{type:"File",passthrough:!0,label:"Input file(s)"},output_dir:{type:"string",label:"Output directory"}},optionalInputs:{dim:{type:"int",label:"Number of dimensions",flag:"-d"},approach:{type:"string",label:"ICA approach",flag:"-a",options:["defl","symm","tica","concat"]},tr_sec:{type:"double",label:"TR in seconds",flag:"--tr"},no_bet:{type:"boolean",label:"Skip brain extraction",flag:"--nobet"},mask:{type:"File",label:"Mask file",flag:"-m"},report:{type:"boolean",label:"Generate report",flag:"--report"},out_all:{type:"boolean",label:"Output all",flag:"--Oall"}},outputs:{output_directory:{type:"Directory",label:"Output directory",glob:["$(inputs.output_dir)"]},melodic_IC:{type:"File?",label:"IC spatial maps",glob:["$(inputs.output_dir)/melodic_IC.nii.gz"]},melodic_mix:{type:"File?",label:"Mixing matrix",glob:["$(inputs.output_dir)/melodic_mix"]},log:{type:"File",label:"Log file",glob:["melodic.log"]}}},dual_regression:{id:"dual_regression",cwlPath:"cwl/fsl/dual_regression.cwl",dockerImage:Q.fsl,primaryOutputs:["stage2_spatial_maps"],requiredInputs:{group_IC_maps:{type:"File",passthrough:!0,label:"Group ICA maps"},des_norm:{type:"int",label:"Variance normalize (0 or 1)"},design_mat:{type:"File",label:"Design matrix"},design_con:{type:"File",label:"Contrast file"},n_perm:{type:"int",label:"Number of permutations"},output_dir:{type:"string",label:"Output directory"},input_files:{type:"File[]",label:"Input 4D files"}},optionalInputs:{},outputs:{output_directory:{type:"Directory",label:"Output directory",glob:["$(inputs.output_dir)"]},stage1_timeseries:{type:"File[]",label:"Stage 1 timeseries",glob:["$(inputs.output_dir)/dr_stage1_subject*.txt"]},stage2_spatial_maps:{type:"File[]",label:"Stage 2 spatial maps",glob:["$(inputs.output_dir)/dr_stage2_subject*.nii.gz"]},log:{type:"File",label:"Log file",glob:["dual_regression.log"]}}},run_first_all:{id:"run_first_all",cwlPath:"cwl/fsl/run_first_all.cwl",dockerImage:Q.fsl,primaryOutputs:["segmentation_files"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input T1 image"},output:{type:"string",label:"Output basename"}},optionalInputs:{brain_extracted:{type:"boolean",label:"Input is brain extracted",flag:"-b"},method:{type:"string",label:"Boundary correction method",flag:"-m",options:["auto","fast","none"]},structures:{type:"string",label:"Structures to segment",flag:"-s"}},outputs:{segmentation_files:{type:"File[]",label:"Segmentation files",glob:["$(inputs.output)*_first*.nii.gz","$(inputs.output)*_firstseg.nii.gz"]},vtk_meshes:{type:"File[]",label:"VTK meshes",glob:["$(inputs.output)*.vtk"]},log:{type:"File",label:"Log file",glob:["run_first_all.log"]}}},sienax:{id:"sienax",cwlPath:"cwl/fsl/sienax.cwl",dockerImage:Q.fsl,primaryOutputs:["report"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input T1 image"}},optionalInputs:{output_dir:{type:"string",label:"Output directory",flag:"-o"},bet_options:{type:"string",label:"BET options",flag:"-B"},two_class:{type:"boolean",label:"Two-class segmentation",flag:"-2"},regional:{type:"boolean",label:"Estimate regional volumes",flag:"-r"},lesion_mask:{type:"File",label:"Lesion mask",flag:"-lm"}},outputs:{output_directory:{type:"Directory",label:"Output directory",glob:["*_sienax"]},report:{type:"File",label:"SIENAX report",glob:["*_sienax/report.sienax"]},log:{type:"File",label:"Log file",glob:["sienax.log"]}}},siena:{id:"siena",cwlPath:"cwl/fsl/siena.cwl",dockerImage:Q.fsl,primaryOutputs:["report"],requiredInputs:{input1:{type:"File",passthrough:!0,label:"Input T1 (timepoint 1)"},input2:{type:"File",label:"Input T1 (timepoint 2)"}},optionalInputs:{output_dir:{type:"string",label:"Output directory",flag:"-o"},bet_options:{type:"string",label:"BET options",flag:"-B"},two_class:{type:"boolean",label:"Two-class segmentation",flag:"-2"},ventricle_analysis:{type:"boolean",label:"Ventricular analysis",flag:"-V"}},outputs:{output_directory:{type:"Directory",label:"Output directory",glob:["*_to_*_siena"]},report:{type:"File",label:"SIENA report",glob:["*_to_*_siena/report.siena"]},edge_points:{type:"File[]?",label:"Edge point images",glob:["*_to_*_siena/*_edge*.nii.gz","*_to_*_siena/*_edge*.nii"]},flow_images:{type:"File[]?",label:"Flow images",glob:["*_to_*_siena/*_flow*.nii.gz","*_to_*_siena/*_flow*.nii"]},log:{type:"File",label:"Log file",glob:["siena.log"]}}},fsl_anat:{id:"fsl_anat",cwlPath:"cwl/fsl/fsl_anat.cwl",dockerImage:Q.fsl,primaryOutputs:["t1_biascorr_brain"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input structural image"}},optionalInputs:{output_dir:{type:"string",label:"Output directory",flag:"-o"},t2:{type:"boolean",label:"Input is T2-weighted",flag:"--t2"},nobias:{type:"boolean",label:"Skip bias correction",flag:"--nobias"},noreg:{type:"boolean",label:"Skip registration",flag:"--noreg"},noseg:{type:"boolean",label:"Skip segmentation",flag:"--noseg"},nosubcortseg:{type:"boolean",label:"Skip subcortical seg",flag:"--nosubcortseg"},betfparam:{type:"double",label:"BET -f parameter",flag:"--betfparam"}},outputs:{output_directory:{type:"Directory",label:"Output directory",glob:["*.anat"]},t1_biascorr_brain:{type:"File?",label:"Bias-corrected brain",glob:["*.anat/T1_biascorr_brain.nii.gz"]},segmentation:{type:"File?",label:"Tissue segmentation",glob:["*.anat/T1_fast_seg.nii.gz"]},log:{type:"File",label:"Log file",glob:["fsl_anat.log"]}}},probtrackx2:{id:"probtrackx2",cwlPath:"cwl/fsl/probtrackx2.cwl",dockerImage:Q.fsl,primaryOutputs:["fdt_paths"],requiredInputs:{samples:{type:"string",label:"Samples basename"},mask:{type:"File",label:"Brain mask"},seed:{type:"File",passthrough:!0,label:"Seed volume"},output_dir:{type:"string",label:"Output directory"}},optionalInputs:{n_samples:{type:"int",label:"Number of samples",flag:"--nsamples"},n_steps:{type:"int",label:"Steps per sample",flag:"--nsteps"},c_thresh:{type:"double",label:"Curvature threshold",flag:"--cthr"},waypoints:{type:"File",label:"Waypoint mask",flag:"--waypoints"},avoid:{type:"File",label:"Exclusion mask",flag:"--avoid"},stop:{type:"File",label:"Stop mask",flag:"--stop"},loopcheck:{type:"boolean",label:"Loop checking",flag:"--loopcheck"},opd:{type:"boolean",label:"Output path distribution",flag:"--opd"},xfm:{type:"File",label:"Transform matrix",flag:"--xfm"}},outputs:{output_directory:{type:"Directory",label:"Output directory",glob:["$(inputs.output_dir)"]},fdt_paths:{type:"File?",label:"Path distribution",glob:["$(inputs.output_dir)/fdt_paths.nii.gz"]},way_total:{type:"File?",label:"Waypoint totals",glob:["$(inputs.output_dir)/waytotal"]},log:{type:"File",label:"Log file",glob:["probtrackx2.log"]}}},"3dSkullStrip":{id:"3dSkullStrip",cwlPath:"cwl/afni/3dSkullStrip.cwl",dockerImage:Q.afni,primaryOutputs:["skull_stripped"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input volume",acceptedExtensions:[".nii",".nii.gz","+orig.*","+tlrc.*"]},prefix:{type:"string",label:"Output volume prefix"}},optionalInputs:{mask_vol:{type:"boolean",label:"Output mask volume",flag:"-mask_vol"},orig_vol:{type:"boolean",label:"Preserve original intensity",flag:"-orig_vol"},shrink_fac:{type:"double",label:"Shrink factor (0-1)",flag:"-shrink_fac",bounds:[0,1]},push_to_edge:{type:"boolean",label:"Push to brain edges",flag:"-push_to_edge"},blur_fwhm:{type:"double",label:"Blur kernel FWHM",flag:"-blur_fwhm"}},outputs:{skull_stripped:{type:"File",label:"Skull-stripped output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},mask:{type:"File?",label:"Brain mask",glob:["$(inputs.prefix)_mask*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dvolreg":{id:"3dvolreg",cwlPath:"cwl/afni/3dvolreg.cwl",dockerImage:Q.afni,primaryOutputs:["registered"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 4D dataset",acceptedExtensions:[".nii",".nii.gz","+orig.*","+tlrc.*"]},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{base:{type:"int",label:"Base volume index",flag:"-base"},dfile:{type:"string",label:"Motion parameters file",flag:"-dfile"},oned_file:{type:"string",label:"1D motion file",flag:"-1Dfile"},twopass:{type:"boolean",label:"Two-pass registration",flag:"-twopass"},verbose:{type:"boolean",label:"Verbose output",flag:"-verbose"}},outputs:{registered:{type:"File",label:"Registered output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},motion_params:{type:"File?",label:"Motion parameters",glob:["$(inputs.dfile)"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dTshift":{id:"3dTshift",cwlPath:"cwl/afni/3dTshift.cwl",dockerImage:Q.afni,primaryOutputs:["shifted"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 3D+time dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{TR:{type:"double",label:"TR in seconds",flag:"-TR"},tzero:{type:"double",label:"Align to time offset",flag:"-tzero"},tpattern:{type:"string",label:"Slice timing pattern",flag:"-tpattern"},ignore:{type:"int",label:"Ignore first N points",flag:"-ignore"}},outputs:{shifted:{type:"File",label:"Time-shifted output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dDespike":{id:"3dDespike",cwlPath:"cwl/afni/3dDespike.cwl",dockerImage:Q.afni,primaryOutputs:["despiked"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 3D+time dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{ignore:{type:"int",label:"Ignore first I points",flag:"-ignore"},corder:{type:"int",label:"Curve fit order",flag:"-corder"},nomask:{type:"boolean",label:"Process all voxels",flag:"-nomask"},NEW:{type:"boolean",label:"Use faster method",flag:"-NEW"}},outputs:{despiked:{type:"File",label:"Despiked output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dBandpass":{id:"3dBandpass",cwlPath:"cwl/afni/3dBandpass.cwl",dockerImage:Q.afni,primaryOutputs:["filtered"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 3D+time dataset"},prefix:{type:"string",label:"Output prefix"},fbot:{type:"double",label:"Low frequency (Hz)"},ftop:{type:"double",label:"High frequency (Hz)"}},optionalInputs:{despike:{type:"boolean",label:"Despike before processing",flag:"-despike"},automask:{type:"boolean",label:"Auto-generate mask",flag:"-automask"},blur:{type:"double",label:"Spatial blur FWHM",flag:"-blur"},norm:{type:"boolean",label:"Normalize output",flag:"-norm"}},outputs:{filtered:{type:"File",label:"Bandpassed output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dBlurToFWHM":{id:"3dBlurToFWHM",cwlPath:"cwl/afni/3dBlurToFWHM.cwl",dockerImage:Q.afni,primaryOutputs:["blurred"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{FWHM:{type:"double",label:"Target 3D FWHM (mm)",flag:"-FWHM"},FWHMxy:{type:"double",label:"Target 2D FWHM (mm)",flag:"-FWHMxy"},automask:{type:"boolean",label:"Auto-generate mask",flag:"-automask"},ACF:{type:"boolean",label:"Use ACF method",flag:"-ACF"}},outputs:{blurred:{type:"File",label:"Blurred output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dmerge":{id:"3dmerge",cwlPath:"cwl/afni/3dmerge.cwl",dockerImage:Q.afni,primaryOutputs:["merged"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{blur_fwhm:{type:"double",label:"Gaussian blur FWHM",flag:"-1blur_fwhm"},clust:{type:"string",label:"Cluster parameters (rmm vmul)",flag:"-1clust"},noneg:{type:"boolean",label:"Zero out negative values",flag:"-1noneg"},doall:{type:"boolean",label:"Apply to all sub-bricks",flag:"-doall"}},outputs:{merged:{type:"File",label:"Merged output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dAllineate":{id:"3dAllineate",cwlPath:"cwl/afni/3dAllineate.cwl",dockerImage:Q.afni,primaryOutputs:["aligned"],requiredInputs:{source:{type:"File",passthrough:!0,label:"Source dataset"},base:{type:"File",label:"Base/reference dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{cost:{type:"string",label:"Cost function",flag:"-cost",options:["ls","mi","crM","nmi","hel","lpc"]},warp:{type:"string",label:"Warp type",flag:"-warp",options:["shift_only","shift_rotate","shift_rotate_scale","affine_general"]},interp:{type:"string",label:"Interpolation",flag:"-interp",options:["NN","linear","cubic","quintic"]},oned_matrix_save:{type:"string",label:"Save transformation matrix",flag:"-1Dmatrix_save"},autoweight:{type:"boolean",label:"Auto-compute weights",flag:"-autoweight"}},outputs:{aligned:{type:"File",label:"Aligned output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},matrix:{type:"File?",label:"Transformation matrix",glob:["$(inputs.oned_matrix_save)"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dQwarp":{id:"3dQwarp",cwlPath:"cwl/afni/3dQwarp.cwl",dockerImage:Q.afni,primaryOutputs:["warped"],requiredInputs:{source:{type:"File",passthrough:!0,label:"Source dataset"},base:{type:"File",label:"Base/template dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{allineate:{type:"boolean",label:"Affine alignment first",flag:"-allineate"},blur:{type:"string",label:"Blur amount (voxels)",flag:"-blur"},minpatch:{type:"int",label:"Minimum patch size",flag:"-minpatch"},iwarp:{type:"boolean",label:"Compute inverse warp",flag:"-iwarp"}},outputs:{warped:{type:"File?",label:"Warped output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},warp:{type:"File?",label:"Warp field",glob:["$(inputs.prefix)_WARP+orig.*","$(inputs.prefix)_WARP+tlrc.*","$(inputs.prefix)_WARP.nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dUnifize":{id:"3dUnifize",cwlPath:"cwl/afni/3dUnifize.cwl",dockerImage:Q.afni,primaryOutputs:["unifized"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{T2:{type:"boolean",label:"Process as T2-weighted",flag:"-T2"},EPI:{type:"boolean",label:"Process EPI time series",flag:"-EPI"},GM:{type:"boolean",label:"Unifize gray matter",flag:"-GM"}},outputs:{unifized:{type:"File",label:"Unifized output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dAutomask":{id:"3dAutomask",cwlPath:"cwl/afni/3dAutomask.cwl",dockerImage:Q.afni,primaryOutputs:["mask"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"},prefix:{type:"string",label:"Output mask prefix"}},optionalInputs:{clfrac:{type:"double",label:"Clip level fraction",flag:"-clfrac",bounds:[.1,.9]},dilate:{type:"int",label:"Dilate mask N times",flag:"-dilate"},erode:{type:"int",label:"Erode mask N times",flag:"-erode"},peels:{type:"int",label:"Erode then dilate N times",flag:"-peels"}},outputs:{mask:{type:"File",label:"Output mask",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dTcat":{id:"3dTcat",cwlPath:"cwl/afni/3dTcat.cwl",dockerImage:Q.afni,primaryOutputs:["concatenated"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset(s)"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{rlt:{type:"boolean",label:"Remove linear trends",flag:"-rlt"},tr:{type:"double",label:"TR in seconds",flag:"-tr"},verb:{type:"boolean",label:"Verbose output",flag:"-verb"}},outputs:{concatenated:{type:"File",label:"Concatenated output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"@auto_tlrc":{id:"@auto_tlrc",cwlPath:"cwl/afni/auto_tlrc.cwl",dockerImage:Q.afni,primaryOutputs:["tlrc_anat"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input anatomical"},base:{type:"File",label:"Template in standard space"}},optionalInputs:{no_ss:{type:"boolean",label:"Do not skull strip",flag:"-no_ss"},dxyz:{type:"double",label:"Voxel size (mm)",flag:"-dxyz"},xform:{type:"string",label:"Warp type",flag:"-xform",options:["affine_general","shift_rotate_scale"]}},outputs:{tlrc_anat:{type:"File",label:"TLRC-aligned anatomical",glob:["*+orig.*","*+tlrc.*","*.nii*"]},transform:{type:"File?",label:"Transform file",glob:["*.Xat.1D"]},log:{type:"File?",label:"Log file",glob:["*.log"]}}},"@SSwarper":{id:"@SSwarper",cwlPath:"cwl/afni/SSwarper.cwl",dockerImage:Q.afni,primaryOutputs:["skull_stripped","warped"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input anatomical"},base:{type:"File",label:"Base template"},subid:{type:"string",label:"Subject ID"}},optionalInputs:{odir:{type:"string",label:"Output directory",flag:"-odir"},minp:{type:"int",label:"Minimum patch size",flag:"-minp"},giant_move:{type:"boolean",label:"Large movement alignment",flag:"-giant_move"}},outputs:{skull_stripped:{type:"File",label:"Skull-stripped output",glob:["anatSS.$(inputs.subid)+orig.*","anatSS.$(inputs.subid)+tlrc.*","anatSS.$(inputs.subid).nii*"]},warped:{type:"File",label:"Warped to template",glob:["anatQQ.$(inputs.subid)+orig.*","anatQQ.$(inputs.subid)+tlrc.*","anatQQ.$(inputs.subid).nii*"]},warp:{type:"File",label:"Warp field",glob:["anatQQ.$(inputs.subid)_WARP+orig.*","anatQQ.$(inputs.subid)_WARP+tlrc.*","anatQQ.$(inputs.subid)_WARP.nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.subid)_SSwarper.log"]}}},align_epi_anat:{id:"align_epi_anat",cwlPath:"cwl/afni/align_epi_anat.cwl",dockerImage:Q.afni,primaryOutputs:["aligned_anat","aligned_epi"],requiredInputs:{epi:{type:"File",passthrough:!0,label:"EPI dataset"},anat:{type:"File",label:"Anatomical dataset"},epi_base:{type:"string",label:"EPI base (0/mean/median)"}},optionalInputs:{anat2epi:{type:"boolean",label:"Align anat to EPI",flag:"-anat2epi"},epi2anat:{type:"boolean",label:"Align EPI to anat",flag:"-epi2anat"},giant_move:{type:"boolean",label:"Large movement",flag:"-giant_move"},cost:{type:"string",label:"Cost function",flag:"-cost"}},outputs:{aligned_anat:{type:"File?",label:"Aligned anatomical",glob:["*_al+orig.*","*_al+tlrc.*","*_al.nii*"]},aligned_epi:{type:"File?",label:"Aligned EPI",glob:["*_al_reg+orig.*","*_al_reg+tlrc.*","*_al_reg.nii*"]},transform_matrix:{type:"File?",label:"Transform matrix",glob:["*.aff12.1D"]},log:{type:"File",label:"Log file",glob:["align_epi_anat.log"]}}},"3dDeconvolve":{id:"3dDeconvolve",cwlPath:"cwl/afni/3dDeconvolve.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 3D+time dataset"},bucket:{type:"string",label:"Output bucket prefix"}},optionalInputs:{polort:{type:"string",label:"Polynomial baseline order",flag:"-polort"},num_stimts:{type:"int",label:"Number of stimulus regressors",flag:"-num_stimts"},fout:{type:"boolean",label:"Output F-statistics",flag:"-fout"},tout:{type:"boolean",label:"Output t-statistics",flag:"-tout"},x1D:{type:"string",label:"Save design matrix",flag:"-x1D"},jobs:{type:"int",label:"Number of parallel jobs",flag:"-jobs"}},outputs:{stats:{type:"File",label:"Statistics output",glob:["$(inputs.bucket)+orig.*","$(inputs.bucket)+tlrc.*","$(inputs.bucket).nii*"]},design_matrix:{type:"File?",label:"Design matrix",glob:["$(inputs.x1D)"]},log:{type:"File",label:"Log file",glob:["$(inputs.bucket).log"]}}},"3dREMLfit":{id:"3dREMLfit",cwlPath:"cwl/afni/3dREMLfit.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input time series"},matrix:{type:"File",label:"Design matrix (.xmat.1D)"},Rbuck:{type:"string",label:"Output bucket prefix"}},optionalInputs:{fout:{type:"boolean",label:"Output F-statistics",flag:"-fout"},tout:{type:"boolean",label:"Output t-statistics",flag:"-tout"},automask:{type:"boolean",label:"Auto-generate mask",flag:"-automask"},verb:{type:"boolean",label:"Verbose output",flag:"-verb"}},outputs:{stats:{type:"File",label:"REML statistics",glob:["$(inputs.Rbuck)+orig.*","$(inputs.Rbuck)+tlrc.*","$(inputs.Rbuck).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.Rbuck).log"]}}},"3dttest++":{id:"3dttest++",cwlPath:"cwl/afni/3dttest++.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{setA:{type:"File",passthrough:!0,label:"Primary sample set"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{setB:{type:"File",label:"Secondary sample set",flag:"-setB"},paired:{type:"boolean",label:"Paired t-test",flag:"-paired"},unpooled:{type:"boolean",label:"Unpooled variance",flag:"-unpooled"},mask:{type:"File",label:"Mask dataset",flag:"-mask"},Clustsim:{type:"int",label:"Run cluster simulation",flag:"-Clustsim"}},outputs:{stats:{type:"File",label:"T-test output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dANOVA":{id:"3dANOVA",cwlPath:"cwl/afni/3dANOVA.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{levels:{type:"int",label:"Number of factor levels"},bucket:{type:"string",label:"Output bucket prefix"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"},ftr:{type:"string",label:"F-statistic output",flag:"-ftr"}},outputs:{stats:{type:"File",label:"ANOVA output",glob:["$(inputs.bucket)+orig.*","$(inputs.bucket)+tlrc.*","$(inputs.bucket).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.bucket).log"]}}},"3dANOVA2":{id:"3dANOVA2",cwlPath:"cwl/afni/3dANOVA2.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{type:{type:"int",label:"ANOVA model type (1-3)"},alevels:{type:"int",label:"Factor A levels"},blevels:{type:"int",label:"Factor B levels"},bucket:{type:"string",label:"Output bucket prefix"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"}},outputs:{stats:{type:"File",label:"ANOVA2 output",glob:["$(inputs.bucket)+orig.*","$(inputs.bucket)+tlrc.*","$(inputs.bucket).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.bucket).log"]}}},"3dANOVA3":{id:"3dANOVA3",cwlPath:"cwl/afni/3dANOVA3.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{type:{type:"int",label:"ANOVA model type (1-5)"},alevels:{type:"int",label:"Factor A levels"},blevels:{type:"int",label:"Factor B levels"},clevels:{type:"int",label:"Factor C levels"},bucket:{type:"string",label:"Output bucket prefix"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"}},outputs:{stats:{type:"File",label:"ANOVA3 output",glob:["$(inputs.bucket)+orig.*","$(inputs.bucket)+tlrc.*","$(inputs.bucket).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.bucket).log"]}}},"3dClustSim":{id:"3dClustSim",cwlPath:"cwl/afni/3dClustSim.cwl",dockerImage:Q.afni,primaryOutputs:["clustsim_1D"],requiredInputs:{prefix:{type:"string",label:"Output prefix"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"},acf:{type:"string",label:"ACF parameters (a b c)",flag:"-acf"},iter:{type:"int",label:"Number of iterations",flag:"-iter"},pthr:{type:"string",label:"P-value thresholds",flag:"-pthr"}},outputs:{clustsim_1D:{type:"File?",label:"Cluster simulation results",glob:["$(inputs.prefix).NN*.1D"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dFWHMx":{id:"3dFWHMx",cwlPath:"cwl/afni/3dFWHMx.cwl",dockerImage:Q.afni,primaryOutputs:["fwhm_output"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"},out:{type:"string",label:"Output file"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"},automask:{type:"boolean",label:"Auto-generate mask",flag:"-automask"},acf:{type:"string",label:"ACF output file",flag:"-acf"},detrend:{type:"int",label:"Detrend order",flag:"-detrend"}},outputs:{fwhm_output:{type:"File",label:"FWHM estimates",glob:["$(inputs.out)"]},acf_output:{type:"File?",label:"ACF parameters",glob:["$(inputs.acf)"]},log:{type:"File",label:"Log file",glob:["3dFWHMx.log"]}}},"3dMEMA":{id:"3dMEMA",cwlPath:"cwl/afni/3dMEMA.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{prefix:{type:"string",label:"Output prefix"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"},HKtest:{type:"boolean",label:"Hartung-Knapp adjustment",flag:"-HKtest"},jobs:{type:"int",label:"Parallel processors",flag:"-jobs"}},outputs:{stats:{type:"File",label:"MEMA output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dMVM":{id:"3dMVM",cwlPath:"cwl/afni/3dMVM.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{prefix:{type:"string",label:"Output prefix"},dataTable:{type:"File",label:"Data table file"}},optionalInputs:{bsVars:{type:"string",label:"Between-subjects formula",flag:"-bsVars"},wsVars:{type:"string",label:"Within-subject formula",flag:"-wsVars"},mask:{type:"File",label:"Mask dataset",flag:"-mask"},jobs:{type:"int",label:"Parallel processors",flag:"-jobs"}},outputs:{stats:{type:"File",label:"MVM output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dLME":{id:"3dLME",cwlPath:"cwl/afni/3dLME.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{prefix:{type:"string",label:"Output prefix"},dataTable:{type:"File",label:"Data table file"},model:{type:"string",label:"Fixed effects formula"},ranEff:{type:"string",label:"Random effects formula"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"},jobs:{type:"int",label:"Parallel processors",flag:"-jobs"},ICC:{type:"boolean",label:"Compute ICC",flag:"-ICC"}},outputs:{stats:{type:"File",label:"LME output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dLMEr":{id:"3dLMEr",cwlPath:"cwl/afni/3dLMEr.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{prefix:{type:"string",label:"Output prefix"},dataTable:{type:"File",label:"Data table file"},model:{type:"string",label:"Model formula (R lmer syntax)"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"},jobs:{type:"int",label:"Parallel processors",flag:"-jobs"}},outputs:{stats:{type:"File",label:"LMEr output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dNetCorr":{id:"3dNetCorr",cwlPath:"cwl/afni/3dNetCorr.cwl",dockerImage:Q.afni,primaryOutputs:["correlation_matrix"],requiredInputs:{prefix:{type:"string",label:"Output prefix"},inset:{type:"File",passthrough:!0,label:"Input 4D time series"},in_rois:{type:"File",label:"ROI mask with labels"}},optionalInputs:{fish_z:{type:"boolean",label:"Fisher Z-transform",flag:"-fish_z"},ts_out:{type:"boolean",label:"Output time series",flag:"-ts_out"},ts_wb_corr:{type:"boolean",label:"Whole brain correlation maps",flag:"-ts_wb_corr"}},outputs:{correlation_matrix:{type:"File",label:"Correlation matrix",glob:["$(inputs.prefix)_000.netcc"]},time_series:{type:"File?",label:"ROI time series",glob:["$(inputs.prefix)_000.netts"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dTcorr1D":{id:"3dTcorr1D",cwlPath:"cwl/afni/3dTcorr1D.cwl",dockerImage:Q.afni,primaryOutputs:["correlation"],requiredInputs:{xset:{type:"File",passthrough:!0,label:"Input 3D+time dataset"},y1D:{type:"File",label:"1D reference time series"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{pearson:{type:"boolean",label:"Pearson correlation",flag:"-pearson"},spearman:{type:"boolean",label:"Spearman correlation",flag:"-spearman"},Fisher:{type:"boolean",label:"Fisher Z-transform",flag:"-Fisher"}},outputs:{correlation:{type:"File",label:"Correlation output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dTcorrMap":{id:"3dTcorrMap",cwlPath:"cwl/afni/3dTcorrMap.cwl",dockerImage:Q.afni,primaryOutputs:["mean_corr"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 3D+time dataset"}},optionalInputs:{Mean:{type:"string",label:"Mean correlation output",flag:"-Mean"},Zmean:{type:"string",label:"Fisher Z mean output",flag:"-Zmean"},automask:{type:"boolean",label:"Auto-generate mask",flag:"-automask"},polort:{type:"int",label:"Polynomial detrend order",flag:"-polort"}},outputs:{mean_corr:{type:"File?",label:"Mean correlation",glob:["$(inputs.Mean)+orig.*","$(inputs.Mean)+tlrc.*","$(inputs.Mean).nii*"]},zmean_corr:{type:"File?",label:"Fisher Z mean",glob:["$(inputs.Zmean)+orig.*","$(inputs.Zmean)+tlrc.*","$(inputs.Zmean).nii*"]},log:{type:"File",label:"Log file",glob:["3dTcorrMap.log"]}}},"3dRSFC":{id:"3dRSFC",cwlPath:"cwl/afni/3dRSFC.cwl",dockerImage:Q.afni,primaryOutputs:["filtered"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 3D+time dataset"},prefix:{type:"string",label:"Output prefix"},fbot:{type:"double",label:"Low frequency (Hz)"},ftop:{type:"double",label:"High frequency (Hz)"}},optionalInputs:{despike:{type:"boolean",label:"Despike first",flag:"-despike"},automask:{type:"boolean",label:"Auto-generate mask",flag:"-automask"},no_rsfa:{type:"boolean",label:"Skip RSFA calculation",flag:"-no_rsfa"}},outputs:{filtered:{type:"File",label:"Bandpassed output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},alff:{type:"File?",label:"ALFF output",glob:["$(inputs.prefix)_ALFF*"]},falff:{type:"File?",label:"fALFF output",glob:["$(inputs.prefix)_fALFF*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dROIstats":{id:"3dROIstats",cwlPath:"cwl/afni/3dROIstats.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"},mask:{type:"File",label:"ROI mask"}},optionalInputs:{nzmean:{type:"boolean",label:"Non-zero mean",flag:"-nzmean"},sigma:{type:"boolean",label:"Standard deviation",flag:"-sigma"},median:{type:"boolean",label:"Median",flag:"-median"},quiet:{type:"boolean",label:"Suppress labels",flag:"-quiet"}},outputs:{stats:{type:"stdout",label:"ROI statistics"},log:{type:"File",label:"Log file",glob:["3dROIstats.log"]}}},"3dmaskave":{id:"3dmaskave",cwlPath:"cwl/afni/3dmaskave.cwl",dockerImage:Q.afni,primaryOutputs:["average"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"}},optionalInputs:{mask:{type:"File",label:"Mask dataset",flag:"-mask"},sigma:{type:"boolean",label:"Compute std dev",flag:"-sigma"},median:{type:"boolean",label:"Compute median",flag:"-median"},quiet:{type:"boolean",label:"Minimal output",flag:"-quiet"}},outputs:{average:{type:"stdout",label:"Average values"},log:{type:"File",label:"Log file",glob:["3dmaskave.log"]}}},"3dUndump":{id:"3dUndump",cwlPath:"cwl/afni/3dUndump.cwl",dockerImage:Q.afni,primaryOutputs:["dataset"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Coordinate text file"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{master:{type:"File",label:"Master grid dataset",flag:"-master"},dimen:{type:"string",label:"Output dimensions (I J K)",flag:"-dimen"},datum:{type:"string",label:"Data type",flag:"-datum",options:["byte","short","float"]},srad:{type:"double",label:"Sphere radius",flag:"-srad"}},outputs:{dataset:{type:"File",label:"Output dataset",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},whereami:{id:"whereami",cwlPath:"cwl/afni/whereami.cwl",dockerImage:Q.afni,primaryOutputs:["output"],requiredInputs:{},optionalInputs:{coord:{type:"string",label:"Coordinates (x y z)"},coord_file:{type:"File",label:"Coordinate file",flag:"-coord_file"},atlas:{type:"string",label:"Atlas to use",flag:"-atlas"},space:{type:"string",label:"Template space",flag:"-space"}},outputs:{output:{type:"stdout",label:"Location information"},log:{type:"File",label:"Log file",glob:["whereami.log"]}}},"3dresample":{id:"3dresample",cwlPath:"cwl/afni/3dresample.cwl",dockerImage:Q.afni,primaryOutputs:["resampled"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{master:{type:"File",label:"Master grid dataset",flag:"-master"},dxyz:{type:"string",label:"New voxel dimensions (dx dy dz)",flag:"-dxyz"},orient:{type:"string",label:"New orientation",flag:"-orient"},rmode:{type:"string",label:"Resampling mode",flag:"-rmode",options:["NN","Li","Cu","Bk"]}},outputs:{resampled:{type:"File",label:"Resampled output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dfractionize":{id:"3dfractionize",cwlPath:"cwl/afni/3dfractionize.cwl",dockerImage:Q.afni,primaryOutputs:["fractionized"],requiredInputs:{template:{type:"File",label:"Template defining output grid"},input:{type:"File",passthrough:!0,label:"Input dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{clip:{type:"double",label:"Occupancy threshold",flag:"-clip"},preserve:{type:"boolean",label:"Preserve input values",flag:"-preserve"}},outputs:{fractionized:{type:"File",label:"Fractionized output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dcalc":{id:"3dcalc",cwlPath:"cwl/afni/3dcalc.cwl",dockerImage:Q.afni,primaryOutputs:["result"],requiredInputs:{a:{type:"File",passthrough:!0,label:"Input dataset a"},expr:{type:"string",label:"Mathematical expression"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{b:{type:"File",label:"Input dataset b",flag:"-b"},c:{type:"File",label:"Input dataset c",flag:"-c"},datum:{type:"string",label:"Output data type",flag:"-datum",options:["byte","short","float"]}},outputs:{result:{type:"File",label:"Calculated output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dTstat":{id:"3dTstat",cwlPath:"cwl/afni/3dTstat.cwl",dockerImage:Q.afni,primaryOutputs:["stats"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input 3D+time dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{mean:{type:"boolean",label:"Compute mean",flag:"-mean"},stdev:{type:"boolean",label:"Compute std dev",flag:"-stdev"},min:{type:"boolean",label:"Compute minimum",flag:"-min"},max:{type:"boolean",label:"Compute maximum",flag:"-max"},median:{type:"boolean",label:"Compute median",flag:"-median"},tsnr:{type:"boolean",label:"Compute TSNR",flag:"-tsnr"}},outputs:{stats:{type:"File",label:"Statistics output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dinfo":{id:"3dinfo",cwlPath:"cwl/afni/3dinfo.cwl",dockerImage:Q.afni,primaryOutputs:["info"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"}},optionalInputs:{verb:{type:"boolean",label:"Verbose output",flag:"-verb"},prefix:{type:"boolean",label:"Show prefix",flag:"-prefix"},space:{type:"boolean",label:"Show space",flag:"-space"},tr:{type:"boolean",label:"Show TR",flag:"-tr"}},outputs:{info:{type:"stdout",label:"Dataset information"},log:{type:"File",label:"Log file",glob:["3dinfo.log"]}}},"3dcopy":{id:"3dcopy",cwlPath:"cwl/afni/3dcopy.cwl",dockerImage:Q.afni,primaryOutputs:["copied"],requiredInputs:{old_dataset:{type:"File",passthrough:!0,label:"Source dataset"},new_prefix:{type:"string",label:"New prefix"}},optionalInputs:{verb:{type:"boolean",label:"Verbose",flag:"-verb"},denote:{type:"boolean",label:"Remove notes",flag:"-denote"}},outputs:{copied:{type:"File",label:"Copied dataset",glob:["$(inputs.new_prefix)+orig.*","$(inputs.new_prefix)+tlrc.*","$(inputs.new_prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.new_prefix).log"]}}},"3dZeropad":{id:"3dZeropad",cwlPath:"cwl/afni/3dZeropad.cwl",dockerImage:Q.afni,primaryOutputs:["padded"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{I:{type:"int",label:"Inferior padding",flag:"-I"},S:{type:"int",label:"Superior padding",flag:"-S"},A:{type:"int",label:"Anterior padding",flag:"-A"},P:{type:"int",label:"Posterior padding",flag:"-P"},L:{type:"int",label:"Left padding",flag:"-L"},R:{type:"int",label:"Right padding",flag:"-R"},master:{type:"File",label:"Master grid",flag:"-master"}},outputs:{padded:{type:"File",label:"Padded output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dNwarpApply":{id:"3dNwarpApply",cwlPath:"cwl/afni/3dNwarpApply.cwl",dockerImage:Q.afni,primaryOutputs:["warped"],requiredInputs:{nwarp:{type:"string",label:"3D warp dataset(s)"},source:{type:"File",passthrough:!0,label:"Source dataset"},prefix:{type:"string",label:"Output prefix"}},optionalInputs:{master:{type:"string",label:"Master grid",flag:"-master"},iwarp:{type:"boolean",label:"Invert warp",flag:"-iwarp"},interp:{type:"string",label:"Interpolation",flag:"-interp",options:["NN","linear","cubic","quintic","wsinc5"]}},outputs:{warped:{type:"File",label:"Warped output",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},"3dNwarpCat":{id:"3dNwarpCat",cwlPath:"cwl/afni/3dNwarpCat.cwl",dockerImage:Q.afni,primaryOutputs:["concatenated_warp"],requiredInputs:{prefix:{type:"string",label:"Output prefix"},warp1:{type:"File",passthrough:!0,label:"First warp"}},optionalInputs:{warp2:{type:"File",label:"Second warp",flag:"-warp2"},warp3:{type:"File",label:"Third warp",flag:"-warp3"},iwarp:{type:"boolean",label:"Invert output",flag:"-iwarp"},interp:{type:"string",label:"Interpolation",flag:"-interp",options:["linear","quintic","wsinc5"]}},outputs:{concatenated_warp:{type:"File",label:"Combined warp",glob:["$(inputs.prefix)+orig.*","$(inputs.prefix)+tlrc.*","$(inputs.prefix).nii*"]},log:{type:"File",label:"Log file",glob:["$(inputs.prefix).log"]}}},mri_convert:{id:"mri_convert",cwlPath:"cwl/freesurfer/mri_convert.cwl",dockerImage:Q.freesurfer,primaryOutputs:["converted"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input volume file",acceptedExtensions:[".nii",".nii.gz",".mgz",".mgh"]},output:{type:"string",label:"Output filename"}},optionalInputs:{in_type:{type:"string",label:"Input file format",flag:"--in_type"},out_type:{type:"string",label:"Output file format",flag:"--out_type"},conform:{type:"boolean",label:"Conform to 1mm voxel size",flag:"--conform"},conform_min:{type:"boolean",label:"Conform to minimum voxel size",flag:"--conform_min"},conform_size:{type:"double",label:"Conform to specified voxel size (mm)",flag:"--conform_size"},vox_size:{type:"string",label:"Output voxel size (x y z)",flag:"--voxsize"},out_orientation:{type:"string",label:"Output orientation (e.g., RAS)",flag:"--out_orientation"},resample_type:{type:"string",label:"Interpolation method",flag:"--resample_type",options:["interpolate","weighted","nearest","sinc","cubic"]},reslice_like:{type:"File",label:"Reslice to match template",flag:"--reslice_like"},apply_transform:{type:"File",label:"Apply transformation",flag:"--apply_transform"},frame:{type:"int",label:"Keep specified frame",flag:"--frame"},fwhm:{type:"double",label:"Smooth by FWHM (mm)",flag:"--fwhm"}},outputs:{converted:{type:"File",label:"Converted volume",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mri_convert.log"]}}},mri_watershed:{id:"mri_watershed",cwlPath:"cwl/freesurfer/mri_watershed.cwl",dockerImage:Q.freesurfer,primaryOutputs:["brain"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input T1 volume"},output:{type:"string",label:"Output brain volume filename"}},optionalInputs:{atlas:{type:"boolean",label:"Apply atlas correction",flag:"-atlas"},preflooding_height:{type:"int",label:"Preflooding height (%)",flag:"-h"},watershed_weight:{type:"double",label:"Preweight using atlas",flag:"-w"},less:{type:"boolean",label:"Shrink surface (less skull)",flag:"-less"},more:{type:"boolean",label:"Expand surface (more skull)",flag:"-more"},threshold:{type:"int",label:"Adjust watershed threshold",flag:"-t"},t1:{type:"boolean",label:"Specify T1 input",flag:"-T1"},surf:{type:"string",label:"Save BEM surfaces directory",flag:"-surf"}},outputs:{brain:{type:"File",label:"Brain volume",glob:["$(inputs.output)*"]},bem_surfaces:{type:"Directory",label:"BEM surfaces",glob:["$(inputs.surf)"]},log:{type:"File",label:"Log file",glob:["mri_watershed.log"]}}},mri_normalize:{id:"mri_normalize",cwlPath:"cwl/freesurfer/mri_normalize.cwl",dockerImage:Q.freesurfer,primaryOutputs:["normalized"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input volume"},output:{type:"string",label:"Output normalized volume"}},optionalInputs:{gradient:{type:"double",label:"Max intensity/mm gradient",flag:"-g"},niters:{type:"int",label:"Number of iterations",flag:"-n"},mask:{type:"File",label:"Input mask file",flag:"-mask"},noskull:{type:"boolean",label:"Do not normalize skull",flag:"-noskull"},aseg:{type:"File",label:"Segmentation for guidance",flag:"-aseg"},conform:{type:"boolean",label:"Conform to 256^3",flag:"-conform"},mprage:{type:"boolean",label:"Assume MPRAGE contrast",flag:"-mprage"}},outputs:{normalized:{type:"File",label:"Normalized volume",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mri_normalize.log"]}}},mri_segment:{id:"mri_segment",cwlPath:"cwl/freesurfer/mri_segment.cwl",dockerImage:Q.freesurfer,primaryOutputs:["segmentation"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input normalized volume"},output:{type:"string",label:"Output segmentation filename"}},optionalInputs:{wlo:{type:"double",label:"WM low threshold",flag:"-wlo"},whi:{type:"double",label:"WM high threshold",flag:"-whi"},glo:{type:"double",label:"GM low threshold",flag:"-glo"},ghi:{type:"double",label:"GM high threshold",flag:"-ghi"},thicken:{type:"int",label:"Thicken option",flag:"-thicken"},mprage:{type:"boolean",label:"MPRAGE contrast",flag:"-mprage"}},outputs:{segmentation:{type:"File",label:"Segmentation volume",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mri_segment.log"]}}},mris_inflate:{id:"mris_inflate",cwlPath:"cwl/freesurfer/mris_inflate.cwl",dockerImage:Q.freesurfer,primaryOutputs:["inflated"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input surface file"},output:{type:"string",label:"Output inflated surface"}},optionalInputs:{n:{type:"int",label:"Max iterations (default 10)",flag:"-n"},dist:{type:"double",label:"Distance for inflation",flag:"-dist"},no_save_sulc:{type:"boolean",label:"Do not save sulc file",flag:"-no-save-sulc"},sulc:{type:"string",label:"Output sulc filename",flag:"-sulc"}},outputs:{inflated:{type:"File",label:"Inflated surface",glob:["$(inputs.output)*"]},sulc_file:{type:"File",label:"Sulc file",glob:["*.sulc"]},log:{type:"File",label:"Log file",glob:["mris_inflate.log"]}}},mris_sphere:{id:"mris_sphere",cwlPath:"cwl/freesurfer/mris_sphere.cwl",dockerImage:Q.freesurfer,primaryOutputs:["sphere"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input inflated surface"},output:{type:"string",label:"Output spherical surface"}},optionalInputs:{seed:{type:"int",label:"Random seed",flag:"-seed"},niters:{type:"int",label:"Number of iterations",flag:"-i"},in_smoothwm:{type:"File",label:"Smooth WM reference",flag:"-w"}},outputs:{sphere:{type:"File",label:"Spherical surface",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mris_sphere.log"]}}},mri_aparc2aseg:{id:"mri_aparc2aseg",cwlPath:"cwl/freesurfer/mri_aparc2aseg.cwl",dockerImage:Q.freesurfer,primaryOutputs:["aparc_aseg"],requiredInputs:{subject:{type:"string",label:"Subject name"}},optionalInputs:{output:{type:"string",label:"Output volume filename",flag:"--o"},annot:{type:"string",label:"Parcellation name",flag:"--annot"},a2005s:{type:"boolean",label:"Use aparc.a2005s",flag:"--a2005s"},a2009s:{type:"boolean",label:"Use aparc.a2009s",flag:"--a2009s"},labelwm:{type:"boolean",label:"Also label white matter",flag:"--labelwm"},noribbon:{type:"boolean",label:"No ribbon constraint",flag:"--noribbon"}},outputs:{aparc_aseg:{type:"File",label:"Combined parcellation",glob:["$(inputs.output)","*aparc+aseg*.mgz"]},log:{type:"File",label:"Log file",glob:["mri_aparc2aseg.log"]}}},mri_annotation2label:{id:"mri_annotation2label",cwlPath:"cwl/freesurfer/mri_annotation2label.cwl",dockerImage:Q.freesurfer,primaryOutputs:["labels"],requiredInputs:{subject:{type:"string",label:"Subject name"},hemi:{type:"string",label:"Hemisphere (lh/rh)"},outdir:{type:"string",label:"Output directory"}},optionalInputs:{annotation:{type:"string",label:"Annotation name",flag:"--annotation"},surface:{type:"string",label:"Surface name",flag:"--surface"},labelbase:{type:"string",label:"Label base name",flag:"--labelbase"}},outputs:{labels:{type:"Directory",label:"Label files directory",glob:["$(inputs.outdir)"]},log:{type:"File",label:"Log file",glob:["mri_annotation2label.log"]}}},mris_ca_label:{id:"mris_ca_label",cwlPath:"cwl/freesurfer/mris_ca_label.cwl",dockerImage:Q.freesurfer,primaryOutputs:["annotation"],requiredInputs:{subject:{type:"string",label:"Subject name"},hemi:{type:"string",label:"Hemisphere (lh/rh)"},canonsurf:{type:"File",passthrough:!0,label:"Canonical surface"},classifier:{type:"File",label:"Atlas classifier (.gcs)"},output:{type:"string",label:"Output annotation filename"}},optionalInputs:{aseg:{type:"File",label:"Aseg volume",flag:"-aseg"},seed:{type:"int",label:"Random seed",flag:"-seed"},novar:{type:"boolean",label:"No variance",flag:"-novar"}},outputs:{annotation:{type:"File",label:"Annotation file",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mris_ca_label.log"]}}},mri_label2vol:{id:"mri_label2vol",cwlPath:"cwl/freesurfer/mri_label2vol.cwl",dockerImage:Q.freesurfer,primaryOutputs:["label_volume"],requiredInputs:{temp:{type:"File",passthrough:!0,label:"Template volume"},output:{type:"string",label:"Output volume filename"}},optionalInputs:{label:{type:"File",label:"Label file",flag:"--label"},annot:{type:"File",label:"Annotation file",flag:"--annot"},seg:{type:"File",label:"Segmentation file",flag:"--seg"},reg:{type:"File",label:"Registration file",flag:"--reg"},identity:{type:"boolean",label:"Use identity registration",flag:"--identity"},subject:{type:"string",label:"Subject name",flag:"--subject"},hemi:{type:"string",label:"Hemisphere (lh/rh)",flag:"--hemi"},fill_thresh:{type:"double",label:"Fill threshold (0-1)",flag:"--fillthresh"}},outputs:{label_volume:{type:"File",label:"Label volume",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mri_label2vol.log"]}}},bbregister:{id:"bbregister",cwlPath:"cwl/freesurfer/bbregister.cwl",dockerImage:Q.freesurfer,primaryOutputs:["out_reg"],requiredInputs:{subject:{type:"string",label:"FreeSurfer subject name"},source_file:{type:"File",passthrough:!0,label:"Source volume to register"},out_reg_file:{type:"string",label:"Output registration file"}},optionalInputs:{contrast_type:{type:"string",label:"Contrast type",options:["t1","t2","bold","dti"]},init:{type:"string",label:"Initialization method",flag:"--init",options:["coreg","rr","spm","fsl","header","best"]},init_fsl:{type:"boolean",label:"Initialize with FSL",flag:"--init-fsl"},dof:{type:"string",label:"Degrees of freedom",flag:"--dof",options:["6","9","12"]},lta:{type:"boolean",label:"Output as LTA format",flag:"--lta"},fslmat:{type:"string",label:"Output FSL matrix file",flag:"--fslmat"}},outputs:{out_reg:{type:"File",label:"Registration file",glob:["$(inputs.out_reg_file)*"]},out_fsl_mat:{type:"File",label:"FSL matrix",glob:["$(inputs.fslmat)"]},log:{type:"File",label:"Log file",glob:["bbregister.log"]}}},mri_vol2surf:{id:"mri_vol2surf",cwlPath:"cwl/freesurfer/mri_vol2surf.cwl",dockerImage:Q.freesurfer,primaryOutputs:["out_file"],requiredInputs:{source_file:{type:"File",passthrough:!0,label:"Volume to sample"},hemi:{type:"string",label:"Hemisphere (lh/rh)"},output:{type:"string",label:"Output surface file"}},optionalInputs:{reg_file:{type:"File",label:"Registration file",flag:"--reg"},reg_header:{type:"File",label:"Header registration",flag:"--regheader"},subject:{type:"string",label:"Subject name",flag:"--s"},trgsubject:{type:"string",label:"Target subject",flag:"--trgsubject"},projfrac:{type:"double",label:"Projection fraction",flag:"--projfrac"},interp:{type:"string",label:"Interpolation",flag:"--interp",options:["nearest","trilinear"]},surf:{type:"string",label:"Surface name",flag:"--surf"},cortex:{type:"boolean",label:"Use cortex label mask",flag:"--cortex"}},outputs:{out_file:{type:"File",label:"Surface data",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mri_vol2surf.log"]}}},mri_surf2vol:{id:"mri_surf2vol",cwlPath:"cwl/freesurfer/mri_surf2vol.cwl",dockerImage:Q.freesurfer,primaryOutputs:["out_file"],requiredInputs:{source_file:{type:"File",passthrough:!0,label:"Surface values file"},hemi:{type:"string",label:"Hemisphere (lh/rh)"},output:{type:"string",label:"Output volume filename"}},optionalInputs:{reg:{type:"File",label:"Registration file",flag:"--reg"},identity:{type:"string",label:"Subject for identity registration",flag:"--identity"},template:{type:"File",label:"Template volume",flag:"--template"},subject:{type:"string",label:"Subject name",flag:"--subject"},surf:{type:"string",label:"Surface name",flag:"--surf"},projfrac:{type:"double",label:"Projection fraction",flag:"--projfrac"},fillribbon:{type:"boolean",label:"Fill cortical ribbon",flag:"--fillribbon"}},outputs:{out_file:{type:"File",label:"Volume data",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mri_surf2vol.log"]}}},mris_preproc:{id:"mris_preproc",cwlPath:"cwl/freesurfer/mris_preproc.cwl",dockerImage:Q.freesurfer,primaryOutputs:["out_file"],requiredInputs:{output:{type:"string",label:"Output concatenated file"},target:{type:"string",label:"Target subject (e.g., fsaverage)"},hemi:{type:"string",label:"Hemisphere (lh/rh)"}},optionalInputs:{fsgd:{type:"File",label:"FSGD file",flag:"--fsgd"},meas:{type:"string",label:"Surface measure",flag:"--meas"},fwhm:{type:"double",label:"Smooth on target (FWHM mm)",flag:"--fwhm"},fwhm_src:{type:"double",label:"Smooth on source (FWHM mm)",flag:"--fwhm-src"},cache_in:{type:"string",label:"Use qcache data",flag:"--cache-in"},paired_diff:{type:"boolean",label:"Compute paired differences",flag:"--paired-diff"},cortex:{type:"boolean",label:"Use cortex label mask",flag:"--cortex"}},outputs:{out_file:{type:"File",label:"Concatenated surface data",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["mris_preproc.log"]}}},mri_glmfit:{id:"mri_glmfit",cwlPath:"cwl/freesurfer/mri_glmfit.cwl",dockerImage:Q.freesurfer,primaryOutputs:["glm_dir"],requiredInputs:{y:{type:"File",passthrough:!0,label:"Input data file"},glmdir:{type:"string",label:"Output GLM directory"}},optionalInputs:{fsgd:{type:"File",label:"FSGD file",flag:"--fsgd"},design:{type:"File",label:"Design matrix",flag:"--X"},osgm:{type:"boolean",label:"One-sample group mean",flag:"--osgm"},surface:{type:"string",label:"Surface (subject hemi)",flag:"--surface"},cortex:{type:"boolean",label:"Use cortex label mask",flag:"--cortex"},fwhm:{type:"double",label:"Smooth input (FWHM mm)",flag:"--fwhm"},var_fwhm:{type:"double",label:"Smooth variance (FWHM mm)",flag:"--var-fwhm"},mask:{type:"File",label:"Mask volume",flag:"--mask"},save_eres:{type:"boolean",label:"Save residual error",flag:"--eres-save"},nii_gz:{type:"boolean",label:"Use compressed NIfTI",flag:"--nii.gz"}},outputs:{glm_dir:{type:"Directory",label:"GLM output directory",glob:["$(inputs.glmdir)"]},log:{type:"File",label:"Log file",glob:["mri_glmfit.log"]}}},mris_anatomical_stats:{id:"mris_anatomical_stats",cwlPath:"cwl/freesurfer/mris_anatomical_stats.cwl",dockerImage:Q.freesurfer,primaryOutputs:["stats_table"],requiredInputs:{subject:{type:"string",label:"Subject name"},hemi:{type:"string",label:"Hemisphere (lh/rh)"}},optionalInputs:{annotation:{type:"File",label:"Annotation file",flag:"-a"},tablefile:{type:"string",label:"Output table filename",flag:"-f"},label:{type:"File",label:"Limit to label region",flag:"-l"},cortex:{type:"File",label:"Cortex label file",flag:"-cortex"},th3:{type:"boolean",label:"Use tetrahedra for volume",flag:"-th3"},b:{type:"boolean",label:"Report brain volume",flag:"-b"},mgz:{type:"boolean",label:"Use mgz format",flag:"-mgz"}},outputs:{stats_table:{type:"File",label:"Stats table",glob:["$(inputs.tablefile)","*.stats"]},log:{type:"File",label:"Log file",glob:["mris_anatomical_stats.log"]}}},mri_segstats:{id:"mri_segstats",cwlPath:"cwl/freesurfer/mri_segstats.cwl",dockerImage:Q.freesurfer,primaryOutputs:["summary"],requiredInputs:{seg:{type:"File",passthrough:!0,label:"Segmentation volume"},sum:{type:"string",label:"Output summary file"}},optionalInputs:{in_file:{type:"File",label:"Input for intensity stats",flag:"--in"},ctab:{type:"File",label:"Color table file",flag:"--ctab"},ctab_default:{type:"boolean",label:"Use default color table",flag:"--ctab-default"},excludeid:{type:"int",label:"Exclude segmentation ID",flag:"--excludeid"},nonempty:{type:"boolean",label:"Only non-empty segments",flag:"--nonempty"},mask:{type:"File",label:"Mask volume",flag:"--mask"},subject:{type:"string",label:"Subject name",flag:"--subject"},brain_vol_from_seg:{type:"boolean",label:"Brain volume from seg",flag:"--brain-vol-from-seg"}},outputs:{summary:{type:"File",label:"Summary file",glob:["$(inputs.sum)"]},log:{type:"File",label:"Log file",glob:["mri_segstats.log"]}}},aparcstats2table:{id:"aparcstats2table",cwlPath:"cwl/freesurfer/aparcstats2table.cwl",dockerImage:Q.freesurfer,primaryOutputs:["table"],requiredInputs:{subjects:{type:"string[]",label:"List of subject names"},hemi:{type:"string",label:"Hemisphere (lh/rh)"},tablefile:{type:"string",label:"Output table filename"}},optionalInputs:{parc:{type:"string",label:"Parcellation name",flag:"--parc"},meas:{type:"string",label:"Measurement",flag:"--meas",options:["area","volume","thickness","thicknessstd","meancurv","gauscurv","foldind","curvind"]},delimiter:{type:"string",label:"Delimiter",flag:"--delimiter",options:["tab","comma","space","semicolon"]},skip:{type:"boolean",label:"Skip missing subjects",flag:"--skip"},transpose:{type:"boolean",label:"Transpose table",flag:"--transpose"}},outputs:{table:{type:"File",label:"Stats table",glob:["$(inputs.tablefile)"]},log:{type:"File",label:"Log file",glob:["aparcstats2table.log"]}}},asegstats2table:{id:"asegstats2table",cwlPath:"cwl/freesurfer/asegstats2table.cwl",dockerImage:Q.freesurfer,primaryOutputs:["table"],requiredInputs:{subjects:{type:"string[]",label:"List of subject names"},tablefile:{type:"string",label:"Output table filename"}},optionalInputs:{meas:{type:"string",label:"Measurement",flag:"--meas",options:["volume","mean"]},statsfile:{type:"string",label:"Stats file name",flag:"--statsfile"},delimiter:{type:"string",label:"Delimiter",flag:"--delimiter",options:["tab","comma","space","semicolon"]},skip:{type:"boolean",label:"Skip missing subjects",flag:"--skip"},all_segs:{type:"boolean",label:"Include all segments",flag:"--all-segs"},transpose:{type:"boolean",label:"Transpose table",flag:"--transpose"},etiv:{type:"boolean",label:"Include eTIV",flag:"--etiv"}},outputs:{table:{type:"File",label:"Stats table",glob:["$(inputs.tablefile)"]},log:{type:"File",label:"Log file",glob:["asegstats2table.log"]}}},dmri_postreg:{id:"dmri_postreg",cwlPath:"cwl/freesurfer/dmri_postreg.cwl",dockerImage:Q.freesurfer,primaryOutputs:["out_file"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input diffusion volume"},output:{type:"string",label:"Output filename"}},optionalInputs:{reg:{type:"File",label:"Registration file",flag:"--reg"},xfm:{type:"File",label:"Transformation matrix",flag:"--xfm"},ref:{type:"File",label:"Reference volume",flag:"--ref"},mask:{type:"File",label:"Brain mask",flag:"--mask"},subject:{type:"string",label:"FreeSurfer subject",flag:"--s"},interp:{type:"string",label:"Interpolation",flag:"--interp",options:["nearest","trilin","cubic"]}},outputs:{out_file:{type:"File",label:"Output volume",glob:["$(inputs.output)*"]},log:{type:"File",label:"Log file",glob:["dmri_postreg.log"]}}},N4BiasFieldCorrection:{id:"N4BiasFieldCorrection",cwlPath:"cwl/ants/N4BiasFieldCorrection.cwl",dockerImage:Q.ants,primaryOutputs:["corrected_image"],requiredInputs:{input_image:{type:"File",passthrough:!0,label:"Input image for bias correction",acceptedExtensions:[".nii",".nii.gz"]},output_prefix:{type:"string",label:"Output prefix"}},optionalInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3/4)",flag:"-d"},mask_image:{type:"File",label:"Mask image",flag:"-x"},weight_image:{type:"File",label:"Weight image",flag:"-w"},shrink_factor:{type:"int",label:"Shrink factor (1-4)",flag:"-s"},convergence:{type:"string",label:"Convergence [iters,thresh]",flag:"-c"},bspline_fitting:{type:"string",label:"B-spline [spacing,order]",flag:"-b"},verbose:{type:"boolean",label:"Verbose output",flag:"-v"}},outputs:{corrected_image:{type:"File",label:"Bias-corrected image",glob:["$(inputs.output_prefix)_corrected.nii.gz"]},bias_field:{type:"File",label:"Bias field",glob:["$(inputs.output_prefix)_biasfield.nii.gz"]},log:{type:"File",label:"Log file",glob:["N4BiasFieldCorrection.log"]}}},DenoiseImage:{id:"DenoiseImage",cwlPath:"cwl/ants/DenoiseImage.cwl",dockerImage:Q.ants,primaryOutputs:["denoised_image"],requiredInputs:{input_image:{type:"File",passthrough:!0,label:"Input image for denoising"},output_prefix:{type:"string",label:"Output prefix"}},optionalInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3/4)",flag:"-d"},noise_model:{type:"string",label:"Noise model",flag:"-n",options:["Rician","Gaussian"]},mask_image:{type:"File",label:"Mask image",flag:"-x"},shrink_factor:{type:"int",label:"Shrink factor",flag:"-s"},patch_radius:{type:"string",label:"Patch radius",flag:"-p"},search_radius:{type:"string",label:"Search radius",flag:"-r"},verbose:{type:"boolean",label:"Verbose output",flag:"-v"}},outputs:{denoised_image:{type:"File",label:"Denoised image",glob:["$(inputs.output_prefix)_denoised.nii.gz"]},noise_image:{type:"File",label:"Noise image",glob:["$(inputs.output_prefix)_noise.nii.gz"]},log:{type:"File",label:"Log file",glob:["DenoiseImage.log"]}}},ImageMath:{id:"ImageMath",cwlPath:"cwl/ants/ImageMath.cwl",dockerImage:Q.ants,primaryOutputs:["output"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3/4)"},output_image:{type:"string",label:"Output image filename"},operation:{type:"string",label:"Operation (m, +, -, /, G, MD, ME, etc.)"},input_image:{type:"File",passthrough:!0,label:"Input image"}},optionalInputs:{second_input:{type:"File",label:"Second input image",flag:""},scalar_value:{type:"double",label:"Scalar value",flag:""}},outputs:{output:{type:"File",label:"Output image",glob:["$(inputs.output_image)"]},log:{type:"File",label:"Log file",glob:["ImageMath.log"]}}},ThresholdImage:{id:"ThresholdImage",cwlPath:"cwl/ants/ThresholdImage.cwl",dockerImage:Q.ants,primaryOutputs:["thresholded"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3/4)"},input_image:{type:"File",passthrough:!0,label:"Input image"},output_image:{type:"string",label:"Output image filename"}},optionalInputs:{threshold_mode:{type:"string",label:"Threshold mode",flag:"",options:["Otsu","Kmeans"]},num_thresholds:{type:"int",label:"Number of thresholds",flag:""},threshold_low:{type:"double",label:"Lower threshold",flag:""},threshold_high:{type:"double",label:"Upper threshold",flag:""},inside_value:{type:"double",label:"Inside value",flag:""},outside_value:{type:"double",label:"Outside value",flag:""}},outputs:{thresholded:{type:"File",label:"Thresholded image",glob:["$(inputs.output_image)"]},log:{type:"File",label:"Log file",glob:["ThresholdImage.log"]}}},LabelGeometryMeasures:{id:"LabelGeometryMeasures",cwlPath:"cwl/ants/LabelGeometryMeasures.cwl",dockerImage:Q.ants,primaryOutputs:["csv_output"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},label_image:{type:"File",passthrough:!0,label:"Label/segmentation image"}},optionalInputs:{intensity_image:{type:"File",label:"Intensity image",flag:""},output_csv:{type:"string",label:"Output CSV file",flag:""}},outputs:{csv_output:{type:"File",label:"CSV measurements",glob:["$(inputs.output_csv)"]},log:{type:"File",label:"Log file",glob:["LabelGeometryMeasures.log"]}}},"antsJointLabelFusion.sh":{id:"antsJointLabelFusion.sh",cwlPath:"cwl/ants/antsJointLabelFusion.cwl",dockerImage:Q.ants,primaryOutputs:["labeled_image"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},output_prefix:{type:"string",label:"Output prefix"},target_image:{type:"File",passthrough:!0,label:"Target image to label"},atlas_images:{type:"File[]",label:"Atlas images"},atlas_labels:{type:"File[]",label:"Atlas label images"}},optionalInputs:{mask_image:{type:"File",label:"Mask image",flag:"-x"},num_threads:{type:"int",label:"Number of threads",flag:"-j"},search_radius:{type:"string",label:"Search radius",flag:"-s"},patch_radius:{type:"string",label:"Patch radius",flag:"-p"}},outputs:{labeled_image:{type:"File",label:"Labeled image",glob:["$(inputs.output_prefix)Labels.nii.gz"]},intensity_fusion:{type:"File",label:"Intensity fusion",glob:["$(inputs.output_prefix)Intensity.nii.gz"]},log:{type:"File",label:"Log file",glob:["antsJointLabelFusion.log"]}}},antsRegistration:{id:"antsRegistration",cwlPath:"cwl/ants/antsRegistration.cwl",dockerImage:Q.ants,primaryOutputs:["warped_image","forward_transforms"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},output_prefix:{type:"string",label:"Output prefix"},fixed_image:{type:"File",passthrough:!0,label:"Fixed/reference image"},moving_image:{type:"File",label:"Moving image"},metric:{type:"string",label:"Metric specification"},transform:{type:"string",label:"Transform specification"},convergence:{type:"string",label:"Convergence specification"},shrink_factors:{type:"string",label:"Shrink factors"},smoothing_sigmas:{type:"string",label:"Smoothing sigmas"}},optionalInputs:{initial_moving_transform:{type:"File",label:"Initial transform",flag:"-r"},masks:{type:"string",label:"Mask specification",flag:"-x"},use_histogram_matching:{type:"boolean",label:"Histogram matching",flag:"-u"},interpolation:{type:"string",label:"Interpolation",flag:"-n",options:["Linear","NearestNeighbor","BSpline","Gaussian"]},verbose:{type:"boolean",label:"Verbose output",flag:"-v"}},outputs:{warped_image:{type:"File",label:"Warped image",glob:["$(inputs.output_prefix)Warped.nii.gz"]},inverse_warped_image:{type:"File",label:"Inverse warped",glob:["$(inputs.output_prefix)InverseWarped.nii.gz"]},forward_transforms:{type:"File[]",label:"Forward transforms",glob:["$(inputs.output_prefix)*GenericAffine.mat","$(inputs.output_prefix)*Warp.nii.gz"]},log:{type:"File",label:"Log file",glob:["antsRegistration.log"]}}},"antsRegistrationSyN.sh":{id:"antsRegistrationSyN.sh",cwlPath:"cwl/ants/antsRegistrationSyN.cwl",dockerImage:Q.ants,primaryOutputs:["warped_image","affine_transform","warp_field"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},fixed_image:{type:"File",passthrough:!0,label:"Fixed/reference image"},moving_image:{type:"File",label:"Moving image"},output_prefix:{type:"string",label:"Output prefix"}},optionalInputs:{transform_type:{type:"string",label:"Transform type",flag:"-t",options:["t","r","a","s","sr","b","br"]},num_threads:{type:"int",label:"Number of threads",flag:"-n"},masks:{type:"string",label:"Masks (fixed,moving)",flag:"-x"},initial_transform:{type:"File",label:"Initial transform",flag:"-i"},histogram_matching:{type:"boolean",label:"Histogram matching",flag:"-j"},reproducible:{type:"boolean",label:"Reproducible mode",flag:"-y"}},outputs:{warped_image:{type:"File",label:"Warped image",glob:["$(inputs.output_prefix)Warped.nii.gz"]},inverse_warped_image:{type:"File",label:"Inverse warped",glob:["$(inputs.output_prefix)InverseWarped.nii.gz"]},affine_transform:{type:"File",label:"Affine transform",glob:["$(inputs.output_prefix)0GenericAffine.mat"]},warp_field:{type:"File",label:"Warp field",glob:["$(inputs.output_prefix)1Warp.nii.gz"]},inverse_warp_field:{type:"File",label:"Inverse warp",glob:["$(inputs.output_prefix)1InverseWarp.nii.gz"]},log:{type:"File",label:"Log file",glob:["antsRegistrationSyN.log"]}}},"antsRegistrationSyNQuick.sh":{id:"antsRegistrationSyNQuick.sh",cwlPath:"cwl/ants/antsRegistrationSyNQuick.cwl",dockerImage:Q.ants,primaryOutputs:["warped_image","affine_transform"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},fixed_image:{type:"File",passthrough:!0,label:"Fixed/reference image"},moving_image:{type:"File",label:"Moving image"},output_prefix:{type:"string",label:"Output prefix"}},optionalInputs:{transform_type:{type:"string",label:"Transform type",flag:"-t",options:["t","r","a","s","sr","b","br"]},num_threads:{type:"int",label:"Number of threads",flag:"-n"},masks:{type:"string",label:"Masks (fixed,moving)",flag:"-x"},initial_transform:{type:"File",label:"Initial transform",flag:"-i"},histogram_matching:{type:"boolean",label:"Histogram matching",flag:"-j"}},outputs:{warped_image:{type:"File",label:"Warped image",glob:["$(inputs.output_prefix)Warped.nii.gz"]},affine_transform:{type:"File",label:"Affine transform",glob:["$(inputs.output_prefix)0GenericAffine.mat"]},warp_field:{type:"File",label:"Warp field",glob:["$(inputs.output_prefix)1Warp.nii.gz"]},log:{type:"File",label:"Log file",glob:["antsRegistrationSyNQuick.log"]}}},antsApplyTransforms:{id:"antsApplyTransforms",cwlPath:"cwl/ants/antsApplyTransforms.cwl",dockerImage:Q.ants,primaryOutputs:["transformed_image"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3/4)"},input_image:{type:"File",passthrough:!0,label:"Input image"},reference_image:{type:"File",label:"Reference image"},output_image:{type:"string",label:"Output filename"},transforms:{type:"File[]",label:"Transform files"}},optionalInputs:{interpolation:{type:"string",label:"Interpolation",flag:"-n",options:["Linear","NearestNeighbor","Gaussian","BSpline","GenericLabel"]},default_value:{type:"double",label:"Default value",flag:"-f"},input_image_type:{type:"string",label:"Image type",flag:"-e",options:["0","1","2","3"]},verbose:{type:"boolean",label:"Verbose output",flag:"-v"}},outputs:{transformed_image:{type:"File",label:"Transformed image",glob:["$(inputs.output_image)"]},log:{type:"File",label:"Log file",glob:["antsApplyTransforms.log"]}}},antsMotionCorr:{id:"antsMotionCorr",cwlPath:"cwl/ants/antsMotionCorr.cwl",dockerImage:Q.ants,primaryOutputs:["corrected_image"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},fixed_image:{type:"File",passthrough:!0,label:"Fixed/reference 3D image"},moving_image:{type:"File",label:"Moving 4D time series"},output_prefix:{type:"string",label:"Output prefix"},metric:{type:"string",label:"Metric specification"},transform:{type:"string",label:"Transform type"},iterations:{type:"string",label:"Iterations per level"},shrink_factors:{type:"string",label:"Shrink factors"},smoothing_sigmas:{type:"string",label:"Smoothing sigmas"}},optionalInputs:{num_images:{type:"int",label:"Number of images",flag:"-n"},write_displacement:{type:"boolean",label:"Write displacement field",flag:"-w"},verbose:{type:"boolean",label:"Verbose output",flag:"-v"}},outputs:{corrected_image:{type:"File",label:"Motion-corrected image",glob:["$(inputs.output_prefix)_corrected.nii.gz"]},average_image:{type:"File",label:"Average image",glob:["$(inputs.output_prefix)_avg.nii.gz"]},motion_parameters:{type:"File[]",label:"Motion parameters",glob:["$(inputs.output_prefix)MOCOparams.csv"]},log:{type:"File",label:"Log file",glob:["antsMotionCorr.log"]}}},"antsIntermodalityIntrasubject.sh":{id:"antsIntermodalityIntrasubject.sh",cwlPath:"cwl/ants/antsIntermodalityIntrasubject.cwl",dockerImage:Q.ants,primaryOutputs:["warped_image","affine_transform"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},input_image:{type:"File",passthrough:!0,label:"Input scalar image (b0/pCASL)"},reference_image:{type:"File",label:"Reference T1 image"},output_prefix:{type:"string",label:"Output prefix"}},optionalInputs:{brain_mask:{type:"File",label:"Brain mask",flag:"-x"},transform_type:{type:"string",label:"Transform type",flag:"-t",options:["0","1","2","3"]},template_prefix:{type:"string",label:"Template transform prefix",flag:"-w"},auxiliary_images:{type:"File[]",label:"Auxiliary images to warp",flag:"-a"}},outputs:{warped_image:{type:"File",label:"Warped image",glob:["$(inputs.output_prefix)anatomical.nii.gz"]},affine_transform:{type:"File",label:"Affine transform",glob:["$(inputs.output_prefix)0GenericAffine.mat"]},warp_field:{type:"File",label:"Warp field",glob:["$(inputs.output_prefix)1Warp.nii.gz"]},log:{type:"File",label:"Log file",glob:["antsIntermodalityIntrasubject.log"]}}},Atropos:{id:"Atropos",cwlPath:"cwl/ants/Atropos.cwl",dockerImage:Q.ants,primaryOutputs:["segmentation"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3/4)"},intensity_image:{type:"File",passthrough:!0,label:"Input intensity image"},mask_image:{type:"File",label:"Mask image"},output_prefix:{type:"string",label:"Output filename"},initialization:{type:"string",label:"Initialization (kmeans[n], otsu[n], priors[...])"}},optionalInputs:{likelihood_model:{type:"string",label:"Likelihood model",flag:"-k",options:["Gaussian","HistogramParzenWindows","ManifoldParzenWindows"]},mrf:{type:"string",label:"MRF parameters",flag:"-m"},convergence:{type:"string",label:"Convergence [iters,thresh]",flag:"-c"},prior_weighting:{type:"double",label:"Prior weight",flag:"-w"},verbose:{type:"boolean",label:"Verbose output",flag:"--verbose"}},outputs:{segmentation:{type:"File",label:"Segmentation image",glob:["$(inputs.output_prefix)"]},posteriors:{type:"File[]",label:"Posterior images",glob:["$(inputs.output_prefix)*Posteriors*.nii.gz"]},log:{type:"File",label:"Log file",glob:["Atropos.log"]}}},"antsAtroposN4.sh":{id:"antsAtroposN4.sh",cwlPath:"cwl/ants/antsAtroposN4.cwl",dockerImage:Q.ants,primaryOutputs:["segmentation","bias_corrected"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},input_image:{type:"File",passthrough:!0,label:"Input anatomical image"},mask_image:{type:"File",label:"Mask image"},output_prefix:{type:"string",label:"Output prefix"},num_classes:{type:"int",label:"Number of tissue classes"}},optionalInputs:{n4_atropos_iterations:{type:"int",label:"N4-Atropos iterations",flag:"-m"},atropos_iterations:{type:"int",label:"Atropos iterations",flag:"-n"},prior_images:{type:"string",label:"Prior images pattern",flag:"-p"},prior_weight:{type:"double",label:"Prior weight",flag:"-w"},use_random_seeding:{type:"boolean",label:"Random seeding",flag:"-u"}},outputs:{segmentation:{type:"File",label:"Segmentation",glob:["$(inputs.output_prefix)Segmentation.nii.gz"]},posteriors:{type:"File[]",label:"Posteriors",glob:["$(inputs.output_prefix)SegmentationPosteriors*.nii.gz"]},bias_corrected:{type:"File",label:"Bias-corrected",glob:["$(inputs.output_prefix)BrainSegmentation0N4.nii.gz"]},log:{type:"File",label:"Log file",glob:["antsAtroposN4.log"]}}},"antsBrainExtraction.sh":{id:"antsBrainExtraction.sh",cwlPath:"cwl/ants/antsBrainExtraction.cwl",dockerImage:Q.ants,primaryOutputs:["brain_extracted","brain_mask"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},anatomical_image:{type:"File",passthrough:!0,label:"Input T1 image"},template:{type:"File",label:"Brain template (with skull)"},brain_probability_mask:{type:"File",label:"Brain probability mask"},output_prefix:{type:"string",label:"Output prefix"}},optionalInputs:{registration_mask:{type:"File",label:"Registration mask",flag:"-f"},keep_temporary_files:{type:"boolean",label:"Keep temp files",flag:"-k"},image_suffix:{type:"string",label:"Image suffix",flag:"-s"},use_floatingpoint:{type:"boolean",label:"Float precision",flag:"-q"}},outputs:{brain_extracted:{type:"File",label:"Extracted brain",glob:["$(inputs.output_prefix)BrainExtractionBrain.nii.gz"]},brain_mask:{type:"File",label:"Brain mask",glob:["$(inputs.output_prefix)BrainExtractionMask.nii.gz"]},log:{type:"File",label:"Log file",glob:["antsBrainExtraction.log"]}}},KellyKapowski:{id:"KellyKapowski",cwlPath:"cwl/ants/KellyKapowski.cwl",dockerImage:Q.ants,primaryOutputs:["thickness_image"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},segmentation_image:{type:"File",passthrough:!0,label:"Segmentation image"},gray_matter_prob:{type:"File",label:"Gray matter probability"},white_matter_prob:{type:"File",label:"White matter probability"},output_image:{type:"string",label:"Output thickness image"}},optionalInputs:{convergence:{type:"string",label:"Convergence [iters,thresh,prior]",flag:"-c"},thickness_prior:{type:"double",label:"Thickness prior",flag:"-t"},gradient_step:{type:"double",label:"Gradient step",flag:"-r"},smoothing_sigma:{type:"double",label:"Smoothing sigma",flag:"-m"},verbose:{type:"boolean",label:"Verbose output",flag:"-v"}},outputs:{thickness_image:{type:"File",label:"Cortical thickness",glob:["$(inputs.output_image)"]},log:{type:"File",label:"Log file",glob:["KellyKapowski.log"]}}},"antsCorticalThickness.sh":{id:"antsCorticalThickness.sh",cwlPath:"cwl/ants/antsCorticalThickness.cwl",dockerImage:Q.ants,primaryOutputs:["cortical_thickness","brain_segmentation","brain_extraction_mask"],requiredInputs:{dimensionality:{type:"int",label:"Image dimensionality (2/3)"},anatomical_image:{type:"File",passthrough:!0,label:"Input T1 image"},template:{type:"File",label:"Brain template (with skull)"},brain_probability_mask:{type:"File",label:"Brain probability mask"},segmentation_priors:{type:"string",label:"Segmentation priors pattern"},output_prefix:{type:"string",label:"Output prefix"}},optionalInputs:{registration_mask:{type:"File",label:"Registration mask",flag:"-f"},quick_registration:{type:"boolean",label:"Quick registration",flag:"-q"},run_stage:{type:"string",label:"Stage to run",flag:"-y",options:["0","1","2","3"]},keep_temporary:{type:"boolean",label:"Keep temp files",flag:"-k"},test_mode:{type:"boolean",label:"Test/debug mode",flag:"-z"}},outputs:{cortical_thickness:{type:"File",label:"Cortical thickness",glob:["$(inputs.output_prefix)CorticalThickness.nii.gz"]},brain_segmentation:{type:"File",label:"Brain segmentation",glob:["$(inputs.output_prefix)BrainSegmentation.nii.gz"]},brain_extraction_mask:{type:"File",label:"Brain mask",glob:["$(inputs.output_prefix)BrainExtractionMask.nii.gz"]},brain_normalized:{type:"File",label:"Normalized brain",glob:["$(inputs.output_prefix)BrainNormalizedToTemplate.nii.gz"]},segmentation_posteriors:{type:"File[]",label:"Posteriors",glob:["$(inputs.output_prefix)BrainSegmentationPosteriors*.nii.gz"]},log:{type:"File",label:"Log file",glob:["antsCorticalThickness.log"]}}},eddy:{id:"eddy",cwlPath:"cwl/fsl/eddy.cwl",dockerImage:Q.fsl,primaryOutputs:["corrected_image"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input DWI image",acceptedExtensions:[".nii",".nii.gz"]},bvals:{type:"File",label:"b-values file"},bvecs:{type:"File",label:"b-vectors file"},acqp:{type:"File",label:"Acquisition parameters file"},index:{type:"File",label:"Index file mapping volumes to acquisition parameters"},mask:{type:"File",label:"Brain mask"},output:{type:"string",label:"Output basename"}},optionalInputs:{topup:{type:"string",label:"Topup results basename",flag:"--topup="},repol:{type:"boolean",label:"Detect and replace outlier slices",flag:"--repol"},slm:{type:"string",label:"Second level model (none/linear/quadratic)",flag:"--slm="},niter:{type:"int",label:"Number of iterations",flag:"--niter="},fwhm:{type:"string",label:"FWHM for conditioning regularisation (comma-separated)",flag:"--fwhm="},flm:{type:"string",label:"First level EC model (movement/linear/quadratic/cubic)",flag:"--flm="},interp:{type:"string",label:"Interpolation model (spline/trilinear)",flag:"--interp="},dont_sep_offs_move:{type:"boolean",label:"Do not separate field offset from subject movement",flag:"--dont_sep_offs_move"},data_is_shelled:{type:"boolean",label:"Assume data is shelled (skip check)",flag:"--data_is_shelled"}},outputs:{corrected_image:{type:"File",label:"Eddy-corrected image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},rotated_bvecs:{type:"File",label:"Rotated b-vectors",glob:["$(inputs.output).eddy_rotated_bvecs"]},parameters:{type:"File",label:"Eddy parameters",glob:["$(inputs.output).eddy_parameters"]},log:{type:"File",label:"Log file",glob:["eddy.log"]}}},dtifit:{id:"dtifit",cwlPath:"cwl/fsl/dtifit.cwl",dockerImage:Q.fsl,primaryOutputs:["FA","MD"],requiredInputs:{data:{type:"File",passthrough:!0,label:"Input diffusion data",acceptedExtensions:[".nii",".nii.gz"]},mask:{type:"File",label:"Brain mask"},bvecs:{type:"File",label:"b-vectors file"},bvals:{type:"File",label:"b-values file"},output:{type:"string",label:"Output basename"}},optionalInputs:{wls:{type:"boolean",label:"Use weighted least squares",flag:"-w"},sse:{type:"boolean",label:"Output sum of squared errors",flag:"--sse"},save_tensor:{type:"boolean",label:"Save tensor elements",flag:"--save_tensor"}},outputs:{FA:{type:"File",label:"Fractional anisotropy",glob:["$(inputs.output)_FA.nii.gz","$(inputs.output)_FA.nii"]},MD:{type:"File",label:"Mean diffusivity",glob:["$(inputs.output)_MD.nii.gz","$(inputs.output)_MD.nii"]},L1:{type:"File?",label:"First eigenvalue",glob:["$(inputs.output)_L1.nii.gz","$(inputs.output)_L1.nii"]},L2:{type:"File?",label:"Second eigenvalue",glob:["$(inputs.output)_L2.nii.gz","$(inputs.output)_L2.nii"]},L3:{type:"File?",label:"Third eigenvalue",glob:["$(inputs.output)_L3.nii.gz","$(inputs.output)_L3.nii"]},V1:{type:"File?",label:"First eigenvector",glob:["$(inputs.output)_V1.nii.gz","$(inputs.output)_V1.nii"]},V2:{type:"File?",label:"Second eigenvector",glob:["$(inputs.output)_V2.nii.gz","$(inputs.output)_V2.nii"]},V3:{type:"File?",label:"Third eigenvector",glob:["$(inputs.output)_V3.nii.gz","$(inputs.output)_V3.nii"]},tensor:{type:"File?",label:"Tensor image",glob:["$(inputs.output)_tensor.nii.gz","$(inputs.output)_tensor.nii"],requires:"save_tensor"},log:{type:"File",label:"Log file",glob:["dtifit.log"]}}},bedpostx:{id:"bedpostx",cwlPath:"cwl/fsl/bedpostx.cwl",dockerImage:Q.fsl,primaryOutputs:["output_directory"],requiredInputs:{data_dir:{type:"Directory",passthrough:!0,label:"Input data directory (must contain data, bvals, bvecs, nodif_brain_mask)"}},optionalInputs:{nfibres:{type:"int",label:"Number of fibres per voxel (default 3)",flag:"-n"},model:{type:"int",label:"Deconvolution model (1=monoexp, 2=multiexp, 3=zeppelin)",flag:"-model"},rician:{type:"boolean",label:"Use Rician noise modelling",flag:"--rician"}},outputs:{output_directory:{type:"Directory",label:"BedpostX output directory",glob:["$(inputs.data_dir.basename).bedpostX"]},merged_samples:{type:"File[]",label:"Merged samples",glob:["$(inputs.data_dir.basename).bedpostX/merged_*samples.nii.gz"]},log:{type:"File",label:"Log file",glob:["bedpostx.log"]}}},tbss_1_preproc:{id:"tbss_1_preproc",cwlPath:"cwl/fsl/tbss_1_preproc.cwl",dockerImage:Q.fsl,primaryOutputs:["FA_directory"],requiredInputs:{fa_images:{type:"File[]",passthrough:!0,label:"Input FA images"}},optionalInputs:{},outputs:{FA_directory:{type:"Directory",label:"Preprocessed FA directory",glob:["FA"]},log:{type:"File",label:"Log file",glob:["tbss_1_preproc.log"]}}},tbss_2_reg:{id:"tbss_2_reg",cwlPath:"cwl/fsl/tbss_2_reg.cwl",dockerImage:Q.fsl,primaryOutputs:["FA_directory"],requiredInputs:{fa_directory:{type:"Directory",passthrough:!0,label:"FA directory from tbss_1_preproc"}},optionalInputs:{use_fmrib_target:{type:"boolean",label:"Use FMRIB58_FA standard-space image as target",flag:"-T"},target_image:{type:"File",label:"Use specified image as target",flag:"-t"},find_best_target:{type:"boolean",label:"Find best target from all subjects",flag:"-n"}},outputs:{FA_directory:{type:"Directory",label:"Registered FA directory",glob:["FA"]},log:{type:"File",label:"Log file",glob:["tbss_2_reg.log"]}}},tbss_3_postreg:{id:"tbss_3_postreg",cwlPath:"cwl/fsl/tbss_3_postreg.cwl",dockerImage:Q.fsl,primaryOutputs:["mean_FA","mean_FA_skeleton","all_FA"],requiredInputs:{fa_directory:{type:"Directory",passthrough:!0,label:"FA directory from tbss_2_reg"}},optionalInputs:{study_specific:{type:"boolean",label:"Derive mean FA and skeleton from study data",flag:"-S"},use_fmrib:{type:"boolean",label:"Use FMRIB58_FA mean FA and skeleton",flag:"-T"}},outputs:{mean_FA:{type:"File",label:"Mean FA image",glob:["stats/mean_FA.nii.gz"]},mean_FA_skeleton:{type:"File",label:"Mean FA skeleton",glob:["stats/mean_FA_skeleton.nii.gz"]},all_FA:{type:"File",label:"All FA data (4D)",glob:["stats/all_FA.nii.gz"]},FA_directory:{type:"Directory",label:"FA directory",glob:["FA"]},stats_directory:{type:"Directory",label:"Stats directory",glob:["stats"]},log:{type:"File",label:"Log file",glob:["tbss_3_postreg.log"]}}},tbss_4_prestats:{id:"tbss_4_prestats",cwlPath:"cwl/fsl/tbss_4_prestats.cwl",dockerImage:Q.fsl,primaryOutputs:["all_FA_skeletonised"],requiredInputs:{threshold:{type:"double",label:"FA threshold for skeleton (e.g., 0.2)"},fa_directory:{type:"Directory",passthrough:!0,label:"FA directory from tbss_3_postreg"},stats_directory:{type:"Directory",label:"Stats directory from tbss_3_postreg"}},optionalInputs:{},outputs:{all_FA_skeletonised:{type:"File",label:"Skeletonised FA data (4D)",glob:["stats/all_FA_skeletonised.nii.gz"]},log:{type:"File",label:"Log file",glob:["tbss_4_prestats.log"]}}},oxford_asl:{id:"oxford_asl",cwlPath:"cwl/fsl/oxford_asl.cwl",dockerImage:Q.fsl,primaryOutputs:["output_directory"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input ASL data",acceptedExtensions:[".nii",".nii.gz"]},output_dir:{type:"string",label:"Output directory name"}},optionalInputs:{structural:{type:"File",label:"Structural (T1) image",flag:"-s"},casl:{type:"boolean",label:"Data is CASL/pCASL (continuous ASL)",flag:"--casl"},pasl:{type:"boolean",label:"Data is PASL (pulsed ASL)",flag:"--pasl"},iaf:{type:"string",label:"Input ASL format (tc/ct/diff)",flag:"--iaf"},tis:{type:"string",label:"Inversion times (comma-separated)",flag:"--tis"},bolus:{type:"double",label:"Bolus duration (seconds)",flag:"--bolus"},bat:{type:"double",label:"Bolus arrival time (seconds)",flag:"--bat"},calib:{type:"File",label:"Calibration (M0) image",flag:"-c"},wp:{type:"boolean",label:"Use white paper quantification",flag:"--wp"}},outputs:{output_directory:{type:"Directory",label:"Output directory",glob:["$(inputs.output_dir)"]},perfusion:{type:"File?",label:"Perfusion image",glob:["$(inputs.output_dir)/native_space/perfusion.nii.gz"]},arrival:{type:"File?",label:"Arrival time image",glob:["$(inputs.output_dir)/native_space/arrival.nii.gz"]},log:{type:"File",label:"Log file",glob:["oxford_asl.log"]}}},basil:{id:"basil",cwlPath:"cwl/fsl/basil.cwl",dockerImage:Q.fsl,primaryOutputs:["output_directory"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input ASL difference data",acceptedExtensions:[".nii",".nii.gz"]},output_dir:{type:"string",label:"Output directory name"}},optionalInputs:{casl:{type:"boolean",label:"Data is CASL/pCASL",flag:"--casl"},pasl:{type:"boolean",label:"Data is PASL",flag:"--pasl"},tis:{type:"string",label:"Inversion times (comma-separated)",flag:"--tis"},bolus:{type:"double",label:"Bolus duration (seconds)",flag:"--bolus"},bat:{type:"double",label:"Bolus arrival time (seconds)",flag:"--bat"},mask:{type:"File",label:"Brain mask",flag:"-m"},spatial:{type:"boolean",label:"Use spatial regularisation",flag:"--spatial"}},outputs:{output_directory:{type:"Directory",label:"Output directory",glob:["$(inputs.output_dir)"]},perfusion:{type:"File?",label:"Perfusion image",glob:["$(inputs.output_dir)/mean_ftiss.nii.gz"]},log:{type:"File",label:"Log file",glob:["basil.log"]}}},asl_calib:{id:"asl_calib",cwlPath:"cwl/fsl/asl_calib.cwl",dockerImage:Q.fsl,primaryOutputs:["calibrated_perfusion"],requiredInputs:{perfusion:{type:"File",passthrough:!0,label:"Input perfusion image (relative units)",acceptedExtensions:[".nii",".nii.gz"]},calib_image:{type:"File",label:"Calibration (M0) image"},output:{type:"string",label:"Output filename"}},optionalInputs:{structural:{type:"File",label:"Structural (T1) image",flag:"-s"},mode:{type:"string",label:"Calibration mode (voxel/longtr/satrecov)",flag:"--mode"},tr:{type:"double",label:"TR of calibration image (seconds)",flag:"--tr"},te:{type:"double",label:"TE of calibration image (ms)",flag:"--te"},cgain:{type:"double",label:"Calibration gain",flag:"--cgain"}},outputs:{calibrated_perfusion:{type:"File",label:"Calibrated perfusion image",glob:["$(inputs.output).nii.gz","$(inputs.output).nii"]},log:{type:"File",label:"Log file",glob:["asl_calib.log"]}}},dwidenoise:{id:"dwidenoise",cwlPath:"cwl/mrtrix3/dwidenoise.cwl",dockerImage:Q.mrtrix3,primaryOutputs:["denoised"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input DWI image",acceptedExtensions:[".nii",".nii.gz",".mif"]},output:{type:"string",label:"Output denoised image filename"}},optionalInputs:{noise:{type:"string",label:"Output noise map filename",flag:"-noise"},extent:{type:"string",label:"Sliding window extent (e.g., 5,5,5)",flag:"-extent"},mask:{type:"File",label:"Processing mask",flag:"-mask"}},outputs:{denoised:{type:"File",label:"Denoised image",glob:["$(inputs.output)"]},noise_map:{type:"File?",label:"Noise map",glob:["$(inputs.noise)"],requires:"noise"},log:{type:"File",label:"Log file",glob:["dwidenoise.log"]}}},mrdegibbs:{id:"mrdegibbs",cwlPath:"cwl/mrtrix3/mrdegibbs.cwl",dockerImage:Q.mrtrix3,primaryOutputs:["degibbs"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input image",acceptedExtensions:[".nii",".nii.gz",".mif"]},output:{type:"string",label:"Output corrected image filename"}},optionalInputs:{axes:{type:"string",label:"Slice axes (comma-separated, e.g., 0,1)",flag:"-axes"},nshifts:{type:"int",label:"Number of sub-voxel shifts",flag:"-nshifts"},minW:{type:"int",label:"Minimum window size",flag:"-minW"},maxW:{type:"int",label:"Maximum window size",flag:"-maxW"}},outputs:{degibbs:{type:"File",label:"Gibbs-corrected image",glob:["$(inputs.output)"]},log:{type:"File",label:"Log file",glob:["mrdegibbs.log"]}}},dwi2tensor:{id:"dwi2tensor",cwlPath:"cwl/mrtrix3/dwi2tensor.cwl",dockerImage:Q.mrtrix3,primaryOutputs:["tensor"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input DWI image",acceptedExtensions:[".nii",".nii.gz",".mif"]},output:{type:"string",label:"Output tensor image filename"}},optionalInputs:{mask:{type:"File",label:"Processing mask",flag:"-mask"},b0:{type:"string",label:"Output mean b=0 image filename",flag:"-b0"},dkt:{type:"string",label:"Output diffusion kurtosis tensor filename",flag:"-dkt"},ols:{type:"boolean",label:"Use ordinary least squares estimator",flag:"-ols"},iter:{type:"int",label:"Number of iteratively-reweighted LS iterations",flag:"-iter"}},outputs:{tensor:{type:"File",label:"Tensor image",glob:["$(inputs.output)"]},b0_image:{type:"File?",label:"Mean b=0 image",glob:["$(inputs.b0)"],requires:"b0"},kurtosis_tensor:{type:"File?",label:"Kurtosis tensor image",glob:["$(inputs.dkt)"],requires:"dkt"},log:{type:"File",label:"Log file",glob:["dwi2tensor.log"]}}},tensor2metric:{id:"tensor2metric",cwlPath:"cwl/mrtrix3/tensor2metric.cwl",dockerImage:Q.mrtrix3,primaryOutputs:["fa_map"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input tensor image",acceptedExtensions:[".nii",".nii.gz",".mif"]}},optionalInputs:{fa:{type:"string",label:"Output FA map filename",flag:"-fa"},adc:{type:"string",label:"Output mean diffusivity (ADC) map filename",flag:"-adc"},ad:{type:"string",label:"Output axial diffusivity map filename",flag:"-ad"},rd:{type:"string",label:"Output radial diffusivity map filename",flag:"-rd"},vector:{type:"string",label:"Output eigenvector map filename",flag:"-vector"},value:{type:"string",label:"Output eigenvalue map filename",flag:"-value"},mask:{type:"File",label:"Processing mask",flag:"-mask"}},outputs:{fa_map:{type:"File?",label:"Fractional anisotropy map",glob:["$(inputs.fa)"],requires:"fa"},md_map:{type:"File?",label:"Mean diffusivity map",glob:["$(inputs.adc)"],requires:"adc"},ad_map:{type:"File?",label:"Axial diffusivity map",glob:["$(inputs.ad)"],requires:"ad"},rd_map:{type:"File?",label:"Radial diffusivity map",glob:["$(inputs.rd)"],requires:"rd"},log:{type:"File",label:"Log file",glob:["tensor2metric.log"]}}},dwi2fod:{id:"dwi2fod",cwlPath:"cwl/mrtrix3/dwi2fod.cwl",dockerImage:Q.mrtrix3,primaryOutputs:["wm_fod_image"],requiredInputs:{algorithm:{type:"string",label:"FOD algorithm (csd/msmt_csd)"},input:{type:"File",passthrough:!0,label:"Input DWI image",acceptedExtensions:[".nii",".nii.gz",".mif"]},wm_response:{type:"File",label:"White matter response function"},wm_fod:{type:"string",label:"Output WM FOD image filename"}},optionalInputs:{gm_response:{type:"File",label:"Grey matter response function"},gm_fod:{type:"string",label:"Output GM FOD image filename"},csf_response:{type:"File",label:"CSF response function"},csf_fod:{type:"string",label:"Output CSF FOD image filename"},mask:{type:"File",label:"Processing mask",flag:"-mask"}},outputs:{wm_fod_image:{type:"File",label:"WM fibre orientation distribution",glob:["$(inputs.wm_fod)"]},gm_fod_image:{type:"File?",label:"GM FOD image",glob:["$(inputs.gm_fod)"]},csf_fod_image:{type:"File?",label:"CSF FOD image",glob:["$(inputs.csf_fod)"]},log:{type:"File",label:"Log file",glob:["dwi2fod.log"]}}},tckgen:{id:"tckgen",cwlPath:"cwl/mrtrix3/tckgen.cwl",dockerImage:Q.mrtrix3,primaryOutputs:["tractogram"],requiredInputs:{source:{type:"File",passthrough:!0,label:"Input FOD or tensor image",acceptedExtensions:[".nii",".nii.gz",".mif"]},output:{type:"string",label:"Output tractogram filename"}},optionalInputs:{algorithm:{type:"string",label:"Tracking algorithm (iFOD2/Tensor_Det/Tensor_Prob)",flag:"-algorithm"},seed_image:{type:"File",label:"Seed image for tractography",flag:"-seed_image"},select:{type:"int",label:"Number of streamlines to select",flag:"-select"},cutoff:{type:"double",label:"FOD amplitude cutoff for termination",flag:"-cutoff"},act:{type:"File",label:"ACT tissue-segmented image",flag:"-act"},step:{type:"double",label:"Step size (mm)",flag:"-step"},angle:{type:"double",label:"Maximum angle between steps (degrees)",flag:"-angle"},maxlength:{type:"double",label:"Maximum streamline length (mm)",flag:"-maxlength"}},outputs:{tractogram:{type:"File",label:"Tractogram",glob:["$(inputs.output)"]},log:{type:"File",label:"Log file",glob:["tckgen.log"]}}},tcksift:{id:"tcksift",cwlPath:"cwl/mrtrix3/tcksift.cwl",dockerImage:Q.mrtrix3,primaryOutputs:["filtered_tractogram"],requiredInputs:{input_tracks:{type:"File",passthrough:!0,label:"Input tractogram",acceptedExtensions:[".tck"]},fod:{type:"File",label:"FOD image for filtering"},output:{type:"string",label:"Output filtered tractogram filename"}},optionalInputs:{act:{type:"File",label:"ACT tissue-segmented image",flag:"-act"},term_number:{type:"int",label:"Target number of streamlines",flag:"-term_number"},term_ratio:{type:"double",label:"Target ratio of streamlines to keep",flag:"-term_ratio"}},outputs:{filtered_tractogram:{type:"File",label:"Filtered tractogram",glob:["$(inputs.output)"]},log:{type:"File",label:"Log file",glob:["tcksift.log"]}}},tck2connectome:{id:"tck2connectome",cwlPath:"cwl/mrtrix3/tck2connectome.cwl",dockerImage:Q.mrtrix3,primaryOutputs:["connectome"],requiredInputs:{input_tracks:{type:"File",passthrough:!0,label:"Input tractogram",acceptedExtensions:[".tck"]},parcellation:{type:"File",label:"Parcellation image (atlas)"},output:{type:"string",label:"Output connectivity matrix filename"}},optionalInputs:{assignment_radial_search:{type:"double",label:"Radial search distance for node assignment (mm)",flag:"-assignment_radial_search"},scale_length:{type:"boolean",label:"Scale by streamline length",flag:"-scale_length"},scale_invlength:{type:"boolean",label:"Scale by inverse streamline length",flag:"-scale_invlength"},scale_invnodevol:{type:"boolean",label:"Scale by inverse node volume",flag:"-scale_invnodevol"},stat_edge:{type:"string",label:"Edge statistic (sum/mean/min/max)",flag:"-stat_edge"},symmetric:{type:"boolean",label:"Make matrix symmetric",flag:"-symmetric"},zero_diagonal:{type:"boolean",label:"Zero the diagonal of the matrix",flag:"-zero_diagonal"}},outputs:{connectome:{type:"File",label:"Connectivity matrix",glob:["$(inputs.output)"]},log:{type:"File",label:"Log file",glob:["tck2connectome.log"]}}},fmriprep:{id:"fmriprep",cwlPath:"cwl/fmriprep/fmriprep.cwl",dockerImage:Q.fmriprep,primaryOutputs:["output_directory"],requiredInputs:{bids_dir:{type:"Directory",passthrough:!0,label:"BIDS dataset directory"},output_dir:{type:"string",label:"Output directory"},analysis_level:{type:"string",label:"Analysis level (participant)"}},optionalInputs:{participant_label:{type:"string",label:"Participant label (without sub- prefix)",flag:"--participant-label"},output_spaces:{type:"string",label:"Output spaces (e.g., MNI152NLin2009cAsym)",flag:"--output-spaces"},fs_license_file:{type:"File",label:"FreeSurfer license file",flag:"--fs-license-file"},nprocs:{type:"int",label:"Number of processors",flag:"--nprocs"},mem_mb:{type:"int",label:"Memory limit (MB)",flag:"--mem-mb"},skip_bids_validation:{type:"boolean",label:"Skip BIDS validation",flag:"--skip-bids-validation"}},outputs:{output_directory:{type:"Directory",label:"fMRIPrep output directory",glob:["$(inputs.output_dir)"]},log:{type:"File",label:"Log file",glob:["fmriprep.log"]}}},mriqc:{id:"mriqc",cwlPath:"cwl/mriqc/mriqc.cwl",dockerImage:Q.mriqc,primaryOutputs:["output_directory"],requiredInputs:{bids_dir:{type:"Directory",passthrough:!0,label:"BIDS dataset directory"},output_dir:{type:"string",label:"Output directory"},analysis_level:{type:"string",label:"Analysis level (participant/group)"}},optionalInputs:{participant_label:{type:"string",label:"Participant label (without sub- prefix)",flag:"--participant-label"},modalities:{type:"string",label:"Modalities to process (T1w/T2w/bold)",flag:"--modalities"},no_sub:{type:"boolean",label:"Disable submission of quality metrics",flag:"--no-sub"},nprocs:{type:"int",label:"Number of processors",flag:"--nprocs"},mem_gb:{type:"int",label:"Memory limit (GB)",flag:"--mem-gb"}},outputs:{output_directory:{type:"Directory",label:"MRIQC output directory",glob:["$(inputs.output_dir)"]},log:{type:"File",label:"Log file",glob:["mriqc.log"]}}},mri_gtmpvc:{id:"mri_gtmpvc",cwlPath:"cwl/freesurfer/mri_gtmpvc.cwl",dockerImage:Q.freesurfer,primaryOutputs:["output_directory"],requiredInputs:{input:{type:"File",passthrough:!0,label:"Input PET image",acceptedExtensions:[".nii",".nii.gz",".mgz"]},psf:{type:"double",label:"Point spread function FWHM (mm)"},seg:{type:"File",label:"Segmentation file"},output_dir:{type:"string",label:"Output directory"}},optionalInputs:{auto_mask_fwhm:{type:"double",label:"Auto-mask smoothing FWHM (mm)",flag:"--auto-mask"},auto_mask_thresh:{type:"double",label:"Auto-mask threshold (use with auto_mask_fwhm)"},reg:{type:"File",label:"Registration file (LTA or reg.dat)",flag:"--reg"},regheader:{type:"boolean",label:"Assume registration is identity (header registration)",flag:"--regheader"},no_rescale:{type:"boolean",label:"Do not global rescale",flag:"--no-rescale"},no_reduce_fov:{type:"boolean",label:"Do not reduce FOV",flag:"--no-reduce-fov"},default_seg_merge:{type:"boolean",label:"Use default scheme to merge hemispheres and set tissue types",flag:"--default-seg-merge"},ctab_default:{type:"boolean",label:"Use default FreeSurfer color table with tissue types",flag:"--ctab-default"},vg_thresh:{type:"double",label:"Volume geometry threshold for registration check",flag:"--vg-thresh"}},outputs:{output_directory:{type:"Directory",label:"GTM PVC output directory",glob:["$(inputs.output_dir)"]},gtm_stats:{type:"File?",label:"GTM statistics",glob:["$(inputs.output_dir)/gtm.stats.dat"]},log:{type:"File",label:"Log file",glob:["mri_gtmpvc.log"]},err_log:{type:"File",label:"Error log file",glob:["mri_gtmpvc.err.log"]}}}},Xb=E.createContext(null);function GF({children:e}){const[t,n]=E.useState([]),r=E.useCallback((u,c="danger",f=5e3)=>{const d=Date.now();n(p=>[...p,{id:d,message:u,variant:c,duration:f}])},[]),i=E.useCallback(u=>{n(c=>c.filter(f=>f.id!==u))},[]),a=E.useCallback(u=>{r(u,"danger",6e3)},[r]),o=E.useCallback(u=>{r(u,"warning",5e3)},[r]),l=E.useCallback(u=>{r(u,"success",4e3)},[r]),s=E.useCallback(u=>{r(u,"info",4e3)},[r]);return M.jsxs(Xb.Provider,{value:{showError:a,showWarning:o,showSuccess:l,showInfo:s},children:[e,M.jsx(by,{position:"top-end",className:"p-3",style:{zIndex:9999},children:t.map(u=>M.jsxs(zs,{onClose:()=>i(u.id),autohide:!0,delay:u.duration,bg:u.variant,children:[M.jsx(zs.Header,{closeButton:!0,children:M.jsx("strong",{className:"me-auto",children:u.variant==="danger"?"Error":u.variant==="warning"?"Warning":u.variant==="success"?"Success":"Info"})}),M.jsx(zs.Body,{className:u.variant==="danger"||u.variant==="warning"?"text-white":"",children:u.message})]},u.id))})]})}function Lf(){const e=E.useContext(Xb);return e||{showError:t=>alert(t),showWarning:t=>alert(t),showSuccess:t=>alert(t),showInfo:t=>alert(t)}}const YF=({value:e,onChange:t,onBlur:n,tags:r=[],placeholder:i="latest",isValid:a=!0,prefix:o=""})=>{const[l,s]=E.useState(!1),[u,c]=E.useState(e),[f,d]=E.useState(r),[p,b]=E.useState(-1),[y,w]=E.useState({top:0,left:0,width:0}),m=E.useRef(null),h=E.useRef(null);E.useEffect(()=>{c(e)},[e]),E.useEffect(()=>{d(r),b(-1)},[r]),E.useEffect(()=>{const N=j=>{m.current&&!m.current.contains(j.target)&&s(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),E.useEffect(()=>{if(l&&m.current){const N=m.current.getBoundingClientRect();w({top:N.bottom+4,left:N.left,width:N.width})}},[l]);const v=N=>{const j=N.target.value;c(j),t(j),l||s(!0)},x=()=>{s(!0)},S=N=>{setTimeout(()=>{n&&n(N)},150)},T=N=>{var j;c(N),t(N),s(!1),(j=h.current)==null||j.focus()},I=N=>{if(!l){(N.key==="ArrowDown"||N.key==="ArrowUp")&&(s(!0),N.preventDefault());return}switch(N.key){case"ArrowDown":N.preventDefault(),b(j=>j<f.length-1?j+1:j);break;case"ArrowUp":N.preventDefault(),b(j=>j>0?j-1:-1);break;case"Enter":N.preventDefault(),p>=0&&f[p]?T(f[p]):s(!1);break;case"Escape":s(!1);break;case"Tab":s(!1);break}},L=l&&f.length>0&&Wa.createPortal(M.jsx("div",{className:"tag-dropdown-list",style:{top:y.top,left:y.left,width:y.width},children:f.map((N,j)=>M.jsxs("div",{className:`tag-dropdown-item ${j===p?"highlighted":""} ${N===u?"selected":""}`,onMouseEnter:()=>b(j),onMouseDown:H=>{H.preventDefault(),T(N)},children:[N,N==="latest"&&M.jsx("span",{className:"tag-badge",children:"default"})]},N))}),document.body);return M.jsxs("div",{ref:m,className:`tag-dropdown-wrapper ${l?"focused":""} ${a?"":"invalid"}`,children:[o&&M.jsx("span",{className:"tag-dropdown-prefix",children:o}),M.jsx("input",{ref:h,type:"text",value:u,onChange:v,onFocus:x,onBlur:S,onKeyDown:I,placeholder:i,className:`tag-dropdown-input ${a?"":"invalid"}`,autoComplete:"off"}),M.jsx("span",{className:`tag-dropdown-chevron ${l?"open":""}`,onClick:()=>{var N;s(!l),(N=h.current)==null||N.focus()},children:""}),L]})},KF={fsl:"FSL",afni:"AFNI",ants:"ANTs",freesurfer:"FreeSurfer",mrtrix3:"MRtrix3",fmriprep:"fMRIPrep",mriqc:"MRIQC"},ZF=e=>{for(const[t,n]of Object.entries(Q))if(n===e)return KF[t]||null;return null},XF=({data:e})=>{const t=e.isDummy===!0,{showError:n}=Lf(),[r,i]=E.useState(!1),[a,o]=E.useState(e.parameters||""),[l,s]=E.useState(e.dockerVersion||"latest"),[u,c]=E.useState(!0),[f,d]=E.useState(""),[p,b]=E.useState(!1),[y,w]=E.useState({top:0,left:0}),m=E.useRef(null),h=Vt[e.label],v=(h==null?void 0:h.optionalInputs)||{},x=!!h,S=(h==null?void 0:h.dockerImage)||null,T=S?ZF(S):null,I=T?Nk[T]||["latest"]:["latest"],L=O=>{const k=O.trim();if(!k||k==="latest"){c(!0),d("");return}if(I.includes(k))c(!0),d("");else{c(!1);const B=I.length>4?`${I.slice(0,4).join(", ")}...`:I.join(", ");d(`Unknown tag. Known: ${B}`)}},N=E.useMemo(()=>Va.get(e.label)||null,[e.label]),j=E.useMemo(()=>{if(!x||Object.keys(v).length===0)return`{
    
}`;const O={};return Object.entries(v).forEach(([k,B])=>{if(B.type!=="record")switch(B.type){case"boolean":O[k]=!1;break;case"int":O[k]=B.bounds?B.bounds[0]:0;break;case"double":O[k]=B.bounds?B.bounds[0]:0;break;case"string":O[k]="";break;default:O[k]=null}}),JSON.stringify(O,null,4)},[x,v]),H=E.useMemo(()=>!x||Object.keys(v).length===0?"No optional parameters defined for this tool.":Object.entries(v).filter(([O,k])=>k.type!=="record").map(([O,k])=>` ${O} (${k.type}): ${k.label}`).join(`
`),[x,v]),C=()=>{let O=a;typeof O!="string"&&(O=JSON.stringify(O,null,4)),O.trim()?o(O):o(j),i(!0)},R=()=>{i(!1);const O=l.trim()||"latest";if(O!==l&&s(O),typeof e.onSaveParameters=="function")try{e.onSaveParameters({params:JSON.parse(a),dockerVersion:O})}catch{n("Invalid JSON entered. Defaulting to raw text storage. Please ensure entry is formatted appropriately."),e.onSaveParameters({params:a,dockerVersion:O})}},g=O=>{o(O.target.value)},A=O=>{if(O.key==="Tab"){O.preventDefault();const k="    ",{selectionStart:B,selectionEnd:P}=O.target,D=a.substring(0,B)+k+a.substring(P);o(D),setTimeout(()=>{O.target.selectionStart=O.target.selectionEnd=B+k.length},0)}},U=()=>{if(m.current&&N){const O=m.current.getBoundingClientRect();w({top:O.top+O.height/2,left:O.right+10}),b(!0)}},$=()=>{b(!1)};return t?M.jsx("div",{className:"node-wrapper",children:M.jsxs("div",{className:"node-content",children:[M.jsx(Un,{type:"target",position:pe.Top}),M.jsx("span",{className:"node-label",children:e.label}),M.jsx(Un,{type:"source",position:pe.Bottom})]})}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"node-wrapper",children:[M.jsxs("div",{className:"node-top-row",children:[S?M.jsx("span",{className:"node-version",children:l}):M.jsx("span",{className:"node-version-spacer"}),M.jsx("span",{className:"handle-label",children:"IN"}),M.jsx("span",{className:"node-params-btn",onClick:C,children:"Params"})]}),M.jsxs("div",{onDoubleClick:C,className:"node-content",children:[M.jsx(Un,{type:"target",position:pe.Top}),M.jsx("span",{className:"node-label",children:e.label}),M.jsx(Un,{type:"source",position:pe.Bottom})]}),M.jsxs("div",{className:"node-bottom-row",children:[M.jsx("span",{className:"node-bottom-spacer"}),M.jsx("span",{className:"handle-label",children:"OUT"}),N?M.jsx("span",{ref:m,className:"node-info-btn",onMouseEnter:U,onMouseLeave:$,children:"Info"}):M.jsx("span",{className:"node-info-spacer"})]})]}),p&&N&&Wa.createPortal(M.jsxs("div",{className:"workflow-tooltip",style:{top:y.top,left:y.left,transform:"translateY(-50%)"},children:[N.fullName&&M.jsx("div",{className:"tooltip-section tooltip-fullname",children:M.jsx("span",{className:"tooltip-text",children:N.fullName})}),M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Function:"}),M.jsx("span",{className:"tooltip-text",children:N.function})]}),N.modality&&M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Expected Input:"}),M.jsx("span",{className:"tooltip-text",children:N.modality})]}),N.keyParameters&&M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Key Parameters:"}),M.jsx("span",{className:"tooltip-text",children:N.keyParameters})]}),N.keyPoints&&M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Key Points:"}),M.jsx("span",{className:"tooltip-text",children:N.keyPoints})]}),M.jsxs("div",{className:"tooltip-section",children:[M.jsx("span",{className:"tooltip-label",children:"Typical Use:"}),M.jsx("span",{className:"tooltip-text",children:N.typicalUse})]})]}),document.body),M.jsxs(Wt,{show:r,onHide:R,centered:!0,className:"custom-modal",size:"lg",children:[M.jsx(Wt.Header,{children:M.jsxs(Wt.Title,{style:{fontFamily:"Roboto Mono, monospace",fontSize:"1rem"},children:[e.label," - Optional Parameters"]})}),M.jsx(Wt.Body,{onClick:O=>O.stopPropagation(),children:M.jsxs(Cn,{children:[S&&M.jsxs(Cn.Group,{className:"docker-version-group",children:[M.jsx(Cn.Label,{className:"modal-label",children:"Docker Image"}),M.jsx(YF,{value:l,onChange:s,onBlur:()=>L(l),tags:I,placeholder:"latest",isValid:u,prefix:`${S}:`}),f&&M.jsx("div",{className:"docker-warning-text",children:f}),M.jsx("div",{className:"docker-help-text",children:"Select a tag or enter a custom version"})]}),M.jsxs(Cn.Group,{className:"mb-3",children:[M.jsxs(Cn.Label,{className:"modal-label",children:["Configure optional parameters as JSON.",!x&&" (Tool not fully defined - using generic parameters)"]}),M.jsx(Cn.Control,{as:"textarea",rows:8,value:a,onChange:g,onKeyDown:A,className:"code-input",spellCheck:"false",autoCorrect:"off",autoCapitalize:"off"})]}),x&&Object.keys(v).length>0&&M.jsxs(Cn.Group,{children:[M.jsx(Cn.Label,{className:"modal-label",style:{fontSize:"0.8rem",color:"#808080"},children:"Available options:"}),M.jsx("pre",{style:{fontSize:"0.75rem",color:"#a0a0a0",backgroundColor:"#1a1a1a",padding:"8px",borderRadius:"4px",maxHeight:"150px",overflow:"auto",whiteSpace:"pre-wrap"},children:H})]})]})})]})]})},QF={nifti:[".nii",".nii.gz"],afni:["+orig.HEAD","+orig.BRIK","+tlrc.HEAD","+tlrc.BRIK","+orig.BRIK.gz","+tlrc.BRIK.gz"],freesurfer:[".mgz",".mgh"],surface:[".vtk",".stl",".gii",".pial",".white",".inflated",".sphere",".sulc"],transform_fsl:[".mat"],transform_ants:[".mat","Warp.nii.gz","InverseWarp.nii.gz","GenericAffine.mat"],transform_fs:[".lta",".xfm",".dat"],text:[".txt",".csv",".1D",".par",".tsv"],log:[".log"]},JF={nifti:["nifti","afni","freesurfer"],afni:["nifti","afni"],freesurfer:["nifti","freesurfer"],surface:["surface"],transform_fsl:["transform_fsl","transform_ants"],transform_ants:["transform_fsl","transform_ants"],transform_fs:["transform_fs"],text:["text"],log:["log"]};function eN(e){if(!e||!Array.isArray(e))return[];const t=new Set;for(const n of e){let r=n.replace(/\$\(inputs\.[^)]+\)/g,"");if(r.includes("+orig")||r.includes("+tlrc")){const o=r.match(/(\+(?:orig|tlrc)\.(?:HEAD|BRIK(?:\.gz)?))/);o?t.add(o[1]):(r.includes("+orig")&&t.add("+orig.HEAD"),r.includes("+tlrc")&&t.add("+tlrc.HEAD"));continue}if(r.includes("*")){if(r.match(/\.nii\*/)||r.match(/\*\.nii/)){t.add(".nii"),t.add(".nii.gz");continue}if(r.match(/\*\.\*$/))continue;const o=r.match(/(\.[a-zA-Z0-9]+)\*?$/);o&&t.add(o[1]);continue}const i=r.match(/(\.[a-zA-Z0-9]+\.[a-zA-Z0-9]+)$/);if(i){t.add(i[1]);continue}const a=r.match(/(\.[a-zA-Z0-9]+)$/);a&&t.add(a[1])}return Array.from(t)}function om(e){if(!e||e.length===0)return null;for(const[t,n]of Object.entries(QF))for(const r of e)if(n.includes(r)||t==="afni"&&(r.startsWith("+orig")||r.startsWith("+tlrc")))return t;return null}function tN(e,t){if(!e||e.length===0)return{compatible:!0,warning:!0,reason:"Output extension unknown"};if(!t||t.length===0)return{compatible:!0,warning:!0,reason:"Input accepts any file type"};if(e.some(a=>t.some(o=>{if(a===o)return!0;if(o.includes("*")){const l=o.replace("*","");return a.startsWith(l)}if(a.includes("*")){const l=a.replace("*","");return o.startsWith(l)}return!1})))return{compatible:!0};const r=om(e),i=om(t);return r&&i&&(JF[r]||[]).includes(i)?{compatible:!0,warning:!0,reason:`Cross-format: ${r}  ${i}`}:{compatible:!1,reason:`Extension mismatch: ${e.join(", ")}  ${t.join(", ")}`}}const lm=e=>(e==null?void 0:e.replace(/[\?\[\]]/g,""))||"File",sm=e=>(e==null?void 0:e.includes("[]"))||!1,Qb=(e,t,n=null,r=null)=>{if(!e||!t)return{compatible:!0};const i=lm(e),a=lm(t);if(i==="any"||a==="any")return{compatible:!0};const o=sm(e),l=sm(t);if(o!==l)return{compatible:!1,reason:`Array mismatch: ${e}  ${t}`};if(i!==a)return{compatible:!1,reason:`Type mismatch: ${e}  ${t}`};if(i==="File"&&(n||r)){const s=tN(n,r);if(!s.compatible)return{compatible:!1,reason:s.reason,isExtensionMismatch:!0};if(s.warning)return{compatible:!0,warning:!0,reason:s.reason,isExtensionWarning:!0}}return{compatible:!0}},um=(e,t=!1)=>{if(t)return{outputs:[{name:"output",type:"any",label:"Output",extensions:[]}],inputs:[{name:"input",type:"any",label:"Input",acceptedExtensions:null}],isGeneric:!0,isDummy:!0};const n=Vt[e];return n?{outputs:Object.entries(n.outputs).map(([r,i])=>({name:r,type:i.type,label:i.label||r,extensions:eN(i.glob)})),inputs:Object.entries(n.requiredInputs).filter(([r,i])=>i.passthrough).map(([r,i])=>({name:r,type:i.type,label:i.label||r,acceptedExtensions:i.acceptedExtensions||null})),isGeneric:!1}:{outputs:[{name:"output",type:"File",label:"Output",extensions:[]}],inputs:[{name:"input",type:"File",label:"Input",acceptedExtensions:null}],isGeneric:!0}},nN=({show:e,onClose:t,onSave:n,sourceNode:r,targetNode:i,existingMappings:a=[],hasTypeMismatch:o=!1})=>{const{showWarning:l}=Lf(),[s,u]=E.useState([]),[c,f]=E.useState(null),d=E.useRef({}),p=E.useRef({}),b=E.useRef(null),[y,w]=E.useState([]),m=um(r==null?void 0:r.label,r==null?void 0:r.isDummy),h=um(i==null?void 0:i.label,i==null?void 0:i.isDummy);E.useEffect(()=>{var R;if(e){if(a.length>0)u(a);else{const g=[];if(m.outputs.length>0&&h.inputs.length>0){const A=Vt[r==null?void 0:r.label],U=((R=A==null?void 0:A.primaryOutputs)==null?void 0:R[0])||m.outputs[0].name;g.push({sourceOutput:U,targetInput:h.inputs[0].name})}u(g)}f(null)}},[e,r==null?void 0:r.label,i==null?void 0:i.label]),E.useEffect(()=>{if(e&&b.current){const R=setTimeout(()=>{v()},50);return()=>clearTimeout(R)}},[e,s]);const v=()=>{if(!b.current)return;const R=b.current.getBoundingClientRect(),g=s.map(A=>{const U=d.current[A.sourceOutput],$=p.current[A.targetInput];if(!U||!$)return null;const O=U.getBoundingClientRect(),k=$.getBoundingClientRect();return{x1:O.right-R.left,y1:O.top+O.height/2-R.top,x2:k.left-R.left,y2:k.top+k.height/2-R.top,key:`${A.sourceOutput}-${A.targetInput}`}}).filter(Boolean);w(g)},x=R=>{f(R)},S=R=>{if(c){const g=s.findIndex(A=>A.sourceOutput===c&&A.targetInput===R);g>=0?u(A=>A.filter((U,$)=>$!==g)):u(A=>[...A.filter(U=>U.targetInput!==R),{sourceOutput:c,targetInput:R}]),f(null)}},T=R=>{u(g=>g.filter(A=>!(A.sourceOutput===R.sourceOutput&&A.targetInput===R.targetInput)))},I=()=>{if(s.length===0){l("Please create at least one mapping before saving.");return}n(s)},L=()=>{u([]),f(null),t()},N=R=>s.some(g=>g.sourceOutput===R),j=R=>s.some(g=>g.targetInput===R),H=(R,g)=>{const A=m.outputs.find($=>$.name===R),U=h.inputs.find($=>$.name===g);return Qb(A==null?void 0:A.type,U==null?void 0:U.type,A==null?void 0:A.extensions,U==null?void 0:U.acceptedExtensions)},C=s.some(R=>{const{compatible:g}=H(R.sourceOutput,R.targetInput);return!g});return!r||!i?null:M.jsxs(Wt,{show:e,onHide:L,centered:!0,size:"lg",className:"edge-mapping-modal",children:[M.jsx(Wt.Header,{children:M.jsxs(Wt.Title,{children:["Connect: ",r.label,"  ",i.label]})}),M.jsxs(Wt.Body,{children:[(o||C)&&M.jsxs("div",{className:"type-warning-banner",children:[M.jsx("span",{className:"warning-icon",children:""}),M.jsx("span",{children:"Type mismatch detected. The output and input types may not be compatible."})]}),M.jsxs("div",{className:"mapping-container",ref:b,children:[M.jsxs("div",{className:"io-column outputs-column",children:[M.jsxs("div",{className:"column-header",children:["Outputs (",r.label,")",m.isGeneric&&M.jsx("span",{className:"generic-badge",children:"generic"})]}),m.outputs.map(R=>{var U;const g=s.find($=>$.sourceOutput===R.name),A=g?H(R.name,g.targetInput):{compatible:!0};return M.jsxs("div",{ref:$=>d.current[R.name]=$,className:`io-item output-item ${c===R.name?"selected":""} ${N(R.name)?"mapped":""} ${A.compatible?"":"mismatch-warning"}`,onClick:()=>x(R.name),children:[M.jsxs("div",{className:"io-item-main",children:[M.jsx("span",{className:"io-name",children:R.label}),M.jsx("span",{className:"io-type",children:R.type}),!A.compatible&&M.jsx("span",{className:"warning-icon",title:A.reason,children:""})]}),((U=R.extensions)==null?void 0:U.length)>0&&M.jsx("span",{className:"io-extensions",title:R.extensions.join(", "),children:R.extensions.join(", ")})]},R.name)})]}),M.jsx("svg",{className:"connection-lines",children:y.map(R=>{const g=s.find(U=>`${U.sourceOutput}-${U.targetInput}`===R.key),A=g?H(g.sourceOutput,g.targetInput):{compatible:!0};return M.jsxs("g",{onClick:()=>{g&&T(g)},children:[M.jsx("line",{x1:R.x1,y1:R.y1,x2:R.x2,y2:R.y2,className:`connection-line ${A.compatible?"":"warning-line"}`}),M.jsx("line",{x1:R.x1,y1:R.y1,x2:R.x2,y2:R.y2,className:"connection-line-hitarea"})]},R.key)})}),M.jsxs("div",{className:"io-column inputs-column",children:[M.jsxs("div",{className:"column-header",children:["Inputs (",i.label,")",h.isGeneric&&M.jsx("span",{className:"generic-badge",children:"generic"})]}),h.inputs.map(R=>{var $;const g=s.find(O=>O.targetInput===R.name),A=g?H(g.sourceOutput,R.name):{compatible:!0},U=c?H(c,R.name):{compatible:!0};return M.jsxs("div",{ref:O=>p.current[R.name]=O,className:`io-item input-item ${j(R.name)?"mapped":""} ${c?"clickable":""} ${A.compatible?"":"mismatch-warning"} ${c&&!U.compatible?"mismatch-warning-preview":""}`,onClick:()=>S(R.name),title:U.compatible?"":U.reason,children:[M.jsxs("div",{className:"io-item-main",children:[M.jsx("span",{className:"io-name",children:R.label}),M.jsx("span",{className:"io-type",children:R.type}),!A.compatible&&M.jsx("span",{className:"warning-icon",title:A.reason,children:""})]}),(($=R.acceptedExtensions)==null?void 0:$.length)>0&&M.jsx("span",{className:"io-extensions",title:R.acceptedExtensions.join(", "),children:R.acceptedExtensions.join(", ")})]},R.name)})]})]}),M.jsx("div",{className:"mapping-instructions",children:"Click an output, then click an input to create a connection. Click on a line to remove it."})]}),M.jsxs(Wt.Footer,{children:[M.jsx(Ku,{variant:"secondary",onClick:L,children:"Cancel"}),M.jsx(Ku,{variant:"primary",onClick:I,children:"Save"})]})]})};function rN(e){return E.useMemo(()=>{const t=new Map;for(const n of e)t.set(n.id,n);return t},[e])}const iN={default:XF},aN={};function oN({workflowItems:e,updateCurrentWorkspaceItems:t,onSetWorkflowData:n}){const r=E.useRef(null),[i,a,o]=xF([]),[l,s,u]=kF([]),[c,f]=E.useState(null),d=rN(i),p=E.useRef(i);E.useEffect(()=>{p.current=i},[i]);const[b,y]=E.useState(!1),[w,m]=E.useState(null),[h,v]=E.useState(null),[x,S]=E.useState(null);E.useEffect(()=>{if(e&&typeof e.nodes<"u"&&e.nodes.length!==i.length){const $=(e.nodes||[]).map(k=>({...k,data:{...k.data,onSaveParameters:B=>I(k.id,B)}})),O=(e.edges||[]).map((k,B)=>({...k,id:k.id||`${k.source}-${k.target}-${B}`,animated:!0,markerEnd:{type:Si.ArrowClosed,width:10,height:10},style:{strokeWidth:2}}));a($),s(O)}},[e,i.length]);const T=($,O)=>{t&&t({nodes:$,edges:O})},I=($,O)=>{a(k=>{const B=k.map(P=>P.id===$?{...P,data:{...P.data,parameters:O.params||O,dockerVersion:O.dockerVersion||P.data.dockerVersion||"latest"}}:P);return T(B,l),B})},L=E.useCallback($=>{var B,P,D;m($),v(null);const O=d.get($.source),k=d.get($.target);if(O&&k){let Z=!1;const G=Vt[O.data.label],K=Vt[k.data.label];if(G&&K){const ae=(B=G.primaryOutputs)==null?void 0:B[0],ue=ae?(P=G.outputs[ae])==null?void 0:P.type:null,le=Object.entries(K.requiredInputs||{}).find(([ce,me])=>me.passthrough),se=(D=le==null?void 0:le[1])==null?void 0:D.type;if(ue&&se){const{compatible:ce}=Qb(ue,se);ce||(Z=!0)}}S({sourceNode:{id:O.id,label:O.data.label,isDummy:O.data.isDummy||!1},targetNode:{id:k.id,label:k.data.label,isDummy:k.data.isDummy||!1},hasTypeMismatch:Z}),y(!0)}},[d]),N=E.useCallback(($,O)=>{var P;$.stopPropagation();const k=d.get(O.source),B=d.get(O.target);k&&B&&(v(O),m(null),S({sourceNode:{id:k.id,label:k.data.label,isDummy:k.data.isDummy||!1},targetNode:{id:B.id,label:B.data.label,isDummy:B.data.isDummy||!1},existingMappings:((P=O.data)==null?void 0:P.mappings)||[]}),y(!0))},[d]),j=E.useCallback($=>{if(h)s(O=>{const k=O.map(B=>B.id===h.id?{...B,data:{...B.data,mappings:$}}:B);return T(i,k),k});else if(w){const O={id:`${w.source}-${w.target}-${Date.now()}`,source:w.source,target:w.target,animated:!0,markerEnd:{type:Si.ArrowClosed,width:10,height:10},style:{strokeWidth:2},data:{mappings:$}};s(k=>{const B=[...k,O];return T(i,B),B})}y(!1),m(null),v(null),S(null)},[i,w,h]),H=E.useCallback(()=>{y(!1),m(null),v(null),S(null)},[]),C=E.useCallback($=>{u($),$.filter(k=>k.type==="remove").length>0&&s(k=>(T(p.current,k),k))},[u]),R=$=>{$.preventDefault(),$.dataTransfer.dropEffect="move"},g=$=>{$.preventDefault();const O=$.dataTransfer.getData("node/name")||"Unnamed Node",k=$.dataTransfer.getData("node/isDummy")==="true";if(!c)return;const B=c.screenToFlowPosition({x:$.clientX,y:$.clientY}),P={id:`${Date.now()}`,type:"default",data:{label:O,parameters:"",dockerVersion:"latest",isDummy:k,onSaveParameters:k?null:Z=>I(P.id,Z)},position:B},D=[...i,P];a(D),T(D,l)},A=E.useCallback($=>{const O=new Set($.map(k=>k.id));a(k=>{const B=k.filter(P=>!O.has(P.id));return s(P=>{const D=P.filter(Z=>!O.has(Z.source)&&!O.has(Z.target));return T(B,D),D}),B})},[t]);E.useEffect(()=>{const $=O=>{if(O.key==="Delete"&&c){const k=c.getNodes().filter(B=>B.selected);k.length>0&&A(k)}};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[c,A]);const U=()=>({nodes:i.map($=>({id:$.id,data:$.data,position:$.position})),edges:l.map($=>({id:$.id,source:$.source,target:$.target,data:$.data}))});return E.useEffect(()=>{n&&n(()=>U)},[i,l,n]),M.jsxs("div",{className:"workflow-canvas",children:[M.jsx("div",{ref:r,onDrop:g,onDragOver:R,className:"workflow-canvas-container",children:M.jsxs(Vb,{nodes:i,edges:l,onNodesChange:o,onEdgesChange:C,onConnect:L,onNodesDelete:A,onEdgeDoubleClick:N,fitView:!0,nodeTypes:iN,edgeTypes:aN,onInit:$=>f($),children:[M.jsx(RF,{}),M.jsx(qF,{variant:"dots",gap:12,size:1}),M.jsx(UF,{})]})}),M.jsx(nN,{show:b,onClose:H,onSave:j,sourceNode:x==null?void 0:x.sourceNode,targetNode:x==null?void 0:x.targetNode,existingMappings:(x==null?void 0:x.existingMappings)||[],hasTypeMismatch:(x==null?void 0:x.hasTypeMismatch)||!1})]})}function lN({name:e,onNameChange:t}){const[n,r]=E.useState(e||"");E.useEffect(()=>{r(e||"")},[e]);const i=o=>{const l=o.target.value;r(l),t(l)},a=()=>{const o=n.trim();r(o),t(o)};return M.jsx("div",{className:"workflow-name-container",children:M.jsxs("div",{className:"workflow-name-input-wrapper",children:[M.jsx("input",{type:"text",className:"workflow-name-input",value:n,onChange:i,onBlur:a,placeholder:"main",maxLength:50}),M.jsx("span",{className:"workflow-name-suffix",children:".cwl"})]})})}const sN=()=>M.jsx("footer",{className:"footer",children:M.jsxs("div",{className:"footer-content",children:[M.jsx("img",{src:"/niBuild/images/SDS Monogram Logo Color-Screen.png",alt:"SDS Logo",className:"footer-logo"}),M.jsxs("span",{className:"footer-span",children:["[Authors = Agarwal K.",M.jsx("a",{href:"https://www.linkedin.com/in/kunaal-agarwal/",target:"_blank",rel:"noopener noreferrer",className:"footer-links footer-span",children:" [Info]"}),", Dawood A.",M.jsx("a",{href:"https://www.linkedin.com/in/adamadawood/",target:"_blank",rel:"noopener noreferrer",className:"footer-links footer-span",children:" [Info]"}),", Rasero J.",M.jsx("a",{href:"https://datascience.virginia.edu/people/javier-rasero",target:"_blank",rel:"noopener noreferrer",className:"footer-links footer-span",children:" [Info]"}),"]"]})]})});function cm(e,t,n=300){const r=E.useRef(null),i=E.useRef(t);i.current=t,E.useEffect(()=>(r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{try{localStorage.setItem(e,JSON.stringify(i.current))}catch(a){console.error(`Failed to save to localStorage key "${e}":`,a)}},n),()=>{r.current&&clearTimeout(r.current)}),[e,t,n])}function uN(){const[e,t]=E.useState(()=>{const u=JSON.parse(localStorage.getItem("workspaces"));return u?u.map(c=>({nodes:c.nodes||[],edges:c.edges||[],name:c.name||""})):[{nodes:[],edges:[],name:""}]}),[n,r]=E.useState(()=>{const u=parseInt(localStorage.getItem("currentWorkspace"),10);return isNaN(u)?0:u});return cm("workspaces",e,300),cm("currentWorkspace",n,300),{workspaces:e,currentWorkspace:n,setCurrentWorkspace:r,addNewWorkspace:()=>{t(u=>[...u,{nodes:[],edges:[],name:""}]),r(e.length)},clearCurrentWorkspace:()=>{t(u=>{var d;const c=[...u],f=((d=c[n])==null?void 0:d.name)||"";return c[n]={nodes:[],edges:[],name:f},c})},updateCurrentWorkspaceItems:u=>{t(c=>{var p;const f=[...c],d=((p=f[n])==null?void 0:p.name)||"";return f[n]={...u,name:d},f})},removeCurrentWorkspace:()=>{t(u=>{if(u.length===1)return u;const c=u.filter((f,d)=>d!==n);return n>=c.length&&r(c.length-1),c})},updateWorkspaceName:u=>{t(c=>{const f=[...c];return f[n]={...f[n],name:u},f})}}}function So(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jb={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function o(u,c){if(!i[u]){if(!r[u]){var f=typeof So=="function"&&So;if(!c&&f)return f(u,!0);if(l)return l(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var p=i[u]={exports:{}};r[u][0].call(p.exports,function(b){var y=r[u][1][b];return o(y||b)},p,p.exports,n,r,i,a)}return i[u].exports}for(var l=typeof So=="function"&&So,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(n,r,i){var a=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(s){for(var u,c,f,d,p,b,y,w=[],m=0,h=s.length,v=h,x=a.getTypeOf(s)!=="string";m<s.length;)v=h-m,f=x?(u=s[m++],c=m<h?s[m++]:0,m<h?s[m++]:0):(u=s.charCodeAt(m++),c=m<h?s.charCodeAt(m++):0,m<h?s.charCodeAt(m++):0),d=u>>2,p=(3&u)<<4|c>>4,b=1<v?(15&c)<<2|f>>6:64,y=2<v?63&f:64,w.push(l.charAt(d)+l.charAt(p)+l.charAt(b)+l.charAt(y));return w.join("")},i.decode=function(s){var u,c,f,d,p,b,y=0,w=0,m="data:";if(s.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var h,v=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===l.charAt(64)&&v--,s.charAt(s.length-2)===l.charAt(64)&&v--,v%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=o.uint8array?new Uint8Array(0|v):new Array(0|v);y<s.length;)u=l.indexOf(s.charAt(y++))<<2|(d=l.indexOf(s.charAt(y++)))>>4,c=(15&d)<<4|(p=l.indexOf(s.charAt(y++)))>>2,f=(3&p)<<6|(b=l.indexOf(s.charAt(y++))),h[w++]=u,p!==64&&(h[w++]=c),b!==64&&(h[w++]=f);return h}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),s=n("./stream/DataLengthProbe");function u(c,f,d,p,b){this.compressedSize=c,this.uncompressedSize=f,this.crc32=d,this.compression=p,this.compressedContent=b}u.prototype={getContentWorker:function(){var c=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),f=this;return c.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,f,d){return c.pipe(new l).pipe(new s("uncompressedSize")).pipe(f.compressWorker(d)).pipe(new s("compressedSize")).withStreamInfo("compression",f)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),o=function(){for(var l,s=[],u=0;u<256;u++){l=u;for(var c=0;c<8;c++)l=1&l?3988292384^l>>>1:l>>>1;s[u]=l}return s}();r.exports=function(l,s){return l!==void 0&&l.length?a.getTypeOf(l)!=="string"?function(u,c,f,d){var p=o,b=d+f;u^=-1;for(var y=d;y<b;y++)u=u>>>8^p[255&(u^c[y])];return-1^u}(0|s,l,l.length,0):function(u,c,f,d){var p=o,b=d+f;u^=-1;for(var y=d;y<b;y++)u=u>>>8^p[255&(u^c.charCodeAt(y))];return-1^u}(0|s,l,l.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),s=n("./stream/GenericWorker"),u=a?"uint8array":"array";function c(f,d){s.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=d,this.meta={}}i.magic="\b\0",l.inherits(c,s),c.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(u,f.data),!1)},c.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(d){f.push({data:d,meta:f.meta})}},i.compressWorker=function(f){return new c("Deflate",f)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(p,b){var y,w="";for(y=0;y<b;y++)w+=String.fromCharCode(255&p),p>>>=8;return w}function o(p,b,y,w,m,h){var v,x,S=p.file,T=p.compression,I=h!==u.utf8encode,L=l.transformTo("string",h(S.name)),N=l.transformTo("string",u.utf8encode(S.name)),j=S.comment,H=l.transformTo("string",h(j)),C=l.transformTo("string",u.utf8encode(j)),R=N.length!==S.name.length,g=C.length!==j.length,A="",U="",$="",O=S.dir,k=S.date,B={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(B.crc32=p.crc32,B.compressedSize=p.compressedSize,B.uncompressedSize=p.uncompressedSize);var P=0;b&&(P|=8),I||!R&&!g||(P|=2048);var D=0,Z=0;O&&(D|=16),m==="UNIX"?(Z=798,D|=function(K,ae){var ue=K;return K||(ue=ae?16893:33204),(65535&ue)<<16}(S.unixPermissions,O)):(Z=20,D|=function(K){return 63&(K||0)}(S.dosPermissions)),v=k.getUTCHours(),v<<=6,v|=k.getUTCMinutes(),v<<=5,v|=k.getUTCSeconds()/2,x=k.getUTCFullYear()-1980,x<<=4,x|=k.getUTCMonth()+1,x<<=5,x|=k.getUTCDate(),R&&(U=a(1,1)+a(c(L),4)+N,A+="up"+a(U.length,2)+U),g&&($=a(1,1)+a(c(H),4)+C,A+="uc"+a($.length,2)+$);var G="";return G+=`
\0`,G+=a(P,2),G+=T.magic,G+=a(v,2),G+=a(x,2),G+=a(B.crc32,4),G+=a(B.compressedSize,4),G+=a(B.uncompressedSize,4),G+=a(L.length,2),G+=a(A.length,2),{fileRecord:f.LOCAL_FILE_HEADER+G+L+A,dirRecord:f.CENTRAL_FILE_HEADER+a(Z,2)+G+a(H.length,2)+"\0\0\0\0"+a(D,4)+a(w,4)+L+A+H}}var l=n("../utils"),s=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),f=n("../signature");function d(p,b,y,w){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=w,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(d,s),d.prototype.push=function(p){var b=p.meta.percent||0,y=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,s.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-w-1))/y:100}}))},d.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var b=this.streamFiles&&!p.file.dir;if(b){var y=o(p,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(p){this.accumulate=!1;var b=this.streamFiles&&!p.file.dir,y=o(p,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(w){return f.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var p=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-p,w=function(m,h,v,x,S){var T=l.transformTo("string",S(x));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(m,2)+a(m,2)+a(h,4)+a(v,4)+a(T.length,2)+T}(this.dirRecords.length,y,p,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(p){this._sources.push(p);var b=this;return p.on("data",function(y){b.processChunk(y)}),p.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),p.on("error",function(y){b.error(y)}),this},d.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(p){var b=this._sources;if(!s.prototype.error.call(this,p))return!1;for(var y=0;y<b.length;y++)try{b[y].error(p)}catch{}return!0},d.prototype.lock=function(){s.prototype.lock.call(this);for(var p=this._sources,b=0;b<p.length;b++)p[b].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(l,s,u){var c=new o(s.streamFiles,u,s.platform,s.encodeFileName),f=0;try{l.forEach(function(d,p){f++;var b=function(h,v){var x=h||v,S=a[x];if(!S)throw new Error(x+" is not a valid compression method !");return S}(p.options.compression,s.compression),y=p.options.compressionOptions||s.compressionOptions||{},w=p.dir,m=p.date;p._compressWorker(b,y).withStreamInfo("file",{name:d,dir:w,date:m,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(c)}),c.entriesCount=f}catch(d){c.error(d)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,l){return new a().loadAsync(o,l)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),o=n("./external"),l=n("./utf8"),s=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function f(d){return new o.Promise(function(p,b){var y=d.decompressed.getContentWorker().pipe(new u);y.on("error",function(w){b(w)}).on("end",function(){y.streamInfo.crc32!==d.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(d,p){var b=this;return p=a.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),c.isNode&&c.isStream(d)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",d,!0,p.optimizedBinaryString,p.base64).then(function(y){var w=new s(p);return w.load(y),w}).then(function(y){var w=[o.Promise.resolve(y)],m=y.files;if(p.checkCRC32)for(var h=0;h<m.length;h++)w.push(f(m[h]));return o.Promise.all(w)}).then(function(y){for(var w=y.shift(),m=w.files,h=0;h<m.length;h++){var v=m[h],x=v.fileNameStr,S=a.resolve(v.fileNameStr);b.file(S,v.decompressed,{binary:!0,optimizedBinaryString:!0,date:v.date,dir:v.dir,comment:v.fileCommentStr.length?v.fileCommentStr:null,unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions,createFolders:p.createFolders}),v.dir||(b.file(S).unsafeOriginalName=x)}return w.zipComment.length&&(b.comment=w.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),o=n("../stream/GenericWorker");function l(s,u){o.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(l,o),l.prototype._bindStream=function(s){var u=this;(this._stream=s).pause(),s.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function o(l,s,u){a.call(this,s),this._helper=l;var c=this;l.on("data",function(f,d){c.push(f)||c._helper.pause(),u&&u(d)}).on("error",function(f){c.emit("error",f)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(S,T,I){var L,N=l.getTypeOf(T),j=l.extend(I||{},c);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(S=m(S)),j.createFolders&&(L=w(S))&&h.call(this,L,!0);var H=N==="string"&&j.binary===!1&&j.base64===!1;I&&I.binary!==void 0||(j.binary=!H),(T instanceof f&&T.uncompressedSize===0||j.dir||!T||T.length===0)&&(j.base64=!1,j.binary=!0,T="",j.compression="STORE",N="string");var C=null;C=T instanceof f||T instanceof s?T:b.isNode&&b.isStream(T)?new y(S,T):l.prepareContent(S,T,j.binary,j.optimizedBinaryString,j.base64);var R=new d(S,C,j);this.files[S]=R}var o=n("./utf8"),l=n("./utils"),s=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),f=n("./compressedObject"),d=n("./zipObject"),p=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),w=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var T=S.lastIndexOf("/");return 0<T?S.substring(0,T):""},m=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},h=function(S,T){return T=T!==void 0?T:c.createFolders,S=m(S),this.files[S]||a.call(this,S,null,{dir:!0,createFolders:T}),this.files[S]};function v(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var T,I,L;for(T in this.files)L=this.files[T],(I=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&S(I,L)},filter:function(S){var T=[];return this.forEach(function(I,L){S(I,L)&&T.push(L)}),T},file:function(S,T,I){if(arguments.length!==1)return S=this.root+S,a.call(this,S,T,I),this;if(v(S)){var L=S;return this.filter(function(j,H){return!H.dir&&L.test(j)})}var N=this.files[this.root+S];return N&&!N.dir?N:null},folder:function(S){if(!S)return this;if(v(S))return this.filter(function(N,j){return j.dir&&S.test(N)});var T=this.root+S,I=h.call(this,T),L=this.clone();return L.root=I.name,L},remove:function(S){S=this.root+S;var T=this.files[S];if(T||(S.slice(-1)!=="/"&&(S+="/"),T=this.files[S]),T&&!T.dir)delete this.files[S];else for(var I=this.filter(function(N,j){return j.name.slice(0,S.length)===S}),L=0;L<I.length;L++)delete this.files[I[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var T,I={};try{if((I=l.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");l.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var L=I.comment||this.comment||"";T=p.generateWorker(this,I,L)}catch(N){(T=new s("error")).error(N)}return new u(T,I.type||"string",I.mimeType)},generateAsync:function(S,T){return this.generateInternalStream(S).accumulate(T)},generateNodeStream:function(S,T){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(T)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function o(l){a.call(this,l);for(var s=0;s<this.data.length;s++)l[s]=255&l[s]}n("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var s=l.charCodeAt(0),u=l.charCodeAt(1),c=l.charCodeAt(2),f=l.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===s&&this.data[d+1]===u&&this.data[d+2]===c&&this.data[d+3]===f)return d-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var s=l.charCodeAt(0),u=l.charCodeAt(1),c=l.charCodeAt(2),f=l.charCodeAt(3),d=this.readData(4);return s===d[0]&&u===d[1]&&c===d[2]&&f===d[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var s,u=0;for(this.checkOffset(l),s=this.index+l-1;s>=this.index;s--)u=(u<<8)+this.byteAt(s);return this.index+=l,u},readString:function(l){return a.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.readData=function(l){this.checkOffset(l);var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function o(l){a.call(this,l)}n("../utils").inherits(o,a),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),o=n("../support"),l=n("./ArrayReader"),s=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(f){var d=a.getTypeOf(f);return a.checkSupport(d),d!=="string"||o.uint8array?d==="nodebuffer"?new u(f):o.uint8array?new c(a.transformTo("uint8array",f)):new l(a.transformTo("array",f)):new s(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),o=n("../utils");function l(s){a.call(this,"ConvertWorker to "+s),this.destType=s}o.inherits(l,a),l.prototype.processChunk=function(s){this.push({data:o.transformTo(this.destType,s.data),meta:s.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),o=n("../crc32");function l(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,a),l.prototype.processChunk=function(s){this.streamInfo.crc32=o(s.data,this.streamInfo.crc32||0),this.push(s)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function l(s){o.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}a.inherits(l,o),l.prototype.processChunk=function(s){if(s){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+s.data.length}o.prototype.processChunk.call(this,s)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function l(s){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,u);break;case"uint8array":s=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":s=this.data.slice(this.index,u)}return this.index=u,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var s=0;s<this._listeners[o].length;s++)this._listeners[o][s].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(s){l.processChunk(s)}),o.on("end",function(){l.end()}),o.on("error",function(s){l.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),s=n("../base64"),u=n("../support"),c=n("../external"),f=null;if(u.nodestream)try{f=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(b,y){return new c.Promise(function(w,m){var h=[],v=b._internalType,x=b._outputType,S=b._mimeType;b.on("data",function(T,I){h.push(T),y&&y(I)}).on("error",function(T){h=[],m(T)}).on("end",function(){try{var T=function(I,L,N){switch(I){case"blob":return a.newBlob(a.transformTo("arraybuffer",L),N);case"base64":return s.encode(L);default:return a.transformTo(I,L)}}(x,function(I,L){var N,j=0,H=null,C=0;for(N=0;N<L.length;N++)C+=L[N].length;switch(I){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(H=new Uint8Array(C),N=0;N<L.length;N++)H.set(L[N],j),j+=L[N].length;return H;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+I+"'")}}(v,h),S);w(T)}catch(I){m(I)}h=[]}).resume()})}function p(b,y,w){var m=y;switch(y){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=y,this._mimeType=w,a.checkSupport(m),this._worker=b.pipe(new o(m)),b.lock()}catch(h){this._worker=new l("error"),this._worker.error(h)}}p.prototype={accumulate:function(b){return d(this,b)},on:function(b,y){var w=this;return b==="data"?this._worker.on(b,function(m){y.call(w,m.data,m.meta)}):this._worker.on(b,function(){a.delay(y,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),s=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function f(){s.call(this,"utf-8 decode"),this.leftOver=null}function d(){s.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?l.newBufferFrom(p,"utf-8"):function(b){var y,w,m,h,v,x=b.length,S=0;for(h=0;h<x;h++)(64512&(w=b.charCodeAt(h)))==55296&&h+1<x&&(64512&(m=b.charCodeAt(h+1)))==56320&&(w=65536+(w-55296<<10)+(m-56320),h++),S+=w<128?1:w<2048?2:w<65536?3:4;for(y=o.uint8array?new Uint8Array(S):new Array(S),h=v=0;v<S;h++)(64512&(w=b.charCodeAt(h)))==55296&&h+1<x&&(64512&(m=b.charCodeAt(h+1)))==56320&&(w=65536+(w-55296<<10)+(m-56320),h++),w<128?y[v++]=w:(w<2048?y[v++]=192|w>>>6:(w<65536?y[v++]=224|w>>>12:(y[v++]=240|w>>>18,y[v++]=128|w>>>12&63),y[v++]=128|w>>>6&63),y[v++]=128|63&w);return y}(p)},i.utf8decode=function(p){return o.nodebuffer?a.transformTo("nodebuffer",p).toString("utf-8"):function(b){var y,w,m,h,v=b.length,x=new Array(2*v);for(y=w=0;y<v;)if((m=b[y++])<128)x[w++]=m;else if(4<(h=u[m]))x[w++]=65533,y+=h-1;else{for(m&=h===2?31:h===3?15:7;1<h&&y<v;)m=m<<6|63&b[y++],h--;1<h?x[w++]=65533:m<65536?x[w++]=m:(m-=65536,x[w++]=55296|m>>10&1023,x[w++]=56320|1023&m)}return x.length!==w&&(x.subarray?x=x.subarray(0,w):x.length=w),a.applyFromCharCode(x)}(p=a.transformTo(o.uint8array?"uint8array":"array",p))},a.inherits(f,s),f.prototype.processChunk=function(p){var b=a.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var w=function(h,v){var x;for((v=v||h.length)>h.length&&(v=h.length),x=v-1;0<=x&&(192&h[x])==128;)x--;return x<0||x===0?v:x+u[h[x]]>v?x:v}(b),m=b;w!==b.length&&(o.uint8array?(m=b.subarray(0,w),this.leftOver=b.subarray(w,b.length)):(m=b.slice(0,w),this.leftOver=b.slice(w,b.length))),this.push({data:i.utf8decode(m),meta:p.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,a.inherits(d,s),d.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),s=n("./external");function u(y){return y}function c(y,w){for(var m=0;m<y.length;++m)w[m]=255&y.charCodeAt(m);return w}n("setimmediate"),i.newBlob=function(y,w){i.checkSupport("blob");try{return new Blob([y],{type:w})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(y),m.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(y,w,m){var h=[],v=0,x=y.length;if(x<=m)return String.fromCharCode.apply(null,y);for(;v<x;)w==="array"||w==="nodebuffer"?h.push(String.fromCharCode.apply(null,y.slice(v,Math.min(v+m,x)))):h.push(String.fromCharCode.apply(null,y.subarray(v,Math.min(v+m,x)))),v+=m;return h.join("")},stringifyByChar:function(y){for(var w="",m=0;m<y.length;m++)w+=String.fromCharCode(y[m]);return w},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function d(y){var w=65536,m=i.getTypeOf(y),h=!0;if(m==="uint8array"?h=f.applyCanBeUsed.uint8array:m==="nodebuffer"&&(h=f.applyCanBeUsed.nodebuffer),h)for(;1<w;)try{return f.stringifyByChunk(y,m,w)}catch{w=Math.floor(w/2)}return f.stringifyByChar(y)}function p(y,w){for(var m=0;m<y.length;m++)w[m]=y[m];return w}i.applyFromCharCode=d;var b={};b.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,l.allocBuffer(y.length))}},b.array={string:d,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(y)}},b.arraybuffer={string:function(y){return d(new Uint8Array(y))},array:function(y){return p(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return l.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:d,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return l.newBufferFrom(y)}},b.nodebuffer={string:d,array:function(y){return p(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return p(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,w){if(w=w||"",!y)return w;i.checkSupport(y);var m=i.getTypeOf(w);return b[m][y](w)},i.resolve=function(y){for(var w=y.split("/"),m=[],h=0;h<w.length;h++){var v=w[h];v==="."||v===""&&h!==0&&h!==w.length-1||(v===".."?m.pop():m.push(v))}return m.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&l.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var w,m,h="";for(m=0;m<(y||"").length;m++)h+="\\x"+((w=y.charCodeAt(m))<16?"0":"")+w.toString(16).toUpperCase();return h},i.delay=function(y,w,m){setImmediate(function(){y.apply(m||null,w||[])})},i.inherits=function(y,w){function m(){}m.prototype=w.prototype,y.prototype=new m},i.extend=function(){var y,w,m={};for(y=0;y<arguments.length;y++)for(w in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],w)&&m[w]===void 0&&(m[w]=arguments[y][w]);return m},i.prepareContent=function(y,w,m,h,v){return s.Promise.resolve(w).then(function(x){return a.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new s.Promise(function(S,T){var I=new FileReader;I.onload=function(L){S(L.target.result)},I.onerror=function(L){T(L.target.error)},I.readAsArrayBuffer(x)}):x}).then(function(x){var S=i.getTypeOf(x);return S?(S==="arraybuffer"?x=i.transformTo("uint8array",x):S==="string"&&(v?x=o.decode(x):m&&h!==!0&&(x=function(T){return c(T,a.uint8array?new Uint8Array(T.length):new Array(T.length))}(x))),x):s.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),s=n("./zipEntry"),u=n("./support");function c(f){this.files=[],this.loadOptions=f}c.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(d)+", expected "+o.pretty(f)+")")}},isSignature:function(f,d){var p=this.reader.index;this.reader.setIndex(f);var b=this.reader.readString(4)===d;return this.reader.setIndex(p),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),d=u.uint8array?"uint8array":"array",p=o.transformTo(d,f);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,d,p,b=this.zip64EndOfCentralSize-44;0<b;)f=this.reader.readInt(2),d=this.reader.readInt(4),p=this.reader.readData(d),this.zip64ExtensibleData[f]={id:f,length:d,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,d;for(f=0;f<this.files.length;f++)d=this.files[f],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(f=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var d=f;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var b=d-p;if(0<b)this.isSignature(d,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(f){this.reader=a(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),s=n("./crc32"),u=n("./utf8"),c=n("./compressions"),f=n("./support");function d(p,b){this.options=p,this.loadOptions=b}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var b,y;if(p.skip(22),this.fileNameLength=p.readInt(2),y=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(w){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===w)return c[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var b=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(b),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var b,y,w,m=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<m;)b=p.readInt(2),y=p.readInt(2),w=p.readData(y),this.extraFields[b]={id:b,length:y,value:w};p.setIndex(m)},handleUTF8:function(){var p=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var m=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var b=a(p.value);return b.readInt(1)!==1||s(this.fileName)!==b.readInt(4)?null:u.utf8decode(b.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var b=a(p.value);return b.readInt(1)!==1||s(this.fileComment)!==b.readInt(4)?null:u.utf8decode(b.readData(p.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(b,y,w){this.name=b,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=y,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),s=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");a.prototype={internalStream:function(b){var y=null,w="string";try{if(!b)throw new Error("No output type specified.");var m=(w=b.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),y=this._decompressWorker();var h=!this._dataBinary;h&&!m&&(y=y.pipe(new s.Utf8EncodeWorker)),!h&&m&&(y=y.pipe(new s.Utf8DecodeWorker))}catch(v){(y=new c("error")).error(v)}return new o(y,w,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof u&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new s.Utf8EncodeWorker)),u.createWorkerFrom(w,b,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new l(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<f.length;p++)a.prototype[f[p]]=d;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var o,l,s=a.MutationObserver||a.WebKitMutationObserver;if(s){var u=0,c=new s(b),f=a.document.createTextNode("");c.observe(f,{characterData:!0}),o=function(){f.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var d=new a.MessageChannel;d.port1.onmessage=b,o=function(){d.port2.postMessage(0)}}var p=[];function b(){var y,w;l=!0;for(var m=p.length;m;){for(w=p,p=[],y=-1;++y<m;)w[y]();m=p.length}l=!1}r.exports=function(y){p.push(y)!==1||l||o()}}).call(this,typeof cn<"u"?cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function o(){}var l={},s=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function f(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==o&&y(this,m)}function d(m,h,v){this.promise=m,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof v=="function"&&(this.onRejected=v,this.callRejected=this.otherCallRejected)}function p(m,h,v){a(function(){var x;try{x=h(v)}catch(S){return l.reject(m,S)}x===m?l.reject(m,new TypeError("Cannot resolve promise with itself")):l.resolve(m,x)})}function b(m){var h=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof h=="function")return function(){h.apply(m,arguments)}}function y(m,h){var v=!1;function x(I){v||(v=!0,l.reject(m,I))}function S(I){v||(v=!0,l.resolve(m,I))}var T=w(function(){h(S,x)});T.status==="error"&&x(T.value)}function w(m,h){var v={};try{v.value=m(h),v.status="success"}catch(x){v.status="error",v.value=x}return v}(r.exports=f).prototype.finally=function(m){if(typeof m!="function")return this;var h=this.constructor;return this.then(function(v){return h.resolve(m()).then(function(){return v})},function(v){return h.resolve(m()).then(function(){throw v})})},f.prototype.catch=function(m){return this.then(null,m)},f.prototype.then=function(m,h){if(typeof m!="function"&&this.state===u||typeof h!="function"&&this.state===s)return this;var v=new this.constructor(o);return this.state!==c?p(v,this.state===u?m:h,this.outcome):this.queue.push(new d(v,m,h)),v},d.prototype.callFulfilled=function(m){l.resolve(this.promise,m)},d.prototype.otherCallFulfilled=function(m){p(this.promise,this.onFulfilled,m)},d.prototype.callRejected=function(m){l.reject(this.promise,m)},d.prototype.otherCallRejected=function(m){p(this.promise,this.onRejected,m)},l.resolve=function(m,h){var v=w(b,h);if(v.status==="error")return l.reject(m,v.value);var x=v.value;if(x)y(m,x);else{m.state=u,m.outcome=h;for(var S=-1,T=m.queue.length;++S<T;)m.queue[S].callFulfilled(h)}return m},l.reject=function(m,h){m.state=s,m.outcome=h;for(var v=-1,x=m.queue.length;++v<x;)m.queue[v].callRejected(h);return m},f.resolve=function(m){return m instanceof this?m:l.resolve(new this(o),m)},f.reject=function(m){var h=new this(o);return l.reject(h,m)},f.all=function(m){var h=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=m.length,x=!1;if(!v)return this.resolve([]);for(var S=new Array(v),T=0,I=-1,L=new this(o);++I<v;)N(m[I],I);return L;function N(j,H){h.resolve(j).then(function(C){S[H]=C,++T!==v||x||(x=!0,l.resolve(L,S))},function(C){x||(x=!0,l.reject(L,C))})}},f.race=function(m){var h=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var v=m.length,x=!1;if(!v)return this.resolve([]);for(var S=-1,T=new this(o);++S<v;)I=m[S],h.resolve(I).then(function(L){x||(x=!0,l.resolve(T,L))},function(L){x||(x=!0,l.reject(T,L))});var I;return T}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),s=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,f=0,d=-1,p=0,b=8;function y(m){if(!(this instanceof y))return new y(m);this.options=o.assign({level:d,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},m||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var v=a.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(v!==f)throw new Error(s[v]);if(h.header&&a.deflateSetHeader(this.strm,h.header),h.dictionary){var x;if(x=typeof h.dictionary=="string"?l.string2buf(h.dictionary):c.call(h.dictionary)==="[object ArrayBuffer]"?new Uint8Array(h.dictionary):h.dictionary,(v=a.deflateSetDictionary(this.strm,x))!==f)throw new Error(s[v]);this._dict_set=!0}}function w(m,h){var v=new y(h);if(v.push(m,!0),v.err)throw v.msg||s[v.err];return v.result}y.prototype.push=function(m,h){var v,x,S=this.strm,T=this.options.chunkSize;if(this.ended)return!1;x=h===~~h?h:h===!0?4:0,typeof m=="string"?S.input=l.string2buf(m):c.call(m)==="[object ArrayBuffer]"?S.input=new Uint8Array(m):S.input=m,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new o.Buf8(T),S.next_out=0,S.avail_out=T),(v=a.deflate(S,x))!==1&&v!==f)return this.onEnd(v),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(S.output,S.next_out))):this.onData(o.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&v!==1);return x===4?(v=a.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===f):x!==2||(this.onEnd(f),!(S.avail_out=0))},y.prototype.onData=function(m){this.chunks.push(m)},y.prototype.onEnd=function(m){m===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Deflate=y,i.deflate=w,i.deflateRaw=function(m,h){return(h=h||{}).raw=!0,w(m,h)},i.gzip=function(m,h){return(h=h||{}).gzip=!0,w(m,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),s=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),f=n("./zlib/gzheader"),d=Object.prototype.toString;function p(y){if(!(this instanceof p))return new p(y);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},y||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||y&&y.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&!(15&w.windowBits)&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=a.inflateInit2(this.strm,w.windowBits);if(m!==s.Z_OK)throw new Error(u[m]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function b(y,w){var m=new p(w);if(m.push(y,!0),m.err)throw m.msg||u[m.err];return m.result}p.prototype.push=function(y,w){var m,h,v,x,S,T,I=this.strm,L=this.options.chunkSize,N=this.options.dictionary,j=!1;if(this.ended)return!1;h=w===~~w?w:w===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof y=="string"?I.input=l.binstring2buf(y):d.call(y)==="[object ArrayBuffer]"?I.input=new Uint8Array(y):I.input=y,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new o.Buf8(L),I.next_out=0,I.avail_out=L),(m=a.inflate(I,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&N&&(T=typeof N=="string"?l.string2buf(N):d.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,m=a.inflateSetDictionary(this.strm,T)),m===s.Z_BUF_ERROR&&j===!0&&(m=s.Z_OK,j=!1),m!==s.Z_STREAM_END&&m!==s.Z_OK)return this.onEnd(m),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&m!==s.Z_STREAM_END&&(I.avail_in!==0||h!==s.Z_FINISH&&h!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(v=l.utf8border(I.output,I.next_out),x=I.next_out-v,S=l.buf2string(I.output,v),I.next_out=x,I.avail_out=L-x,x&&o.arraySet(I.output,I.output,v,x,0),this.onData(S)):this.onData(o.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(j=!0)}while((0<I.avail_in||I.avail_out===0)&&m!==s.Z_STREAM_END);return m===s.Z_STREAM_END&&(h=s.Z_FINISH),h===s.Z_FINISH?(m=a.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===s.Z_OK):h!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(I.avail_out=0))},p.prototype.onData=function(y){this.chunks.push(y)},p.prototype.onEnd=function(y){y===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=p,i.inflate=b,i.inflateRaw=function(y,w){return(w=w||{}).raw=!0,b(y,w)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(s){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var f in c)c.hasOwnProperty(f)&&(s[f]=c[f])}}return s},i.shrinkBuf=function(s,u){return s.length===u?s:s.subarray?s.subarray(0,u):(s.length=u,s)};var o={arraySet:function(s,u,c,f,d){if(u.subarray&&s.subarray)s.set(u.subarray(c,c+f),d);else for(var p=0;p<f;p++)s[d+p]=u[c+p]},flattenChunks:function(s){var u,c,f,d,p,b;for(u=f=0,c=s.length;u<c;u++)f+=s[u].length;for(b=new Uint8Array(f),u=d=0,c=s.length;u<c;u++)p=s[u],b.set(p,d),d+=p.length;return b}},l={arraySet:function(s,u,c,f,d){for(var p=0;p<f;p++)s[d+p]=u[c+p]},flattenChunks:function(s){return[].concat.apply([],s)}};i.setTyped=function(s){s?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var s=new a.Buf8(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(f,d){if(d<65537&&(f.subarray&&l||!f.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(f,d));for(var p="",b=0;b<d;b++)p+=String.fromCharCode(f[b]);return p}s[254]=s[254]=1,i.string2buf=function(f){var d,p,b,y,w,m=f.length,h=0;for(y=0;y<m;y++)(64512&(p=f.charCodeAt(y)))==55296&&y+1<m&&(64512&(b=f.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(b-56320),y++),h+=p<128?1:p<2048?2:p<65536?3:4;for(d=new a.Buf8(h),y=w=0;w<h;y++)(64512&(p=f.charCodeAt(y)))==55296&&y+1<m&&(64512&(b=f.charCodeAt(y+1)))==56320&&(p=65536+(p-55296<<10)+(b-56320),y++),p<128?d[w++]=p:(p<2048?d[w++]=192|p>>>6:(p<65536?d[w++]=224|p>>>12:(d[w++]=240|p>>>18,d[w++]=128|p>>>12&63),d[w++]=128|p>>>6&63),d[w++]=128|63&p);return d},i.buf2binstring=function(f){return c(f,f.length)},i.binstring2buf=function(f){for(var d=new a.Buf8(f.length),p=0,b=d.length;p<b;p++)d[p]=f.charCodeAt(p);return d},i.buf2string=function(f,d){var p,b,y,w,m=d||f.length,h=new Array(2*m);for(p=b=0;p<m;)if((y=f[p++])<128)h[b++]=y;else if(4<(w=s[y]))h[b++]=65533,p+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&p<m;)y=y<<6|63&f[p++],w--;1<w?h[b++]=65533:y<65536?h[b++]=y:(y-=65536,h[b++]=55296|y>>10&1023,h[b++]=56320|1023&y)}return c(h,b)},i.utf8border=function(f,d){var p;for((d=d||f.length)>f.length&&(d=f.length),p=d-1;0<=p&&(192&f[p])==128;)p--;return p<0||p===0?d:p+s[f[p]]>d?p:d}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,o,l,s){for(var u=65535&a|0,c=a>>>16&65535|0,f=0;l!==0;){for(l-=f=2e3<l?2e3:l;c=c+(u=u+o[s++]|0)|0,--f;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var o,l=[],s=0;s<256;s++){o=s;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;l[s]=o}return l}();r.exports=function(o,l,s,u){var c=a,f=u+s;o^=-1;for(var d=u;d<f;d++)o=o>>>8^c[255&(o^l[d])];return-1^o}},{}],46:[function(n,r,i){var a,o=n("../utils/common"),l=n("./trees"),s=n("./adler32"),u=n("./crc32"),c=n("./messages"),f=0,d=4,p=0,b=-2,y=-1,w=4,m=2,h=8,v=9,x=286,S=30,T=19,I=2*x+1,L=15,N=3,j=258,H=j+N+1,C=42,R=113,g=1,A=2,U=3,$=4;function O(_,V){return _.msg=c[V],V}function k(_){return(_<<1)-(4<_?9:0)}function B(_){for(var V=_.length;0<=--V;)_[V]=0}function P(_){var V=_.state,Y=V.pending;Y>_.avail_out&&(Y=_.avail_out),Y!==0&&(o.arraySet(_.output,V.pending_buf,V.pending_out,Y,_.next_out),_.next_out+=Y,V.pending_out+=Y,_.total_out+=Y,_.avail_out-=Y,V.pending-=Y,V.pending===0&&(V.pending_out=0))}function D(_,V){l._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,V),_.block_start=_.strstart,P(_.strm)}function Z(_,V){_.pending_buf[_.pending++]=V}function G(_,V){_.pending_buf[_.pending++]=V>>>8&255,_.pending_buf[_.pending++]=255&V}function K(_,V){var Y,z,F=_.max_chain_length,W=_.strstart,J=_.prev_length,ee=_.nice_match,q=_.strstart>_.w_size-H?_.strstart-(_.w_size-H):0,te=_.window,oe=_.w_mask,re=_.prev,ie=_.strstart+j,he=te[W+J-1],ge=te[W+J];_.prev_length>=_.good_match&&(F>>=2),ee>_.lookahead&&(ee=_.lookahead);do if(te[(Y=V)+J]===ge&&te[Y+J-1]===he&&te[Y]===te[W]&&te[++Y]===te[W+1]){W+=2,Y++;do;while(te[++W]===te[++Y]&&te[++W]===te[++Y]&&te[++W]===te[++Y]&&te[++W]===te[++Y]&&te[++W]===te[++Y]&&te[++W]===te[++Y]&&te[++W]===te[++Y]&&te[++W]===te[++Y]&&W<ie);if(z=j-(ie-W),W=ie-j,J<z){if(_.match_start=V,ee<=(J=z))break;he=te[W+J-1],ge=te[W+J]}}while((V=re[V&oe])>q&&--F!=0);return J<=_.lookahead?J:_.lookahead}function ae(_){var V,Y,z,F,W,J,ee,q,te,oe,re=_.w_size;do{if(F=_.window_size-_.lookahead-_.strstart,_.strstart>=re+(re-H)){for(o.arraySet(_.window,_.window,re,re,0),_.match_start-=re,_.strstart-=re,_.block_start-=re,V=Y=_.hash_size;z=_.head[--V],_.head[V]=re<=z?z-re:0,--Y;);for(V=Y=re;z=_.prev[--V],_.prev[V]=re<=z?z-re:0,--Y;);F+=re}if(_.strm.avail_in===0)break;if(J=_.strm,ee=_.window,q=_.strstart+_.lookahead,te=F,oe=void 0,oe=J.avail_in,te<oe&&(oe=te),Y=oe===0?0:(J.avail_in-=oe,o.arraySet(ee,J.input,J.next_in,oe,q),J.state.wrap===1?J.adler=s(J.adler,ee,oe,q):J.state.wrap===2&&(J.adler=u(J.adler,ee,oe,q)),J.next_in+=oe,J.total_in+=oe,oe),_.lookahead+=Y,_.lookahead+_.insert>=N)for(W=_.strstart-_.insert,_.ins_h=_.window[W],_.ins_h=(_.ins_h<<_.hash_shift^_.window[W+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[W+N-1])&_.hash_mask,_.prev[W&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=W,W++,_.insert--,!(_.lookahead+_.insert<N)););}while(_.lookahead<H&&_.strm.avail_in!==0)}function ue(_,V){for(var Y,z;;){if(_.lookahead<H){if(ae(_),_.lookahead<H&&V===f)return g;if(_.lookahead===0)break}if(Y=0,_.lookahead>=N&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+N-1])&_.hash_mask,Y=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),Y!==0&&_.strstart-Y<=_.w_size-H&&(_.match_length=K(_,Y)),_.match_length>=N)if(z=l._tr_tally(_,_.strstart-_.match_start,_.match_length-N),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=N){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+N-1])&_.hash_mask,Y=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else z=l._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(z&&(D(_,!1),_.strm.avail_out===0))return g}return _.insert=_.strstart<N-1?_.strstart:N-1,V===d?(D(_,!0),_.strm.avail_out===0?U:$):_.last_lit&&(D(_,!1),_.strm.avail_out===0)?g:A}function le(_,V){for(var Y,z,F;;){if(_.lookahead<H){if(ae(_),_.lookahead<H&&V===f)return g;if(_.lookahead===0)break}if(Y=0,_.lookahead>=N&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+N-1])&_.hash_mask,Y=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=N-1,Y!==0&&_.prev_length<_.max_lazy_match&&_.strstart-Y<=_.w_size-H&&(_.match_length=K(_,Y),_.match_length<=5&&(_.strategy===1||_.match_length===N&&4096<_.strstart-_.match_start)&&(_.match_length=N-1)),_.prev_length>=N&&_.match_length<=_.prev_length){for(F=_.strstart+_.lookahead-N,z=l._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-N),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=F&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+N-1])&_.hash_mask,Y=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=N-1,_.strstart++,z&&(D(_,!1),_.strm.avail_out===0))return g}else if(_.match_available){if((z=l._tr_tally(_,0,_.window[_.strstart-1]))&&D(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return g}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(z=l._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<N-1?_.strstart:N-1,V===d?(D(_,!0),_.strm.avail_out===0?U:$):_.last_lit&&(D(_,!1),_.strm.avail_out===0)?g:A}function se(_,V,Y,z,F){this.good_length=_,this.max_lazy=V,this.nice_length=Y,this.max_chain=z,this.func=F}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=h,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*I),this.dyn_dtree=new o.Buf16(2*(2*S+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(L+1),this.heap=new o.Buf16(2*x+1),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function me(_){var V;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=m,(V=_.state).pending=0,V.pending_out=0,V.wrap<0&&(V.wrap=-V.wrap),V.status=V.wrap?C:R,_.adler=V.wrap===2?0:1,V.last_flush=f,l._tr_init(V),p):O(_,b)}function be(_){var V=me(_);return V===p&&function(Y){Y.window_size=2*Y.w_size,B(Y.head),Y.max_lazy_match=a[Y.level].max_lazy,Y.good_match=a[Y.level].good_length,Y.nice_match=a[Y.level].nice_length,Y.max_chain_length=a[Y.level].max_chain,Y.strstart=0,Y.block_start=0,Y.lookahead=0,Y.insert=0,Y.match_length=Y.prev_length=N-1,Y.match_available=0,Y.ins_h=0}(_.state),V}function we(_,V,Y,z,F,W){if(!_)return b;var J=1;if(V===y&&(V=6),z<0?(J=0,z=-z):15<z&&(J=2,z-=16),F<1||v<F||Y!==h||z<8||15<z||V<0||9<V||W<0||w<W)return O(_,b);z===8&&(z=9);var ee=new ce;return(_.state=ee).strm=_,ee.wrap=J,ee.gzhead=null,ee.w_bits=z,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=F+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+N-1)/N),ee.window=new o.Buf8(2*ee.w_size),ee.head=new o.Buf16(ee.hash_size),ee.prev=new o.Buf16(ee.w_size),ee.lit_bufsize=1<<F+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new o.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=V,ee.strategy=W,ee.method=Y,be(_)}a=[new se(0,0,0,0,function(_,V){var Y=65535;for(Y>_.pending_buf_size-5&&(Y=_.pending_buf_size-5);;){if(_.lookahead<=1){if(ae(_),_.lookahead===0&&V===f)return g;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var z=_.block_start+Y;if((_.strstart===0||_.strstart>=z)&&(_.lookahead=_.strstart-z,_.strstart=z,D(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-H&&(D(_,!1),_.strm.avail_out===0))return g}return _.insert=0,V===d?(D(_,!0),_.strm.avail_out===0?U:$):(_.strstart>_.block_start&&(D(_,!1),_.strm.avail_out),g)}),new se(4,4,8,4,ue),new se(4,5,16,8,ue),new se(4,6,32,32,ue),new se(4,4,16,16,le),new se(8,16,32,32,le),new se(8,16,128,128,le),new se(8,32,128,256,le),new se(32,128,258,1024,le),new se(32,258,258,4096,le)],i.deflateInit=function(_,V){return we(_,V,h,15,8,0)},i.deflateInit2=we,i.deflateReset=be,i.deflateResetKeep=me,i.deflateSetHeader=function(_,V){return _&&_.state?_.state.wrap!==2?b:(_.state.gzhead=V,p):b},i.deflate=function(_,V){var Y,z,F,W;if(!_||!_.state||5<V||V<0)return _?O(_,b):b;if(z=_.state,!_.output||!_.input&&_.avail_in!==0||z.status===666&&V!==d)return O(_,_.avail_out===0?-5:b);if(z.strm=_,Y=z.last_flush,z.last_flush=V,z.status===C)if(z.wrap===2)_.adler=0,Z(z,31),Z(z,139),Z(z,8),z.gzhead?(Z(z,(z.gzhead.text?1:0)+(z.gzhead.hcrc?2:0)+(z.gzhead.extra?4:0)+(z.gzhead.name?8:0)+(z.gzhead.comment?16:0)),Z(z,255&z.gzhead.time),Z(z,z.gzhead.time>>8&255),Z(z,z.gzhead.time>>16&255),Z(z,z.gzhead.time>>24&255),Z(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),Z(z,255&z.gzhead.os),z.gzhead.extra&&z.gzhead.extra.length&&(Z(z,255&z.gzhead.extra.length),Z(z,z.gzhead.extra.length>>8&255)),z.gzhead.hcrc&&(_.adler=u(_.adler,z.pending_buf,z.pending,0)),z.gzindex=0,z.status=69):(Z(z,0),Z(z,0),Z(z,0),Z(z,0),Z(z,0),Z(z,z.level===9?2:2<=z.strategy||z.level<2?4:0),Z(z,3),z.status=R);else{var J=h+(z.w_bits-8<<4)<<8;J|=(2<=z.strategy||z.level<2?0:z.level<6?1:z.level===6?2:3)<<6,z.strstart!==0&&(J|=32),J+=31-J%31,z.status=R,G(z,J),z.strstart!==0&&(G(z,_.adler>>>16),G(z,65535&_.adler)),_.adler=1}if(z.status===69)if(z.gzhead.extra){for(F=z.pending;z.gzindex<(65535&z.gzhead.extra.length)&&(z.pending!==z.pending_buf_size||(z.gzhead.hcrc&&z.pending>F&&(_.adler=u(_.adler,z.pending_buf,z.pending-F,F)),P(_),F=z.pending,z.pending!==z.pending_buf_size));)Z(z,255&z.gzhead.extra[z.gzindex]),z.gzindex++;z.gzhead.hcrc&&z.pending>F&&(_.adler=u(_.adler,z.pending_buf,z.pending-F,F)),z.gzindex===z.gzhead.extra.length&&(z.gzindex=0,z.status=73)}else z.status=73;if(z.status===73)if(z.gzhead.name){F=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>F&&(_.adler=u(_.adler,z.pending_buf,z.pending-F,F)),P(_),F=z.pending,z.pending===z.pending_buf_size)){W=1;break}W=z.gzindex<z.gzhead.name.length?255&z.gzhead.name.charCodeAt(z.gzindex++):0,Z(z,W)}while(W!==0);z.gzhead.hcrc&&z.pending>F&&(_.adler=u(_.adler,z.pending_buf,z.pending-F,F)),W===0&&(z.gzindex=0,z.status=91)}else z.status=91;if(z.status===91)if(z.gzhead.comment){F=z.pending;do{if(z.pending===z.pending_buf_size&&(z.gzhead.hcrc&&z.pending>F&&(_.adler=u(_.adler,z.pending_buf,z.pending-F,F)),P(_),F=z.pending,z.pending===z.pending_buf_size)){W=1;break}W=z.gzindex<z.gzhead.comment.length?255&z.gzhead.comment.charCodeAt(z.gzindex++):0,Z(z,W)}while(W!==0);z.gzhead.hcrc&&z.pending>F&&(_.adler=u(_.adler,z.pending_buf,z.pending-F,F)),W===0&&(z.status=103)}else z.status=103;if(z.status===103&&(z.gzhead.hcrc?(z.pending+2>z.pending_buf_size&&P(_),z.pending+2<=z.pending_buf_size&&(Z(z,255&_.adler),Z(z,_.adler>>8&255),_.adler=0,z.status=R)):z.status=R),z.pending!==0){if(P(_),_.avail_out===0)return z.last_flush=-1,p}else if(_.avail_in===0&&k(V)<=k(Y)&&V!==d)return O(_,-5);if(z.status===666&&_.avail_in!==0)return O(_,-5);if(_.avail_in!==0||z.lookahead!==0||V!==f&&z.status!==666){var ee=z.strategy===2?function(q,te){for(var oe;;){if(q.lookahead===0&&(ae(q),q.lookahead===0)){if(te===f)return g;break}if(q.match_length=0,oe=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,oe&&(D(q,!1),q.strm.avail_out===0))return g}return q.insert=0,te===d?(D(q,!0),q.strm.avail_out===0?U:$):q.last_lit&&(D(q,!1),q.strm.avail_out===0)?g:A}(z,V):z.strategy===3?function(q,te){for(var oe,re,ie,he,ge=q.window;;){if(q.lookahead<=j){if(ae(q),q.lookahead<=j&&te===f)return g;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=N&&0<q.strstart&&(re=ge[ie=q.strstart-1])===ge[++ie]&&re===ge[++ie]&&re===ge[++ie]){he=q.strstart+j;do;while(re===ge[++ie]&&re===ge[++ie]&&re===ge[++ie]&&re===ge[++ie]&&re===ge[++ie]&&re===ge[++ie]&&re===ge[++ie]&&re===ge[++ie]&&ie<he);q.match_length=j-(he-ie),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=N?(oe=l._tr_tally(q,1,q.match_length-N),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(oe=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),oe&&(D(q,!1),q.strm.avail_out===0))return g}return q.insert=0,te===d?(D(q,!0),q.strm.avail_out===0?U:$):q.last_lit&&(D(q,!1),q.strm.avail_out===0)?g:A}(z,V):a[z.level].func(z,V);if(ee!==U&&ee!==$||(z.status=666),ee===g||ee===U)return _.avail_out===0&&(z.last_flush=-1),p;if(ee===A&&(V===1?l._tr_align(z):V!==5&&(l._tr_stored_block(z,0,0,!1),V===3&&(B(z.head),z.lookahead===0&&(z.strstart=0,z.block_start=0,z.insert=0))),P(_),_.avail_out===0))return z.last_flush=-1,p}return V!==d?p:z.wrap<=0?1:(z.wrap===2?(Z(z,255&_.adler),Z(z,_.adler>>8&255),Z(z,_.adler>>16&255),Z(z,_.adler>>24&255),Z(z,255&_.total_in),Z(z,_.total_in>>8&255),Z(z,_.total_in>>16&255),Z(z,_.total_in>>24&255)):(G(z,_.adler>>>16),G(z,65535&_.adler)),P(_),0<z.wrap&&(z.wrap=-z.wrap),z.pending!==0?p:1)},i.deflateEnd=function(_){var V;return _&&_.state?(V=_.state.status)!==C&&V!==69&&V!==73&&V!==91&&V!==103&&V!==R&&V!==666?O(_,b):(_.state=null,V===R?O(_,-3):p):b},i.deflateSetDictionary=function(_,V){var Y,z,F,W,J,ee,q,te,oe=V.length;if(!_||!_.state||(W=(Y=_.state).wrap)===2||W===1&&Y.status!==C||Y.lookahead)return b;for(W===1&&(_.adler=s(_.adler,V,oe,0)),Y.wrap=0,oe>=Y.w_size&&(W===0&&(B(Y.head),Y.strstart=0,Y.block_start=0,Y.insert=0),te=new o.Buf8(Y.w_size),o.arraySet(te,V,oe-Y.w_size,Y.w_size,0),V=te,oe=Y.w_size),J=_.avail_in,ee=_.next_in,q=_.input,_.avail_in=oe,_.next_in=0,_.input=V,ae(Y);Y.lookahead>=N;){for(z=Y.strstart,F=Y.lookahead-(N-1);Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[z+N-1])&Y.hash_mask,Y.prev[z&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=z,z++,--F;);Y.strstart=z,Y.lookahead=N-1,ae(Y)}return Y.strstart+=Y.lookahead,Y.block_start=Y.strstart,Y.insert=Y.lookahead,Y.lookahead=0,Y.match_length=Y.prev_length=N-1,Y.match_available=0,_.next_in=ee,_.input=q,_.avail_in=J,Y.wrap=W,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,o){var l,s,u,c,f,d,p,b,y,w,m,h,v,x,S,T,I,L,N,j,H,C,R,g,A;l=a.state,s=a.next_in,g=a.input,u=s+(a.avail_in-5),c=a.next_out,A=a.output,f=c-(o-a.avail_out),d=c+(a.avail_out-257),p=l.dmax,b=l.wsize,y=l.whave,w=l.wnext,m=l.window,h=l.hold,v=l.bits,x=l.lencode,S=l.distcode,T=(1<<l.lenbits)-1,I=(1<<l.distbits)-1;e:do{v<15&&(h+=g[s++]<<v,v+=8,h+=g[s++]<<v,v+=8),L=x[h&T];t:for(;;){if(h>>>=N=L>>>24,v-=N,(N=L>>>16&255)===0)A[c++]=65535&L;else{if(!(16&N)){if(!(64&N)){L=x[(65535&L)+(h&(1<<N)-1)];continue t}if(32&N){l.mode=12;break e}a.msg="invalid literal/length code",l.mode=30;break e}j=65535&L,(N&=15)&&(v<N&&(h+=g[s++]<<v,v+=8),j+=h&(1<<N)-1,h>>>=N,v-=N),v<15&&(h+=g[s++]<<v,v+=8,h+=g[s++]<<v,v+=8),L=S[h&I];n:for(;;){if(h>>>=N=L>>>24,v-=N,!(16&(N=L>>>16&255))){if(!(64&N)){L=S[(65535&L)+(h&(1<<N)-1)];continue n}a.msg="invalid distance code",l.mode=30;break e}if(H=65535&L,v<(N&=15)&&(h+=g[s++]<<v,(v+=8)<N&&(h+=g[s++]<<v,v+=8)),p<(H+=h&(1<<N)-1)){a.msg="invalid distance too far back",l.mode=30;break e}if(h>>>=N,v-=N,(N=c-f)<H){if(y<(N=H-N)&&l.sane){a.msg="invalid distance too far back",l.mode=30;break e}if(R=m,(C=0)===w){if(C+=b-N,N<j){for(j-=N;A[c++]=m[C++],--N;);C=c-H,R=A}}else if(w<N){if(C+=b+w-N,(N-=w)<j){for(j-=N;A[c++]=m[C++],--N;);if(C=0,w<j){for(j-=N=w;A[c++]=m[C++],--N;);C=c-H,R=A}}}else if(C+=w-N,N<j){for(j-=N;A[c++]=m[C++],--N;);C=c-H,R=A}for(;2<j;)A[c++]=R[C++],A[c++]=R[C++],A[c++]=R[C++],j-=3;j&&(A[c++]=R[C++],1<j&&(A[c++]=R[C++]))}else{for(C=c-H;A[c++]=A[C++],A[c++]=A[C++],A[c++]=A[C++],2<(j-=3););j&&(A[c++]=A[C++],1<j&&(A[c++]=A[C++]))}break}}break}}while(s<u&&c<d);s-=j=v>>3,h&=(1<<(v-=j<<3))-1,a.next_in=s,a.next_out=c,a.avail_in=s<u?u-s+5:5-(s-u),a.avail_out=c<d?d-c+257:257-(c-d),l.hold=h,l.bits=v}},{}],49:[function(n,r,i){var a=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),s=n("./inffast"),u=n("./inftrees"),c=1,f=2,d=0,p=-2,b=1,y=852,w=592;function m(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(C){var R;return C&&C.state?(R=C.state,C.total_in=C.total_out=R.total=0,C.msg="",R.wrap&&(C.adler=1&R.wrap),R.mode=b,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new a.Buf32(y),R.distcode=R.distdyn=new a.Buf32(w),R.sane=1,R.back=-1,d):p}function x(C){var R;return C&&C.state?((R=C.state).wsize=0,R.whave=0,R.wnext=0,v(C)):p}function S(C,R){var g,A;return C&&C.state?(A=C.state,R<0?(g=0,R=-R):(g=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?p:(A.window!==null&&A.wbits!==R&&(A.window=null),A.wrap=g,A.wbits=R,x(C))):p}function T(C,R){var g,A;return C?(A=new h,(C.state=A).window=null,(g=S(C,R))!==d&&(C.state=null),g):p}var I,L,N=!0;function j(C){if(N){var R;for(I=new a.Buf32(512),L=new a.Buf32(32),R=0;R<144;)C.lens[R++]=8;for(;R<256;)C.lens[R++]=9;for(;R<280;)C.lens[R++]=7;for(;R<288;)C.lens[R++]=8;for(u(c,C.lens,0,288,I,0,C.work,{bits:9}),R=0;R<32;)C.lens[R++]=5;u(f,C.lens,0,32,L,0,C.work,{bits:5}),N=!1}C.lencode=I,C.lenbits=9,C.distcode=L,C.distbits=5}function H(C,R,g,A){var U,$=C.state;return $.window===null&&($.wsize=1<<$.wbits,$.wnext=0,$.whave=0,$.window=new a.Buf8($.wsize)),A>=$.wsize?(a.arraySet($.window,R,g-$.wsize,$.wsize,0),$.wnext=0,$.whave=$.wsize):(A<(U=$.wsize-$.wnext)&&(U=A),a.arraySet($.window,R,g-A,U,$.wnext),(A-=U)?(a.arraySet($.window,R,g-A,A,0),$.wnext=A,$.whave=$.wsize):($.wnext+=U,$.wnext===$.wsize&&($.wnext=0),$.whave<$.wsize&&($.whave+=U))),0}i.inflateReset=x,i.inflateReset2=S,i.inflateResetKeep=v,i.inflateInit=function(C){return T(C,15)},i.inflateInit2=T,i.inflate=function(C,R){var g,A,U,$,O,k,B,P,D,Z,G,K,ae,ue,le,se,ce,me,be,we,_,V,Y,z,F=0,W=new a.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return p;(g=C.state).mode===12&&(g.mode=13),O=C.next_out,U=C.output,B=C.avail_out,$=C.next_in,A=C.input,k=C.avail_in,P=g.hold,D=g.bits,Z=k,G=B,V=d;e:for(;;)switch(g.mode){case b:if(g.wrap===0){g.mode=13;break}for(;D<16;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(2&g.wrap&&P===35615){W[g.check=0]=255&P,W[1]=P>>>8&255,g.check=l(g.check,W,2,0),D=P=0,g.mode=2;break}if(g.flags=0,g.head&&(g.head.done=!1),!(1&g.wrap)||(((255&P)<<8)+(P>>8))%31){C.msg="incorrect header check",g.mode=30;break}if((15&P)!=8){C.msg="unknown compression method",g.mode=30;break}if(D-=4,_=8+(15&(P>>>=4)),g.wbits===0)g.wbits=_;else if(_>g.wbits){C.msg="invalid window size",g.mode=30;break}g.dmax=1<<_,C.adler=g.check=1,g.mode=512&P?10:12,D=P=0;break;case 2:for(;D<16;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(g.flags=P,(255&g.flags)!=8){C.msg="unknown compression method",g.mode=30;break}if(57344&g.flags){C.msg="unknown header flags set",g.mode=30;break}g.head&&(g.head.text=P>>8&1),512&g.flags&&(W[0]=255&P,W[1]=P>>>8&255,g.check=l(g.check,W,2,0)),D=P=0,g.mode=3;case 3:for(;D<32;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}g.head&&(g.head.time=P),512&g.flags&&(W[0]=255&P,W[1]=P>>>8&255,W[2]=P>>>16&255,W[3]=P>>>24&255,g.check=l(g.check,W,4,0)),D=P=0,g.mode=4;case 4:for(;D<16;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}g.head&&(g.head.xflags=255&P,g.head.os=P>>8),512&g.flags&&(W[0]=255&P,W[1]=P>>>8&255,g.check=l(g.check,W,2,0)),D=P=0,g.mode=5;case 5:if(1024&g.flags){for(;D<16;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}g.length=P,g.head&&(g.head.extra_len=P),512&g.flags&&(W[0]=255&P,W[1]=P>>>8&255,g.check=l(g.check,W,2,0)),D=P=0}else g.head&&(g.head.extra=null);g.mode=6;case 6:if(1024&g.flags&&(k<(K=g.length)&&(K=k),K&&(g.head&&(_=g.head.extra_len-g.length,g.head.extra||(g.head.extra=new Array(g.head.extra_len)),a.arraySet(g.head.extra,A,$,K,_)),512&g.flags&&(g.check=l(g.check,A,K,$)),k-=K,$+=K,g.length-=K),g.length))break e;g.length=0,g.mode=7;case 7:if(2048&g.flags){if(k===0)break e;for(K=0;_=A[$+K++],g.head&&_&&g.length<65536&&(g.head.name+=String.fromCharCode(_)),_&&K<k;);if(512&g.flags&&(g.check=l(g.check,A,K,$)),k-=K,$+=K,_)break e}else g.head&&(g.head.name=null);g.length=0,g.mode=8;case 8:if(4096&g.flags){if(k===0)break e;for(K=0;_=A[$+K++],g.head&&_&&g.length<65536&&(g.head.comment+=String.fromCharCode(_)),_&&K<k;);if(512&g.flags&&(g.check=l(g.check,A,K,$)),k-=K,$+=K,_)break e}else g.head&&(g.head.comment=null);g.mode=9;case 9:if(512&g.flags){for(;D<16;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(P!==(65535&g.check)){C.msg="header crc mismatch",g.mode=30;break}D=P=0}g.head&&(g.head.hcrc=g.flags>>9&1,g.head.done=!0),C.adler=g.check=0,g.mode=12;break;case 10:for(;D<32;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}C.adler=g.check=m(P),D=P=0,g.mode=11;case 11:if(g.havedict===0)return C.next_out=O,C.avail_out=B,C.next_in=$,C.avail_in=k,g.hold=P,g.bits=D,2;C.adler=g.check=1,g.mode=12;case 12:if(R===5||R===6)break e;case 13:if(g.last){P>>>=7&D,D-=7&D,g.mode=27;break}for(;D<3;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}switch(g.last=1&P,D-=1,3&(P>>>=1)){case 0:g.mode=14;break;case 1:if(j(g),g.mode=20,R!==6)break;P>>>=2,D-=2;break e;case 2:g.mode=17;break;case 3:C.msg="invalid block type",g.mode=30}P>>>=2,D-=2;break;case 14:for(P>>>=7&D,D-=7&D;D<32;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if((65535&P)!=(P>>>16^65535)){C.msg="invalid stored block lengths",g.mode=30;break}if(g.length=65535&P,D=P=0,g.mode=15,R===6)break e;case 15:g.mode=16;case 16:if(K=g.length){if(k<K&&(K=k),B<K&&(K=B),K===0)break e;a.arraySet(U,A,$,K,O),k-=K,$+=K,B-=K,O+=K,g.length-=K;break}g.mode=12;break;case 17:for(;D<14;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(g.nlen=257+(31&P),P>>>=5,D-=5,g.ndist=1+(31&P),P>>>=5,D-=5,g.ncode=4+(15&P),P>>>=4,D-=4,286<g.nlen||30<g.ndist){C.msg="too many length or distance symbols",g.mode=30;break}g.have=0,g.mode=18;case 18:for(;g.have<g.ncode;){for(;D<3;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}g.lens[J[g.have++]]=7&P,P>>>=3,D-=3}for(;g.have<19;)g.lens[J[g.have++]]=0;if(g.lencode=g.lendyn,g.lenbits=7,Y={bits:g.lenbits},V=u(0,g.lens,0,19,g.lencode,0,g.work,Y),g.lenbits=Y.bits,V){C.msg="invalid code lengths set",g.mode=30;break}g.have=0,g.mode=19;case 19:for(;g.have<g.nlen+g.ndist;){for(;se=(F=g.lencode[P&(1<<g.lenbits)-1])>>>16&255,ce=65535&F,!((le=F>>>24)<=D);){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(ce<16)P>>>=le,D-=le,g.lens[g.have++]=ce;else{if(ce===16){for(z=le+2;D<z;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(P>>>=le,D-=le,g.have===0){C.msg="invalid bit length repeat",g.mode=30;break}_=g.lens[g.have-1],K=3+(3&P),P>>>=2,D-=2}else if(ce===17){for(z=le+3;D<z;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}D-=le,_=0,K=3+(7&(P>>>=le)),P>>>=3,D-=3}else{for(z=le+7;D<z;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}D-=le,_=0,K=11+(127&(P>>>=le)),P>>>=7,D-=7}if(g.have+K>g.nlen+g.ndist){C.msg="invalid bit length repeat",g.mode=30;break}for(;K--;)g.lens[g.have++]=_}}if(g.mode===30)break;if(g.lens[256]===0){C.msg="invalid code -- missing end-of-block",g.mode=30;break}if(g.lenbits=9,Y={bits:g.lenbits},V=u(c,g.lens,0,g.nlen,g.lencode,0,g.work,Y),g.lenbits=Y.bits,V){C.msg="invalid literal/lengths set",g.mode=30;break}if(g.distbits=6,g.distcode=g.distdyn,Y={bits:g.distbits},V=u(f,g.lens,g.nlen,g.ndist,g.distcode,0,g.work,Y),g.distbits=Y.bits,V){C.msg="invalid distances set",g.mode=30;break}if(g.mode=20,R===6)break e;case 20:g.mode=21;case 21:if(6<=k&&258<=B){C.next_out=O,C.avail_out=B,C.next_in=$,C.avail_in=k,g.hold=P,g.bits=D,s(C,G),O=C.next_out,U=C.output,B=C.avail_out,$=C.next_in,A=C.input,k=C.avail_in,P=g.hold,D=g.bits,g.mode===12&&(g.back=-1);break}for(g.back=0;se=(F=g.lencode[P&(1<<g.lenbits)-1])>>>16&255,ce=65535&F,!((le=F>>>24)<=D);){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(se&&!(240&se)){for(me=le,be=se,we=ce;se=(F=g.lencode[we+((P&(1<<me+be)-1)>>me)])>>>16&255,ce=65535&F,!(me+(le=F>>>24)<=D);){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}P>>>=me,D-=me,g.back+=me}if(P>>>=le,D-=le,g.back+=le,g.length=ce,se===0){g.mode=26;break}if(32&se){g.back=-1,g.mode=12;break}if(64&se){C.msg="invalid literal/length code",g.mode=30;break}g.extra=15&se,g.mode=22;case 22:if(g.extra){for(z=g.extra;D<z;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}g.length+=P&(1<<g.extra)-1,P>>>=g.extra,D-=g.extra,g.back+=g.extra}g.was=g.length,g.mode=23;case 23:for(;se=(F=g.distcode[P&(1<<g.distbits)-1])>>>16&255,ce=65535&F,!((le=F>>>24)<=D);){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(!(240&se)){for(me=le,be=se,we=ce;se=(F=g.distcode[we+((P&(1<<me+be)-1)>>me)])>>>16&255,ce=65535&F,!(me+(le=F>>>24)<=D);){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}P>>>=me,D-=me,g.back+=me}if(P>>>=le,D-=le,g.back+=le,64&se){C.msg="invalid distance code",g.mode=30;break}g.offset=ce,g.extra=15&se,g.mode=24;case 24:if(g.extra){for(z=g.extra;D<z;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}g.offset+=P&(1<<g.extra)-1,P>>>=g.extra,D-=g.extra,g.back+=g.extra}if(g.offset>g.dmax){C.msg="invalid distance too far back",g.mode=30;break}g.mode=25;case 25:if(B===0)break e;if(K=G-B,g.offset>K){if((K=g.offset-K)>g.whave&&g.sane){C.msg="invalid distance too far back",g.mode=30;break}ae=K>g.wnext?(K-=g.wnext,g.wsize-K):g.wnext-K,K>g.length&&(K=g.length),ue=g.window}else ue=U,ae=O-g.offset,K=g.length;for(B<K&&(K=B),B-=K,g.length-=K;U[O++]=ue[ae++],--K;);g.length===0&&(g.mode=21);break;case 26:if(B===0)break e;U[O++]=g.length,B--,g.mode=21;break;case 27:if(g.wrap){for(;D<32;){if(k===0)break e;k--,P|=A[$++]<<D,D+=8}if(G-=B,C.total_out+=G,g.total+=G,G&&(C.adler=g.check=g.flags?l(g.check,U,G,O-G):o(g.check,U,G,O-G)),G=B,(g.flags?P:m(P))!==g.check){C.msg="incorrect data check",g.mode=30;break}D=P=0}g.mode=28;case 28:if(g.wrap&&g.flags){for(;D<32;){if(k===0)break e;k--,P+=A[$++]<<D,D+=8}if(P!==(4294967295&g.total)){C.msg="incorrect length check",g.mode=30;break}D=P=0}g.mode=29;case 29:V=1;break e;case 30:V=-3;break e;case 31:return-4;case 32:default:return p}return C.next_out=O,C.avail_out=B,C.next_in=$,C.avail_in=k,g.hold=P,g.bits=D,(g.wsize||G!==C.avail_out&&g.mode<30&&(g.mode<27||R!==4))&&H(C,C.output,C.next_out,G-C.avail_out)?(g.mode=31,-4):(Z-=C.avail_in,G-=C.avail_out,C.total_in+=Z,C.total_out+=G,g.total+=G,g.wrap&&G&&(C.adler=g.check=g.flags?l(g.check,U,G,C.next_out-G):o(g.check,U,G,C.next_out-G)),C.data_type=g.bits+(g.last?64:0)+(g.mode===12?128:0)+(g.mode===20||g.mode===15?256:0),(Z==0&&G===0||R===4)&&V===d&&(V=-5),V)},i.inflateEnd=function(C){if(!C||!C.state)return p;var R=C.state;return R.window&&(R.window=null),C.state=null,d},i.inflateGetHeader=function(C,R){var g;return C&&C.state&&2&(g=C.state).wrap?((g.head=R).done=!1,d):p},i.inflateSetDictionary=function(C,R){var g,A=R.length;return C&&C.state?(g=C.state).wrap!==0&&g.mode!==11?p:g.mode===11&&o(1,R,A,0)!==g.check?-3:H(C,R,A,A)?(g.mode=31,-4):(g.havedict=1,d):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,f,d,p,b,y,w,m){var h,v,x,S,T,I,L,N,j,H=m.bits,C=0,R=0,g=0,A=0,U=0,$=0,O=0,k=0,B=0,P=0,D=null,Z=0,G=new a.Buf16(16),K=new a.Buf16(16),ae=null,ue=0;for(C=0;C<=15;C++)G[C]=0;for(R=0;R<p;R++)G[f[d+R]]++;for(U=H,A=15;1<=A&&G[A]===0;A--);if(A<U&&(U=A),A===0)return b[y++]=20971520,b[y++]=20971520,m.bits=1,0;for(g=1;g<A&&G[g]===0;g++);for(U<g&&(U=g),C=k=1;C<=15;C++)if(k<<=1,(k-=G[C])<0)return-1;if(0<k&&(c===0||A!==1))return-1;for(K[1]=0,C=1;C<15;C++)K[C+1]=K[C]+G[C];for(R=0;R<p;R++)f[d+R]!==0&&(w[K[f[d+R]]++]=R);if(I=c===0?(D=ae=w,19):c===1?(D=o,Z-=257,ae=l,ue-=257,256):(D=s,ae=u,-1),C=g,T=y,O=R=P=0,x=-1,S=(B=1<<($=U))-1,c===1&&852<B||c===2&&592<B)return 1;for(;;){for(L=C-O,j=w[R]<I?(N=0,w[R]):w[R]>I?(N=ae[ue+w[R]],D[Z+w[R]]):(N=96,0),h=1<<C-O,g=v=1<<$;b[T+(P>>O)+(v-=h)]=L<<24|N<<16|j|0,v!==0;);for(h=1<<C-1;P&h;)h>>=1;if(h!==0?(P&=h-1,P+=h):P=0,R++,--G[C]==0){if(C===A)break;C=f[d+w[R]]}if(U<C&&(P&S)!==x){for(O===0&&(O=U),T+=g,k=1<<($=C-O);$+O<A&&!((k-=G[$+O])<=0);)$++,k<<=1;if(B+=1<<$,c===1&&852<B||c===2&&592<B)return 1;b[x=P&S]=U<<24|$<<16|T-y|0}}return P!==0&&(b[T+P]=C-O<<24|64<<16|0),m.bits=U,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),o=0,l=1;function s(F){for(var W=F.length;0<=--W;)F[W]=0}var u=0,c=29,f=256,d=f+1+c,p=30,b=19,y=2*d+1,w=15,m=16,h=7,v=256,x=16,S=17,T=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(d+2));s(H);var C=new Array(2*p);s(C);var R=new Array(512);s(R);var g=new Array(256);s(g);var A=new Array(c);s(A);var U,$,O,k=new Array(p);function B(F,W,J,ee,q){this.static_tree=F,this.extra_bits=W,this.extra_base=J,this.elems=ee,this.max_length=q,this.has_stree=F&&F.length}function P(F,W){this.dyn_tree=F,this.max_code=0,this.stat_desc=W}function D(F){return F<256?R[F]:R[256+(F>>>7)]}function Z(F,W){F.pending_buf[F.pending++]=255&W,F.pending_buf[F.pending++]=W>>>8&255}function G(F,W,J){F.bi_valid>m-J?(F.bi_buf|=W<<F.bi_valid&65535,Z(F,F.bi_buf),F.bi_buf=W>>m-F.bi_valid,F.bi_valid+=J-m):(F.bi_buf|=W<<F.bi_valid&65535,F.bi_valid+=J)}function K(F,W,J){G(F,J[2*W],J[2*W+1])}function ae(F,W){for(var J=0;J|=1&F,F>>>=1,J<<=1,0<--W;);return J>>>1}function ue(F,W,J){var ee,q,te=new Array(w+1),oe=0;for(ee=1;ee<=w;ee++)te[ee]=oe=oe+J[ee-1]<<1;for(q=0;q<=W;q++){var re=F[2*q+1];re!==0&&(F[2*q]=ae(te[re]++,re))}}function le(F){var W;for(W=0;W<d;W++)F.dyn_ltree[2*W]=0;for(W=0;W<p;W++)F.dyn_dtree[2*W]=0;for(W=0;W<b;W++)F.bl_tree[2*W]=0;F.dyn_ltree[2*v]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function se(F){8<F.bi_valid?Z(F,F.bi_buf):0<F.bi_valid&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function ce(F,W,J,ee){var q=2*W,te=2*J;return F[q]<F[te]||F[q]===F[te]&&ee[W]<=ee[J]}function me(F,W,J){for(var ee=F.heap[J],q=J<<1;q<=F.heap_len&&(q<F.heap_len&&ce(W,F.heap[q+1],F.heap[q],F.depth)&&q++,!ce(W,ee,F.heap[q],F.depth));)F.heap[J]=F.heap[q],J=q,q<<=1;F.heap[J]=ee}function be(F,W,J){var ee,q,te,oe,re=0;if(F.last_lit!==0)for(;ee=F.pending_buf[F.d_buf+2*re]<<8|F.pending_buf[F.d_buf+2*re+1],q=F.pending_buf[F.l_buf+re],re++,ee===0?K(F,q,W):(K(F,(te=g[q])+f+1,W),(oe=I[te])!==0&&G(F,q-=A[te],oe),K(F,te=D(--ee),J),(oe=L[te])!==0&&G(F,ee-=k[te],oe)),re<F.last_lit;);K(F,v,W)}function we(F,W){var J,ee,q,te=W.dyn_tree,oe=W.stat_desc.static_tree,re=W.stat_desc.has_stree,ie=W.stat_desc.elems,he=-1;for(F.heap_len=0,F.heap_max=y,J=0;J<ie;J++)te[2*J]!==0?(F.heap[++F.heap_len]=he=J,F.depth[J]=0):te[2*J+1]=0;for(;F.heap_len<2;)te[2*(q=F.heap[++F.heap_len]=he<2?++he:0)]=1,F.depth[q]=0,F.opt_len--,re&&(F.static_len-=oe[2*q+1]);for(W.max_code=he,J=F.heap_len>>1;1<=J;J--)me(F,te,J);for(q=ie;J=F.heap[1],F.heap[1]=F.heap[F.heap_len--],me(F,te,1),ee=F.heap[1],F.heap[--F.heap_max]=J,F.heap[--F.heap_max]=ee,te[2*q]=te[2*J]+te[2*ee],F.depth[q]=(F.depth[J]>=F.depth[ee]?F.depth[J]:F.depth[ee])+1,te[2*J+1]=te[2*ee+1]=q,F.heap[1]=q++,me(F,te,1),2<=F.heap_len;);F.heap[--F.heap_max]=F.heap[1],function(ge,Ue){var Dt,Ie,Ke,ke,Et,zt,je=Ue.dyn_tree,bt=Ue.max_code,rr=Ue.stat_desc.static_tree,Ti=Ue.stat_desc.has_stree,ir=Ue.stat_desc.extra_bits,Tr=Ue.stat_desc.extra_base,Fn=Ue.stat_desc.max_length,Ft=0;for(ke=0;ke<=w;ke++)ge.bl_count[ke]=0;for(je[2*ge.heap[ge.heap_max]+1]=0,Dt=ge.heap_max+1;Dt<y;Dt++)Fn<(ke=je[2*je[2*(Ie=ge.heap[Dt])+1]+1]+1)&&(ke=Fn,Ft++),je[2*Ie+1]=ke,bt<Ie||(ge.bl_count[ke]++,Et=0,Tr<=Ie&&(Et=ir[Ie-Tr]),zt=je[2*Ie],ge.opt_len+=zt*(ke+Et),Ti&&(ge.static_len+=zt*(rr[2*Ie+1]+Et)));if(Ft!==0){do{for(ke=Fn-1;ge.bl_count[ke]===0;)ke--;ge.bl_count[ke]--,ge.bl_count[ke+1]+=2,ge.bl_count[Fn]--,Ft-=2}while(0<Ft);for(ke=Fn;ke!==0;ke--)for(Ie=ge.bl_count[ke];Ie!==0;)bt<(Ke=ge.heap[--Dt])||(je[2*Ke+1]!==ke&&(ge.opt_len+=(ke-je[2*Ke+1])*je[2*Ke],je[2*Ke+1]=ke),Ie--)}}(F,W),ue(te,he,F.bl_count)}function _(F,W,J){var ee,q,te=-1,oe=W[1],re=0,ie=7,he=4;for(oe===0&&(ie=138,he=3),W[2*(J+1)+1]=65535,ee=0;ee<=J;ee++)q=oe,oe=W[2*(ee+1)+1],++re<ie&&q===oe||(re<he?F.bl_tree[2*q]+=re:q!==0?(q!==te&&F.bl_tree[2*q]++,F.bl_tree[2*x]++):re<=10?F.bl_tree[2*S]++:F.bl_tree[2*T]++,te=q,he=(re=0)===oe?(ie=138,3):q===oe?(ie=6,3):(ie=7,4))}function V(F,W,J){var ee,q,te=-1,oe=W[1],re=0,ie=7,he=4;for(oe===0&&(ie=138,he=3),ee=0;ee<=J;ee++)if(q=oe,oe=W[2*(ee+1)+1],!(++re<ie&&q===oe)){if(re<he)for(;K(F,q,F.bl_tree),--re!=0;);else q!==0?(q!==te&&(K(F,q,F.bl_tree),re--),K(F,x,F.bl_tree),G(F,re-3,2)):re<=10?(K(F,S,F.bl_tree),G(F,re-3,3)):(K(F,T,F.bl_tree),G(F,re-11,7));te=q,he=(re=0)===oe?(ie=138,3):q===oe?(ie=6,3):(ie=7,4)}}s(k);var Y=!1;function z(F,W,J,ee){G(F,(u<<1)+(ee?1:0),3),function(q,te,oe,re){se(q),Z(q,oe),Z(q,~oe),a.arraySet(q.pending_buf,q.window,te,oe,q.pending),q.pending+=oe}(F,W,J)}i._tr_init=function(F){Y||(function(){var W,J,ee,q,te,oe=new Array(w+1);for(q=ee=0;q<c-1;q++)for(A[q]=ee,W=0;W<1<<I[q];W++)g[ee++]=q;for(g[ee-1]=q,q=te=0;q<16;q++)for(k[q]=te,W=0;W<1<<L[q];W++)R[te++]=q;for(te>>=7;q<p;q++)for(k[q]=te<<7,W=0;W<1<<L[q]-7;W++)R[256+te++]=q;for(J=0;J<=w;J++)oe[J]=0;for(W=0;W<=143;)H[2*W+1]=8,W++,oe[8]++;for(;W<=255;)H[2*W+1]=9,W++,oe[9]++;for(;W<=279;)H[2*W+1]=7,W++,oe[7]++;for(;W<=287;)H[2*W+1]=8,W++,oe[8]++;for(ue(H,d+1,oe),W=0;W<p;W++)C[2*W+1]=5,C[2*W]=ae(W,5);U=new B(H,I,f+1,d,w),$=new B(C,L,0,p,w),O=new B(new Array(0),N,0,b,h)}(),Y=!0),F.l_desc=new P(F.dyn_ltree,U),F.d_desc=new P(F.dyn_dtree,$),F.bl_desc=new P(F.bl_tree,O),F.bi_buf=0,F.bi_valid=0,le(F)},i._tr_stored_block=z,i._tr_flush_block=function(F,W,J,ee){var q,te,oe=0;0<F.level?(F.strm.data_type===2&&(F.strm.data_type=function(re){var ie,he=4093624447;for(ie=0;ie<=31;ie++,he>>>=1)if(1&he&&re.dyn_ltree[2*ie]!==0)return o;if(re.dyn_ltree[18]!==0||re.dyn_ltree[20]!==0||re.dyn_ltree[26]!==0)return l;for(ie=32;ie<f;ie++)if(re.dyn_ltree[2*ie]!==0)return l;return o}(F)),we(F,F.l_desc),we(F,F.d_desc),oe=function(re){var ie;for(_(re,re.dyn_ltree,re.l_desc.max_code),_(re,re.dyn_dtree,re.d_desc.max_code),we(re,re.bl_desc),ie=b-1;3<=ie&&re.bl_tree[2*j[ie]+1]===0;ie--);return re.opt_len+=3*(ie+1)+5+5+4,ie}(F),q=F.opt_len+3+7>>>3,(te=F.static_len+3+7>>>3)<=q&&(q=te)):q=te=J+5,J+4<=q&&W!==-1?z(F,W,J,ee):F.strategy===4||te===q?(G(F,2+(ee?1:0),3),be(F,H,C)):(G(F,4+(ee?1:0),3),function(re,ie,he,ge){var Ue;for(G(re,ie-257,5),G(re,he-1,5),G(re,ge-4,4),Ue=0;Ue<ge;Ue++)G(re,re.bl_tree[2*j[Ue]+1],3);V(re,re.dyn_ltree,ie-1),V(re,re.dyn_dtree,he-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,oe+1),be(F,F.dyn_ltree,F.dyn_dtree)),le(F),ee&&se(F)},i._tr_tally=function(F,W,J){return F.pending_buf[F.d_buf+2*F.last_lit]=W>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&W,F.pending_buf[F.l_buf+F.last_lit]=255&J,F.last_lit++,W===0?F.dyn_ltree[2*J]++:(F.matches++,W--,F.dyn_ltree[2*(g[J]+f+1)]++,F.dyn_dtree[2*D(W)]++),F.last_lit===F.lit_bufsize-1},i._tr_align=function(F){G(F,2,3),K(F,v,H),function(W){W.bi_valid===16?(Z(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):8<=W.bi_valid&&(W.pending_buf[W.pending++]=255&W.bi_buf,W.bi_buf>>=8,W.bi_valid-=8)}(F)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(o,l){if(!o.setImmediate){var s,u,c,f,d=1,p={},b=!1,y=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,s={}.toString.call(o.process)==="[object process]"?function(x){process.nextTick(function(){h(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,S=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=S,x}}()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",v,!1):o.attachEvent("onmessage",v),function(x){o.postMessage(f+x,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(x){h(x.data)},function(x){c.port2.postMessage(x)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(x){var S=y.createElement("script");S.onreadystatechange=function(){h(x),S.onreadystatechange=null,u.removeChild(S),S=null},u.appendChild(S)}):function(x){setTimeout(h,0,x)},w.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var S=new Array(arguments.length-1),T=0;T<S.length;T++)S[T]=arguments[T+1];var I={callback:x,args:S};return p[d]=I,s(d),d++},w.clearImmediate=m}function m(x){delete p[x]}function h(x){if(b)setTimeout(h,0,x);else{var S=p[x];if(S){b=!0;try{(function(T){var I=T.callback,L=T.args;switch(L.length){case 0:I();break;case 1:I(L[0]);break;case 2:I(L[0],L[1]);break;case 3:I(L[0],L[1],L[2]);break;default:I.apply(l,L)}})(S)}finally{m(x),b=!1}}}}function v(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(f)===0&&h(+x.data.slice(f.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof cn<"u"?cn:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Jb);var cN=Jb.exports;const fN=Ei(cN);var e0={exports:{}};(function(e,t){(function(n,r){r()})(cn,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){s(d.response,c,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof cn=="object"&&cn.global===cn?cn:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,c,f){var d=o.URL||o.webkitURL,p=document.createElement("a");c=c||u.name||"download",p.download=c,p.rel="noopener",typeof u=="string"?(p.href=u,p.origin===location.origin?a(p):i(p.href)?r(u,c,f):a(p,p.target="_blank")):(p.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(p.href)},4e4),setTimeout(function(){a(p)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),c);else if(i(u))r(u,c,f);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){a(d)})}}:function(u,c,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var p=u.type==="application/octet-stream",b=/constructor/i.test(o.HTMLElement)||o.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||p&&b||l)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var v=w.result;v=y?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=v:location=v,d=null},w.readAsDataURL(u)}else{var m=o.URL||o.webkitURL,h=m.createObjectURL(u);d?d.location=h:location.href=h,d=null,setTimeout(function(){m.revokeObjectURL(h)},4e4)}});o.saveAs=s.saveAs=s,e.exports=s})})(e0);var pN=e0.exports;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function t0(e){return typeof e>"u"||e===null}function dN(e){return typeof e=="object"&&e!==null}function mN(e){return Array.isArray(e)?e:t0(e)?[]:[e]}function gN(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;n<r;n+=1)i=a[n],e[i]=t[i];return e}function hN(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function yN(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var bN=t0,vN=dN,wN=mN,_N=hN,xN=yN,kN=gN,We={isNothing:bN,isObject:vN,toArray:wN,repeat:_N,isNegativeZero:xN,extend:kN};function n0(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function Pa(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=n0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Pa.prototype=Object.create(Error.prototype);Pa.prototype.constructor=Pa;Pa.prototype.toString=function(t){return this.name+": "+n0(this,t)};var lt=Pa;function Ks(e,t,n,r,i){var a="",o="",l=Math.floor(i/2)-1;return r-t>l&&(a=" ... ",t=r-l+a.length),n-r>l&&(o=" ...",n=r+l-o.length),{str:a+e.slice(t,n).replace(/\t/g,"")+o,pos:r-t+a.length}}function Zs(e,t){return We.repeat(" ",t-e.length)+e}function SN(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,o=-1;a=n.exec(e.buffer);)i.push(a.index),r.push(a.index+a[0].length),e.position<=a.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var l="",s,u,c=Math.min(e.line+t.linesAfter,i.length).toString().length,f=t.maxLength-(t.indent+c+3);for(s=1;s<=t.linesBefore&&!(o-s<0);s++)u=Ks(e.buffer,r[o-s],i[o-s],e.position-(r[o]-r[o-s]),f),l=We.repeat(" ",t.indent)+Zs((e.line-s+1).toString(),c)+" | "+u.str+`
`+l;for(u=Ks(e.buffer,r[o],i[o],e.position,f),l+=We.repeat(" ",t.indent)+Zs((e.line+1).toString(),c)+" | "+u.str+`
`,l+=We.repeat("-",t.indent+c+3+u.pos)+`^
`,s=1;s<=t.linesAfter&&!(o+s>=i.length);s++)u=Ks(e.buffer,r[o+s],i[o+s],e.position-(r[o]-r[o+s]),f),l+=We.repeat(" ",t.indent)+Zs((e.line+s+1).toString(),c)+" | "+u.str+`
`;return l.replace(/\n$/,"")}var IN=SN,EN=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],FN=["scalar","sequence","mapping"];function NN(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function CN(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(EN.indexOf(n)===-1)throw new lt('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=NN(t.styleAliases||null),FN.indexOf(this.kind)===-1)throw new lt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Qe=CN;function fm(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(a,o){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=o)}),n[i]=r}),n}function AN(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function dc(e){return this.extend(e)}dc.prototype.extend=function(t){var n=[],r=[];if(t instanceof Qe)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new lt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof Qe))throw new lt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new lt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new lt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof Qe))throw new lt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(dc.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=fm(i,"implicit"),i.compiledExplicit=fm(i,"explicit"),i.compiledTypeMap=AN(i.compiledImplicit,i.compiledExplicit),i};var r0=dc,i0=new Qe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),a0=new Qe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),o0=new Qe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),l0=new r0({explicit:[i0,a0,o0]});function TN(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function ON(){return null}function RN(e){return e===null}var s0=new Qe("tag:yaml.org,2002:null",{kind:"scalar",resolve:TN,construct:ON,predicate:RN,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function PN(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function MN(e){return e==="true"||e==="True"||e==="TRUE"}function DN(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var u0=new Qe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:PN,construct:MN,predicate:DN,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function zN(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function LN(e){return 48<=e&&e<=55}function $N(e){return 48<=e&&e<=57}function UN(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!zN(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!LN(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!$N(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function jN(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function BN(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!We.isNegativeZero(e)}var c0=new Qe("tag:yaml.org,2002:int",{kind:"scalar",resolve:UN,construct:jN,predicate:BN,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),WN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function HN(e){return!(e===null||!WN.test(e)||e[e.length-1]==="_")}function VN(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var qN=/^[-+]?[0-9]+e/;function GN(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(We.isNegativeZero(e))return"-0.0";return n=e.toString(10),qN.test(n)?n.replace("e",".e"):n}function YN(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||We.isNegativeZero(e))}var f0=new Qe("tag:yaml.org,2002:float",{kind:"scalar",resolve:HN,construct:VN,predicate:YN,represent:GN,defaultStyle:"lowercase"}),p0=l0.extend({implicit:[s0,u0,c0,f0]}),d0=p0,m0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),g0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function KN(e){return e===null?!1:m0.exec(e)!==null||g0.exec(e)!==null}function ZN(e){var t,n,r,i,a,o,l,s=0,u=null,c,f,d;if(t=m0.exec(e),t===null&&(t=g0.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],o=+t[5],l=+t[6],t[7]){for(s=t[7].slice(0,3);s.length<3;)s+="0";s=+s}return t[9]&&(c=+t[10],f=+(t[11]||0),u=(c*60+f)*6e4,t[9]==="-"&&(u=-u)),d=new Date(Date.UTC(n,r,i,a,o,l,s)),u&&d.setTime(d.getTime()-u),d}function XN(e){return e.toISOString()}var h0=new Qe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:KN,construct:ZN,instanceOf:Date,represent:XN});function QN(e){return e==="<<"||e===null}var y0=new Qe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:QN}),$f=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function JN(e){if(e===null)return!1;var t,n,r=0,i=e.length,a=$f;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function eC(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=$f,o=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)),o=o<<6|a.indexOf(r.charAt(t));return n=i%4*6,n===0?(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)):n===18?(l.push(o>>10&255),l.push(o>>2&255)):n===12&&l.push(o>>4&255),new Uint8Array(l)}function tC(e){var t="",n=0,r,i,a=e.length,o=$f;for(r=0;r<a;r++)r%3===0&&r&&(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]),n=(n<<8)+e[r];return i=a%3,i===0?(t+=o[n>>18&63],t+=o[n>>12&63],t+=o[n>>6&63],t+=o[n&63]):i===2?(t+=o[n>>10&63],t+=o[n>>4&63],t+=o[n<<2&63],t+=o[64]):i===1&&(t+=o[n>>2&63],t+=o[n<<4&63],t+=o[64],t+=o[64]),t}function nC(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var b0=new Qe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:JN,construct:eC,predicate:nC,represent:tC}),rC=Object.prototype.hasOwnProperty,iC=Object.prototype.toString;function aC(e){if(e===null)return!0;var t=[],n,r,i,a,o,l=e;for(n=0,r=l.length;n<r;n+=1){if(i=l[n],o=!1,iC.call(i)!=="[object Object]")return!1;for(a in i)if(rC.call(i,a))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function oC(e){return e!==null?e:[]}var v0=new Qe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:aC,construct:oC}),lC=Object.prototype.toString;function sC(e){if(e===null)return!0;var t,n,r,i,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1){if(r=o[t],lC.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[t]=[i[0],r[i[0]]]}return!0}function uC(e){if(e===null)return[];var t,n,r,i,a,o=e;for(a=new Array(o.length),t=0,n=o.length;t<n;t+=1)r=o[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var w0=new Qe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:sC,construct:uC}),cC=Object.prototype.hasOwnProperty;function fC(e){if(e===null)return!0;var t,n=e;for(t in n)if(cC.call(n,t)&&n[t]!==null)return!1;return!0}function pC(e){return e!==null?e:{}}var _0=new Qe("tag:yaml.org,2002:set",{kind:"mapping",resolve:fC,construct:pC}),Uf=d0.extend({implicit:[h0,y0],explicit:[b0,v0,w0,_0]}),Jn=Object.prototype.hasOwnProperty,Sl=1,x0=2,k0=3,Il=4,Xs=1,dC=2,pm=3,mC=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,gC=/[\x85\u2028\u2029]/,hC=/[,\[\]\{\}]/,S0=/^(?:!|!!|![a-z\-]+!)$/i,I0=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function dm(e){return Object.prototype.toString.call(e)}function rn(e){return e===10||e===13}function _r(e){return e===9||e===32}function mt(e){return e===9||e===32||e===10||e===13}function ni(e){return e===44||e===91||e===93||e===123||e===125}function yC(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function bC(e){return e===120?2:e===117?4:e===85?8:0}function vC(e){return 48<=e&&e<=57?e-48:-1}function mm(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function wC(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var E0=new Array(256),F0=new Array(256);for(var Ur=0;Ur<256;Ur++)E0[Ur]=mm(Ur)?1:0,F0[Ur]=mm(Ur);function _C(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Uf,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function N0(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=IN(n),new lt(t,n)}function de(e,t){throw N0(e,t)}function El(e,t){e.onWarning&&e.onWarning.call(null,N0(e,t))}var gm={YAML:function(t,n,r){var i,a,o;t.version!==null&&de(t,"duplication of %YAML directive"),r.length!==1&&de(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&de(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),o=parseInt(i[2],10),a!==1&&de(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&El(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,a;r.length!==2&&de(t,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],S0.test(i)||de(t,"ill-formed tag handle (first argument) of the TAG directive"),Jn.call(t.tagMap,i)&&de(t,'there is a previously declared suffix for "'+i+'" tag handle'),I0.test(a)||de(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{de(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function Zn(e,t,n,r){var i,a,o,l;if(t<n){if(l=e.input.slice(t,n),r)for(i=0,a=l.length;i<a;i+=1)o=l.charCodeAt(i),o===9||32<=o&&o<=1114111||de(e,"expected valid JSON character");else mC.test(l)&&de(e,"the stream contains non-printable characters");e.result+=l}}function hm(e,t,n,r){var i,a,o,l;for(We.isObject(n)||de(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,l=i.length;o<l;o+=1)a=i[o],Jn.call(t,a)||(t[a]=n[a],r[a]=!0)}function ri(e,t,n,r,i,a,o,l,s){var u,c;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,c=i.length;u<c;u+=1)Array.isArray(i[u])&&de(e,"nested arrays are not supported inside keys"),typeof i=="object"&&dm(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&dm(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,c=a.length;u<c;u+=1)hm(e,t,a[u],n);else hm(e,t,a,n);else!e.json&&!Jn.call(n,i)&&Jn.call(t,i)&&(e.line=o||e.line,e.lineStart=l||e.lineStart,e.position=s||e.position,de(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function jf(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):de(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function $e(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;_r(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(rn(i))for(jf(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&El(e,"deficient indentation"),r}function is(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||mt(n)))}function Bf(e,t){t===1?e.result+=" ":t>1&&(e.result+=We.repeat(`
`,t-1))}function xC(e,t,n){var r,i,a,o,l,s,u,c,f=e.kind,d=e.result,p;if(p=e.input.charCodeAt(e.position),mt(p)||ni(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),mt(i)||n&&ni(i)))return!1;for(e.kind="scalar",e.result="",a=o=e.position,l=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),mt(i)||n&&ni(i))break}else if(p===35){if(r=e.input.charCodeAt(e.position-1),mt(r))break}else{if(e.position===e.lineStart&&is(e)||n&&ni(p))break;if(rn(p))if(s=e.line,u=e.lineStart,c=e.lineIndent,$e(e,!1,-1),e.lineIndent>=t){l=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=s,e.lineStart=u,e.lineIndent=c;break}}l&&(Zn(e,a,o,!1),Bf(e,e.line-s),a=o=e.position,l=!1),_r(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Zn(e,a,o,!1),e.result?!0:(e.kind=f,e.result=d,!1)}function kC(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Zn(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else rn(n)?(Zn(e,r,i,!0),Bf(e,$e(e,!1,t)),r=i=e.position):e.position===e.lineStart&&is(e)?de(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);de(e,"unexpected end of the stream within a single quoted scalar")}function SC(e,t){var n,r,i,a,o,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return Zn(e,n,e.position,!0),e.position++,!0;if(l===92){if(Zn(e,n,e.position,!0),l=e.input.charCodeAt(++e.position),rn(l))$e(e,!1,t);else if(l<256&&E0[l])e.result+=F0[l],e.position++;else if((o=bC(l))>0){for(i=o,a=0;i>0;i--)l=e.input.charCodeAt(++e.position),(o=yC(l))>=0?a=(a<<4)+o:de(e,"expected hexadecimal character");e.result+=wC(a),e.position++}else de(e,"unknown escape sequence");n=r=e.position}else rn(l)?(Zn(e,n,r,!0),Bf(e,$e(e,!1,t)),n=r=e.position):e.position===e.lineStart&&is(e)?de(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}de(e,"unexpected end of the stream within a double quoted scalar")}function IC(e,t){var n=!0,r,i,a,o=e.tag,l,s=e.anchor,u,c,f,d,p,b=Object.create(null),y,w,m,h;if(h=e.input.charCodeAt(e.position),h===91)c=93,p=!1,l=[];else if(h===123)c=125,p=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),h=e.input.charCodeAt(++e.position);h!==0;){if($e(e,!0,t),h=e.input.charCodeAt(e.position),h===c)return e.position++,e.tag=o,e.anchor=s,e.kind=p?"mapping":"sequence",e.result=l,!0;n?h===44&&de(e,"expected the node content, but found ','"):de(e,"missed comma between flow collection entries"),w=y=m=null,f=d=!1,h===63&&(u=e.input.charCodeAt(e.position+1),mt(u)&&(f=d=!0,e.position++,$e(e,!0,t))),r=e.line,i=e.lineStart,a=e.position,Ii(e,t,Sl,!1,!0),w=e.tag,y=e.result,$e(e,!0,t),h=e.input.charCodeAt(e.position),(d||e.line===r)&&h===58&&(f=!0,h=e.input.charCodeAt(++e.position),$e(e,!0,t),Ii(e,t,Sl,!1,!0),m=e.result),p?ri(e,l,b,w,y,m,r,i,a):f?l.push(ri(e,null,b,w,y,m,r,i,a)):l.push(y),$e(e,!0,t),h=e.input.charCodeAt(e.position),h===44?(n=!0,h=e.input.charCodeAt(++e.position)):n=!1}de(e,"unexpected end of the stream within a flow collection")}function EC(e,t){var n,r,i=Xs,a=!1,o=!1,l=t,s=0,u=!1,c,f;if(f=e.input.charCodeAt(e.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)Xs===i?i=f===43?pm:dC:de(e,"repeat of a chomping mode identifier");else if((c=vC(f))>=0)c===0?de(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?de(e,"repeat of an indentation width identifier"):(l=t+c-1,o=!0);else break;if(_r(f)){do f=e.input.charCodeAt(++e.position);while(_r(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!rn(f)&&f!==0)}for(;f!==0;){for(jf(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<l)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>l&&(l=e.lineIndent),rn(f)){s++;continue}if(e.lineIndent<l){i===pm?e.result+=We.repeat(`
`,a?1+s:s):i===Xs&&a&&(e.result+=`
`);break}for(r?_r(f)?(u=!0,e.result+=We.repeat(`
`,a?1+s:s)):u?(u=!1,e.result+=We.repeat(`
`,s+1)):s===0?a&&(e.result+=" "):e.result+=We.repeat(`
`,s):e.result+=We.repeat(`
`,a?1+s:s),a=!0,o=!0,s=0,n=e.position;!rn(f)&&f!==0;)f=e.input.charCodeAt(++e.position);Zn(e,n,e.position,!1)}return!0}function ym(e,t){var n,r=e.tag,i=e.anchor,a=[],o,l=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,de(e,"tab characters must not be used in indentation")),!(s!==45||(o=e.input.charCodeAt(e.position+1),!mt(o))));){if(l=!0,e.position++,$e(e,!0,-1)&&e.lineIndent<=t){a.push(null),s=e.input.charCodeAt(e.position);continue}if(n=e.line,Ii(e,t,k0,!1,!0),a.push(e.result),$e(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&s!==0)de(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function FC(e,t,n){var r,i,a,o,l,s,u=e.tag,c=e.anchor,f={},d=Object.create(null),p=null,b=null,y=null,w=!1,m=!1,h;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),h=e.input.charCodeAt(e.position);h!==0;){if(!w&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,de(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,(h===63||h===58)&&mt(r))h===63?(w&&(ri(e,f,d,p,b,null,o,l,s),p=b=y=null),m=!0,w=!0,i=!0):w?(w=!1,i=!0):de(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,h=r;else{if(o=e.line,l=e.lineStart,s=e.position,!Ii(e,n,x0,!1,!0))break;if(e.line===a){for(h=e.input.charCodeAt(e.position);_r(h);)h=e.input.charCodeAt(++e.position);if(h===58)h=e.input.charCodeAt(++e.position),mt(h)||de(e,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(ri(e,f,d,p,b,null,o,l,s),p=b=y=null),m=!0,w=!1,i=!1,p=e.tag,b=e.result;else if(m)de(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=c,!0}else if(m)de(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=c,!0}if((e.line===a||e.lineIndent>t)&&(w&&(o=e.line,l=e.lineStart,s=e.position),Ii(e,t,Il,!0,i)&&(w?b=e.result:y=e.result),w||(ri(e,f,d,p,b,y,o,l,s),p=b=y=null),$e(e,!0,-1),h=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&h!==0)de(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return w&&ri(e,f,d,p,b,null,o,l,s),m&&(e.tag=u,e.anchor=c,e.kind="mapping",e.result=f),m}function NC(e){var t,n=!1,r=!1,i,a,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&de(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(n=!0,o=e.input.charCodeAt(++e.position)):o===33?(r=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(a=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):de(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!mt(o);)o===33&&(r?de(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),S0.test(i)||de(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),hC.test(a)&&de(e,"tag suffix cannot contain flow indicator characters")}a&&!I0.test(a)&&de(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{de(e,"tag name is malformed: "+a)}return n?e.tag=a:Jn.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:de(e,'undeclared tag handle "'+i+'"'),!0}function CC(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&de(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!mt(n)&&!ni(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&de(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function AC(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!mt(r)&&!ni(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&de(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Jn.call(e.anchorMap,n)||de(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],$e(e,!0,-1),!0}function Ii(e,t,n,r,i){var a,o,l,s=1,u=!1,c=!1,f,d,p,b,y,w;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=o=l=Il===n||k0===n,r&&$e(e,!0,-1)&&(u=!0,e.lineIndent>t?s=1:e.lineIndent===t?s=0:e.lineIndent<t&&(s=-1)),s===1)for(;NC(e)||CC(e);)$e(e,!0,-1)?(u=!0,l=a,e.lineIndent>t?s=1:e.lineIndent===t?s=0:e.lineIndent<t&&(s=-1)):l=!1;if(l&&(l=u||i),(s===1||Il===n)&&(Sl===n||x0===n?y=t:y=t+1,w=e.position-e.lineStart,s===1?l&&(ym(e,w)||FC(e,w,y))||IC(e,y)?c=!0:(o&&EC(e,y)||kC(e,y)||SC(e,y)?c=!0:AC(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&de(e,"alias node should not have any properties")):xC(e,y,Sl===n)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(c=l&&ym(e,w))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&de(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,d=e.implicitTypes.length;f<d;f+=1)if(b=e.implicitTypes[f],b.resolve(e.result)){e.result=b.construct(e.result),e.tag=b.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Jn.call(e.typeMap[e.kind||"fallback"],e.tag))b=e.typeMap[e.kind||"fallback"][e.tag];else for(b=null,p=e.typeMap.multi[e.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(e.tag.slice(0,p[f].tag.length)===p[f].tag){b=p[f];break}b||de(e,"unknown tag !<"+e.tag+">"),e.result!==null&&b.kind!==e.kind&&de(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+b.kind+'", not "'+e.kind+'"'),b.resolve(e.result,e.tag)?(e.result=b.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):de(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function TC(e){var t=e.position,n,r,i,a=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&($e(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(a=!0,o=e.input.charCodeAt(++e.position),n=e.position;o!==0&&!mt(o);)o=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&de(e,"directive name must not be less than one character in length");o!==0;){for(;_r(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!rn(o));break}if(rn(o))break;for(n=e.position;o!==0&&!mt(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}o!==0&&jf(e),Jn.call(gm,r)?gm[r](e,r,i):El(e,'unknown document directive "'+r+'"')}if($e(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,$e(e,!0,-1)):a&&de(e,"directives end mark is expected"),Ii(e,e.lineIndent-1,Il,!1,!0),$e(e,!0,-1),e.checkLineBreaks&&gC.test(e.input.slice(t,e.position))&&El(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&is(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,$e(e,!0,-1));return}if(e.position<e.length-1)de(e,"end of the stream or a document separator is expected");else return}function C0(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new _C(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,de(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)TC(n);return n.documents}function OC(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=C0(e,n);if(typeof t!="function")return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}function RC(e,t){var n=C0(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new lt("expected a single document in the stream, but found more")}}var PC=OC,MC=RC,A0={loadAll:PC,load:MC},T0=Object.prototype.toString,O0=Object.prototype.hasOwnProperty,Wf=65279,DC=9,Ma=10,zC=13,LC=32,$C=33,UC=34,mc=35,jC=37,BC=38,WC=39,HC=42,R0=44,VC=45,Fl=58,qC=61,GC=62,YC=63,KC=64,P0=91,M0=93,ZC=96,D0=123,XC=124,z0=125,at={};at[0]="\\0";at[7]="\\a";at[8]="\\b";at[9]="\\t";at[10]="\\n";at[11]="\\v";at[12]="\\f";at[13]="\\r";at[27]="\\e";at[34]='\\"';at[92]="\\\\";at[133]="\\N";at[160]="\\_";at[8232]="\\L";at[8233]="\\P";var QC=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],JC=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function e3(e,t){var n,r,i,a,o,l,s;if(t===null)return{};for(n={},r=Object.keys(t),i=0,a=r.length;i<a;i+=1)o=r[i],l=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),s=e.compiledTypeMap.fallback[o],s&&O0.call(s.styleAliases,l)&&(l=s.styleAliases[l]),n[o]=l;return n}function t3(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new lt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+We.repeat("0",r-t.length)+t}var n3=1,Da=2;function r3(e){this.schema=e.schema||Uf,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=We.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=e3(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Da:n3,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function bm(e,t){for(var n=We.repeat(" ",t),r=0,i=-1,a="",o,l=e.length;r<l;)i=e.indexOf(`
`,r),i===-1?(o=e.slice(r),r=l):(o=e.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(a+=n),a+=o;return a}function gc(e,t){return`
`+We.repeat(" ",e.indent*t)}function i3(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function Nl(e){return e===LC||e===DC}function za(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Wf||65536<=e&&e<=1114111}function vm(e){return za(e)&&e!==Wf&&e!==zC&&e!==Ma}function wm(e,t,n){var r=vm(e),i=r&&!Nl(e);return(n?r:r&&e!==R0&&e!==P0&&e!==M0&&e!==D0&&e!==z0)&&e!==mc&&!(t===Fl&&!i)||vm(t)&&!Nl(t)&&e===mc||t===Fl&&i}function a3(e){return za(e)&&e!==Wf&&!Nl(e)&&e!==VC&&e!==YC&&e!==Fl&&e!==R0&&e!==P0&&e!==M0&&e!==D0&&e!==z0&&e!==mc&&e!==BC&&e!==HC&&e!==$C&&e!==XC&&e!==qC&&e!==GC&&e!==WC&&e!==UC&&e!==jC&&e!==KC&&e!==ZC}function o3(e){return!Nl(e)&&e!==Fl}function Ji(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function L0(e){var t=/^\n* /;return t.test(e)}var $0=1,hc=2,U0=3,j0=4,jr=5;function l3(e,t,n,r,i,a,o,l){var s,u=0,c=null,f=!1,d=!1,p=r!==-1,b=-1,y=a3(Ji(e,0))&&o3(Ji(e,e.length-1));if(t||o)for(s=0;s<e.length;u>=65536?s+=2:s++){if(u=Ji(e,s),!za(u))return jr;y=y&&wm(u,c,l),c=u}else{for(s=0;s<e.length;u>=65536?s+=2:s++){if(u=Ji(e,s),u===Ma)f=!0,p&&(d=d||s-b-1>r&&e[b+1]!==" ",b=s);else if(!za(u))return jr;y=y&&wm(u,c,l),c=u}d=d||p&&s-b-1>r&&e[b+1]!==" "}return!f&&!d?y&&!o&&!i(e)?$0:a===Da?jr:hc:n>9&&L0(e)?jr:o?a===Da?jr:hc:d?j0:U0}function s3(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===Da?'""':"''";if(!e.noCompatMode&&(QC.indexOf(t)!==-1||JC.test(t)))return e.quotingType===Da?'"'+t+'"':"'"+t+"'";var a=e.indent*Math.max(1,n),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-a),l=r||e.flowLevel>-1&&n>=e.flowLevel;function s(u){return i3(e,u)}switch(l3(t,l,e.indent,o,s,e.quotingType,e.forceQuotes&&!r,i)){case $0:return t;case hc:return"'"+t.replace(/'/g,"''")+"'";case U0:return"|"+_m(t,e.indent)+xm(bm(t,a));case j0:return">"+_m(t,e.indent)+xm(bm(u3(t,o),a));case jr:return'"'+c3(t)+'"';default:throw new lt("impossible error: invalid scalar style")}}()}function _m(e,t){var n=L0(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),a=i?"+":r?"":"-";return n+a+`
`}function xm(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function u3(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,n.lastIndex=u,km(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",a,o;o=n.exec(e);){var l=o[1],s=o[2];a=s[0]===" ",r+=l+(!i&&!a&&s!==""?`
`:"")+km(s,t),i=a}return r}function km(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,a,o=0,l=0,s="";r=n.exec(e);)l=r.index,l-i>t&&(a=o>i?o:l,s+=`
`+e.slice(i,a),i=a+1),o=l;return s+=`
`,e.length-i>t&&o>i?s+=e.slice(i,o)+`
`+e.slice(o+1):s+=e.slice(i),s.slice(1)}function c3(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=Ji(e,i),r=at[n],!r&&za(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||t3(n);return t}function f3(e,t,n){var r="",i=e.tag,a,o,l;for(a=0,o=n.length;a<o;a+=1)l=n[a],e.replacer&&(l=e.replacer.call(n,String(a),l)),(Sn(e,t,l,!1,!1)||typeof l>"u"&&Sn(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function Sm(e,t,n,r){var i="",a=e.tag,o,l,s;for(o=0,l=n.length;o<l;o+=1)s=n[o],e.replacer&&(s=e.replacer.call(n,String(o),s)),(Sn(e,t+1,s,!0,!0,!1,!0)||typeof s>"u"&&Sn(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=gc(e,t)),e.dump&&Ma===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=a,e.dump=i||"[]"}function p3(e,t,n){var r="",i=e.tag,a=Object.keys(n),o,l,s,u,c;for(o=0,l=a.length;o<l;o+=1)c="",r!==""&&(c+=", "),e.condenseFlow&&(c+='"'),s=a[o],u=n[s],e.replacer&&(u=e.replacer.call(n,s,u)),Sn(e,t,s,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Sn(e,t,u,!1,!1)&&(c+=e.dump,r+=c));e.tag=i,e.dump="{"+r+"}"}function d3(e,t,n,r){var i="",a=e.tag,o=Object.keys(n),l,s,u,c,f,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new lt("sortKeys must be a boolean or a function");for(l=0,s=o.length;l<s;l+=1)d="",(!r||i!=="")&&(d+=gc(e,t)),u=o[l],c=n[u],e.replacer&&(c=e.replacer.call(n,u,c)),Sn(e,t+1,u,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&Ma===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,f&&(d+=gc(e,t)),Sn(e,t+1,c,!0,f)&&(e.dump&&Ma===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=a,e.dump=i||"{}"}function Im(e,t,n){var r,i,a,o,l,s;for(i=n?e.explicitTypes:e.implicitTypes,a=0,o=i.length;a<o;a+=1)if(l=i[a],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(n?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(s=e.styleMap[l.tag]||l.defaultStyle,T0.call(l.represent)==="[object Function]")r=l.represent(t,s);else if(O0.call(l.represent,s))r=l.represent[s](t,s);else throw new lt("!<"+l.tag+'> tag resolver accepts not "'+s+'" style');e.dump=r}return!0}return!1}function Sn(e,t,n,r,i,a,o){e.tag=null,e.dump=n,Im(e,n,!1)||Im(e,n,!0);var l=T0.call(e.dump),s=r,u;r&&(r=e.flowLevel<0||e.flowLevel>t);var c=l==="[object Object]"||l==="[object Array]",f,d;if(c&&(f=e.duplicates.indexOf(n),d=f!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(c&&d&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),l==="[object Object]")r&&Object.keys(e.dump).length!==0?(d3(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(p3(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(l==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Sm(e,t-1,e.dump,i):Sm(e,t,e.dump,i),d&&(e.dump="&ref_"+f+e.dump)):(f3(e,t,e.dump),d&&(e.dump="&ref_"+f+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&s3(e,e.dump,t,a,s);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new lt("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function m3(e,t){var n=[],r=[],i,a;for(yc(e,n,r),i=0,a=r.length;i<a;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(a)}function yc(e,t,n){var r,i,a;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,a=e.length;i<a;i+=1)yc(e[i],t,n);else for(r=Object.keys(e),i=0,a=r.length;i<a;i+=1)yc(e[r[i]],t,n)}function g3(e,t){t=t||{};var n=new r3(t);n.noRefs||m3(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Sn(n,0,r,!0,!0)?n.dump+`
`:""}var h3=g3,y3={dump:h3};function Hf(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var b3=Qe,v3=r0,w3=l0,_3=p0,x3=d0,k3=Uf,S3=A0.load,I3=A0.loadAll,E3=y3.dump,F3=lt,N3={binary:b0,float:f0,map:o0,null:s0,pairs:w0,set:_0,timestamp:h0,bool:u0,int:c0,merge:y0,omap:v0,seq:a0,str:i0},C3=Hf("safeLoad","load"),A3=Hf("safeLoadAll","loadAll"),T3=Hf("safeDump","dump"),bc={Type:b3,Schema:v3,FAILSAFE_SCHEMA:w3,JSON_SCHEMA:_3,CORE_SCHEMA:x3,DEFAULT_SCHEMA:k3,load:S3,loadAll:I3,dump:E3,YAMLException:F3,types:N3,safeLoad:C3,safeLoadAll:A3,safeDump:T3};function O3(e){var S,T;const t=new Set(e.nodes.filter(I=>{var L;return(L=I.data)==null?void 0:L.isDummy}).map(I=>I.id)),n=e.nodes.filter(I=>{var L;return!((L=I.data)!=null&&L.isDummy)}),r=e.edges.filter(I=>!t.has(I.source)&&!t.has(I.target)),i=new Map(n.map(I=>[I.id,I])),a=I=>i.get(I),o=new Map,l=new Map;for(const I of n)o.set(I.id,[]),l.set(I.id,[]);for(const I of r)(S=o.get(I.target))==null||S.push(I),(T=l.get(I.source))==null||T.push(I);const s=I=>o.get(I)||[],u=I=>l.get(I)||[],c=Object.fromEntries(n.map(I=>[I.id,0]));r.forEach(I=>c[I.target]++);const f=n.filter(I=>c[I.id]===0).map(I=>I.id),d=[];for(;f.length;){const I=f.shift();d.push(I),u(I).forEach(L=>{--c[L.target]===0&&f.push(L.target)})}if(d.length!==n.length)throw new Error("Workflow graph has cycles.");const p={},b={};d.forEach(I=>{const L=a(I),N=Vt[L.data.label],j=(N==null?void 0:N.id)||L.data.label.toLowerCase().replace(/[^a-z0-9]/g,"_");j in p||(p[j]=0),p[j]++,b[I]={toolId:j,count:p[j]}});const y=I=>{const{toolId:L,count:N}=b[I];return p[L]>1?`${L}_${N}`:L},w={cwlVersion:"v1.2",class:"Workflow",inputs:{},outputs:{},steps:{}},m=new Set(n.filter(I=>s(I.id).length===0).map(I=>I.id)),h=(I,L=!1)=>{if(!I)return L?["null","File"]:"File";if(I==="record")return null;if(I.endsWith("[]")){const j={type:"array",items:I.slice(0,-2)};return L?["null",j]:j}return I.endsWith("?")?["null",I.slice(0,-1)]:L?["null",I]:I},v=(I,L,N)=>N?L:`${I}_${L}`;d.forEach(I=>{const L=a(I),{label:N}=L.data,j=Vt[N],H={id:N.toLowerCase().replace(/[^a-z0-9]/g,"_"),cwlPath:`cwl/generic/${N.toLowerCase().replace(/[^a-z0-9]/g,"_")}.cwl`,requiredInputs:{input:{type:"File",passthrough:!0,label:"Input"}},optionalInputs:{},outputs:{output:{type:"File",label:"Output"}}},C=j||H,R=y(I),g=s(I),A=n.length===1,U={run:`../${C.cwlPath}`,in:{},out:Object.keys(C.outputs)};Object.entries(C.requiredInputs).forEach(([k,B])=>{var Z,G,K;const{type:P,passthrough:D}=B;if(D)if(g.length>0){const ae=g[0],ue=y(ae.source),le=(G=(Z=ae.data)==null?void 0:Z.mappings)==null?void 0:G.find(se=>se.targetInput===k);if(le)U.in[k]=`${ue}/${le.sourceOutput}`;else{const se=a(ae.source),ce=Vt[se.data.label];(K=ce==null?void 0:ce.primaryOutputs)!=null&&K[0]?U.in[k]=`${ue}/${ce.primaryOutputs[0]}`:U.in[k]=`${ue}/output`}}else{const ae=m.size===1?"input_file":`${R}_input_file`;w.inputs[ae]={type:h(P)},U.in[k]=ae}else{const ae=v(R,k,A);w.inputs[ae]={type:h(P)},U.in[k]=ae}}),C.optionalInputs&&Object.entries(C.optionalInputs).forEach(([k,B])=>{const{type:P}=B;if(P==="record"){const Z=v(R,k,A);w.inputs[Z]={type:["null","Any"]},U.in[k]=Z;return}const D=v(R,k,A);w.inputs[D]={type:h(P,!0)},U.in[k]=D});const $=L.data.dockerVersion||"latest",O=C.dockerImage;O&&(U.hints={DockerRequirement:{dockerPull:`${O}:${$}`}}),w.steps[R]=U});const x=n.filter(I=>u(I.id).length===0);return x.forEach(I=>{const L=Vt[I.data.label],N=(L==null?void 0:L.outputs)||{output:{type:"File",label:"Output"}},j=y(I.id),H=x.length===1;Object.entries(N).forEach(([C,R])=>{const g=H?C:`${j}_${C}`,A=h(R.type);w.outputs[g]={type:A,outputSource:`${j}/${C}`}})}),bc.dump(w,{noRefs:!0})}function R3(){const{showError:e,showWarning:t}=Lf(),n=i=>!i||typeof i!="string"?"main":i.trim().toLowerCase().replace(/\.\./g,"").replace(/[/\\]/g,"").replace(/[^a-z0-9_-]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").slice(0,50)||"main";return{generateWorkflow:async(i,a="")=>{if(typeof i!="function"){console.error("generateWorkflow expects a function");return}const o=i();if(!o||!o.nodes||o.nodes.length===0){t("Empty workflow  nothing to export.");return}const l=n(a);let s;try{s=O3(o)}catch(y){e(`Workflow build failed: ${y.message}`);return}s=`#!/usr/bin/env cwl-runner

`+s;const c=new fN;c.file(`workflows/${l}.cwl`,s);const f="/niBuild/".replace(/\/?$/,"/");try{const y=await fetch(`${f}README.md`);if(y.ok){let w=await y.text();w=w.replace(/main\.cwl/g,`${l}.cwl`),c.file("README.md",w)}}catch(y){console.warn("Could not fetch README.md:",y.message)}const d={};o.nodes.forEach(y=>{const w=Vt[y.data.label];if(w!=null&&w.cwlPath&&(w!=null&&w.dockerImage)){const m=y.data.dockerVersion||"latest";(!d[w.cwlPath]||d[w.cwlPath].dockerVersion==="latest"&&m!=="latest")&&(d[w.cwlPath]={dockerImage:w.dockerImage,dockerVersion:m})}});const p=[...new Set(o.nodes.map(y=>{var w;return(w=Vt[y.data.label])==null?void 0:w.cwlPath}).filter(Boolean))];try{for(const y of p){const w=await fetch(`${f}${y}`);if(!w.ok)throw new Error(`${w.status} ${w.statusText}`);let m=await w.text();const h=d[y];if(h)try{const v=bc.load(m);v.hints||(v.hints={}),v.hints.DockerRequirement={dockerPull:`${h.dockerImage}:${h.dockerVersion}`},m=(m.startsWith("#!/")?m.split(`
`)[0]+`

`:"")+bc.dump(v,{noRefs:!0,lineWidth:-1})}catch(v){console.warn(`Could not parse CWL file ${y} for Docker injection:`,v.message)}c.file(y,m)}}catch(y){e(`Unable to fetch tool file: ${y.message}`);return}const b=await c.generateAsync({type:"blob"});pN.saveAs(b,"workflow_bundle.zip")}}}function P3(){var d;const{workspaces:e,currentWorkspace:t,setCurrentWorkspace:n,addNewWorkspace:r,clearCurrentWorkspace:i,updateCurrentWorkspaceItems:a,removeCurrentWorkspace:o,updateWorkspaceName:l}=uN(),s=((d=e[t])==null?void 0:d.name)||"",[u,c]=E.useState(null),{generateWorkflow:f}=R3();return M.jsx("div",{children:M.jsxs("div",{className:"app-layout",children:[M.jsx(Ek,{}),M.jsxs("div",{className:"toolbar-row",children:[M.jsx(q_,{onNewWorkspace:r,onClearWorkspace:i,onRemoveWorkspace:o,workspaceCount:e.length,onGenerateWorkflow:()=>f(u,s)}),M.jsx(lN,{name:s,onNameChange:l})]}),M.jsxs("div",{className:"workflow-content",children:[M.jsxs("div",{className:"workflow-content-main",children:[M.jsx(Ak,{}),M.jsx(oN,{workflowItems:e[t],updateCurrentWorkspaceItems:a,onSetWorkflowData:c})]}),M.jsx(Tk,{current:t,workspaces:e,onChange:n})]}),M.jsx(sN,{})]})})}Qs.createRoot(document.getElementById("root")).render(M.jsx(GF,{children:M.jsx(P3,{})}));
